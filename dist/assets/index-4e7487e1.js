function $f(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jc={exports:{}},mi={},Gc={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=Symbol.for("react.element"),Ff=Symbol.for("react.portal"),Uf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Yf=Symbol.for("react.memo"),Kf=Symbol.for("react.lazy"),po=Symbol.iterator;function Xf(e){return e===null||typeof e!="object"?null:(e=po&&e[po]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eu=Object.assign,tu={};function Kn(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||Zc}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nu(){}nu.prototype=Kn.prototype;function ha(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||Zc}var ma=ha.prototype=new nu;ma.constructor=ha;eu(ma,Kn.prototype);ma.isPureReactComponent=!0;var xo=Array.isArray,ru=Object.prototype.hasOwnProperty,pa={current:null},su={key:!0,ref:!0,__self:!0,__source:!0};function iu(e,t,n){var r,i={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)ru.call(t,r)&&!su.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Kr,type:e,key:l,ref:a,props:i,_owner:pa.current}}function Jf(e,t){return{$$typeof:Kr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kr}function Gf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var go=/\/+/g;function Pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gf(""+e.key):t.toString(36)}function Ss(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Kr:case Ff:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Pi(a,0):r,xo(i)?(n="",e!=null&&(n=e.replace(go,"$&/")+"/"),Ss(i,t,n,"",function(u){return u})):i!=null&&(xa(i)&&(i=Jf(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(go,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",xo(e))for(var c=0;c<e.length;c++){l=e[c];var o=r+Pi(l,c);a+=Ss(l,t,n,o,i)}else if(o=Xf(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=r+Pi(l,c++),a+=Ss(l,t,n,o,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ss(e,t,n){if(e==null)return e;var r=[],i=0;return Ss(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Zf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},ks={transition:null},eh={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ks,ReactCurrentOwner:pa};function lu(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:ss,forEach:function(e,t,n){ss(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ss(e,function(){t++}),t},toArray:function(e){return ss(e,function(t){return t})||[]},only:function(e){if(!xa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=Kn;D.Fragment=Uf;D.Profiler=Bf;D.PureComponent=ha;D.StrictMode=qf;D.Suspense=Hf;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh;D.act=lu;D.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eu({},e.props),i=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=pa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)ru.call(t,o)&&!su.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Kr,type:e.type,key:i,ref:l,props:r,_owner:a}};D.createContext=function(e){return e={$$typeof:Qf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};D.createElement=iu;D.createFactory=function(e){var t=iu.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Wf,render:e}};D.isValidElement=xa;D.lazy=function(e){return{$$typeof:Kf,_payload:{_status:-1,_result:e},_init:Zf}};D.memo=function(e,t){return{$$typeof:Yf,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=ks.transition;ks.transition={};try{e()}finally{ks.transition=t}};D.unstable_act=lu;D.useCallback=function(e,t){return Se.current.useCallback(e,t)};D.useContext=function(e){return Se.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};D.useEffect=function(e,t){return Se.current.useEffect(e,t)};D.useId=function(){return Se.current.useId()};D.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};D.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return Se.current.useMemo(e,t)};D.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};D.useRef=function(e){return Se.current.useRef(e)};D.useState=function(e){return Se.current.useState(e)};D.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};D.useTransition=function(){return Se.current.useTransition()};D.version="18.3.1";Gc.exports=D;var N=Gc.exports;const Xn=zf(N),th=$f({__proto__:null,default:Xn},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=N,rh=Symbol.for("react.element"),sh=Symbol.for("react.fragment"),ih=Object.prototype.hasOwnProperty,lh=nh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ah={key:!0,ref:!0,__self:!0,__source:!0};function au(e,t,n){var r,i={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ih.call(t,r)&&!ah.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:rh,type:e,key:l,ref:a,props:i,_owner:lh.current}}mi.Fragment=sh;mi.jsx=au;mi.jsxs=au;Jc.exports=mi;var s=Jc.exports,ml={},ou={exports:{}},Oe={},cu={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,k){var R=T.length;T.push(k);e:for(;0<R;){var $=R-1>>>1,ne=T[$];if(0<i(ne,k))T[$]=k,T[R]=ne,R=$;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var k=T[0],R=T.pop();if(R!==k){T[0]=R;e:for(var $=0,ne=T.length,pn=ne>>>1;$<pn;){var Yt=2*($+1)-1,Ii=T[Yt],Kt=Yt+1,rs=T[Kt];if(0>i(Ii,R))Kt<ne&&0>i(rs,Ii)?(T[$]=rs,T[Kt]=R,$=Kt):(T[$]=Ii,T[Yt]=R,$=Yt);else if(Kt<ne&&0>i(rs,R))T[$]=rs,T[Kt]=R,$=Kt;else break e}}return k}function i(T,k){var R=T.sortIndex-k.sortIndex;return R!==0?R:T.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var o=[],u=[],x=1,m=null,p=3,w=!1,f=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=T)r(u),k.sortIndex=k.expirationTime,t(o,k);else break;k=n(u)}}function S(T){if(j=!1,y(T),!f)if(n(o)!==null)f=!0,pe(g);else{var k=n(u);k!==null&&ut(S,k.startTime-T)}}function g(T,k){f=!1,j&&(j=!1,h(C),C=-1),w=!0;var R=p;try{for(y(k),m=n(o);m!==null&&(!(m.expirationTime>k)||T&&!L());){var $=m.callback;if(typeof $=="function"){m.callback=null,p=m.priorityLevel;var ne=$(m.expirationTime<=k);k=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(o)&&r(o),y(k)}else r(o);m=n(o)}if(m!==null)var pn=!0;else{var Yt=n(u);Yt!==null&&ut(S,Yt.startTime-k),pn=!1}return pn}finally{m=null,p=R,w=!1}}var _=!1,E=null,C=-1,M=5,A=-1;function L(){return!(e.unstable_now()-A<M)}function P(){if(E!==null){var T=e.unstable_now();A=T;var k=!0;try{k=E(!0,T)}finally{k?O():(_=!1,E=null)}}else _=!1}var O;if(typeof d=="function")O=function(){d(P)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,H=$e.port2;$e.port1.onmessage=P,O=function(){H.postMessage(null)}}else O=function(){v(P,0)};function pe(T){E=T,_||(_=!0,O())}function ut(T,k){C=v(function(){T(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){f||w||(f=!0,pe(g))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var R=p;p=k;try{return T()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,k){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=p;p=T;try{return k()}finally{p=R}},e.unstable_scheduleCallback=function(T,k,R){var $=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,T){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=R+ne,T={id:x++,callback:k,priorityLevel:T,startTime:R,expirationTime:ne,sortIndex:-1},R>$?(T.sortIndex=R,t(u,T),n(o)===null&&T===n(u)&&(j?(h(C),C=-1):j=!0,ut(S,R-$))):(T.sortIndex=ne,t(o,T),f||w||(f=!0,pe(g))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var k=p;return function(){var R=p;p=k;try{return T.apply(this,arguments)}finally{p=R}}}})(uu);cu.exports=uu;var oh=cu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=N,Pe=oh;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var du=new Set,kr={};function fn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(kr[e]=t,e=0;e<t.length;e++)du.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=Object.prototype.hasOwnProperty,uh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yo={},vo={};function dh(e){return pl.call(vo,e)?!0:pl.call(yo,e)?!1:uh.test(e)?vo[e]=!0:(yo[e]=!0,!1)}function fh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hh(e,t,n,r){if(t===null||typeof t>"u"||fh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,i,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var ga=/[\-:]([a-z])/g;function ya(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ga,ya);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ga,ya);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ga,ya);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function va(e,t,n,r){var i=me.hasOwnProperty(t)?me[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hh(t,n,i,r)&&(n=null),r||i===null?dh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var St=ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),wa=Symbol.for("react.strict_mode"),xl=Symbol.for("react.profiler"),fu=Symbol.for("react.provider"),hu=Symbol.for("react.context"),ja=Symbol.for("react.forward_ref"),gl=Symbol.for("react.suspense"),yl=Symbol.for("react.suspense_list"),Na=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),mu=Symbol.for("react.offscreen"),wo=Symbol.iterator;function er(e){return e===null||typeof e!="object"?null:(e=wo&&e[wo]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,Oi;function or(e){if(Oi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oi=t&&t[1]||""}return`
`+Oi+e}var Di=!1;function $i(e,t){if(!e||Di)return"";Di=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),a=i.length-1,c=l.length-1;1<=a&&0<=c&&i[a]!==l[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==l[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==l[c]){var o=`
`+i[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=c);break}}}finally{Di=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?or(e):""}function mh(e){switch(e.tag){case 5:return or(e.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return e=$i(e.type,!1),e;case 11:return e=$i(e.type.render,!1),e;case 1:return e=$i(e.type,!0),e;default:return""}}function vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case xl:return"Profiler";case wa:return"StrictMode";case gl:return"Suspense";case yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hu:return(e.displayName||"Context")+".Consumer";case fu:return(e._context.displayName||"Context")+".Provider";case ja:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Na:return t=e.displayName||null,t!==null?t:vl(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return vl(e(t))}catch{}}return null}function ph(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vl(t);case 8:return t===wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xh(e){var t=pu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=xh(e))}function xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gu(e,t){t=t.checked,t!=null&&va(e,"checked",t,!1)}function jl(e,t){gu(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function No(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nl(e,t,n){(t!=="number"||Ds(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cr=Array.isArray;function Mn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function So(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(cr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function yu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ko(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var as,wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=as.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gh=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(e){gh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mr[t]=mr[e]})});function ju(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mr.hasOwnProperty(e)&&mr[e]?(""+t).trim():t+"px"}function Nu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ju(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yh=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(e,t){if(t){if(yh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function Cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=null;function Sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,An=null,Ln=null;function bo(e){if(e=Gr(e)){if(typeof _l!="function")throw Error(b(280));var t=e.stateNode;t&&(t=vi(t),_l(e.stateNode,e.type,t))}}function Su(e){An?Ln?Ln.push(e):Ln=[e]:An=e}function ku(){if(An){var e=An,t=Ln;if(Ln=An=null,bo(e),t)for(e=0;e<t.length;e++)bo(t[e])}}function bu(e,t){return e(t)}function Cu(){}var zi=!1;function Eu(e,t,n){if(zi)return e(t,n);zi=!0;try{return bu(e,t,n)}finally{zi=!1,(An!==null||Ln!==null)&&(Cu(),ku())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var r=vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Rl=!1;if(vt)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Rl=!1}function vh(e,t,n,r,i,l,a,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(x){this.onError(x)}}var pr=!1,$s=null,zs=!1,Tl=null,wh={onError:function(e){pr=!0,$s=e}};function jh(e,t,n,r,i,l,a,c,o){pr=!1,$s=null,vh.apply(wh,arguments)}function Nh(e,t,n,r,i,l,a,c,o){if(jh.apply(this,arguments),pr){if(pr){var u=$s;pr=!1,$s=null}else throw Error(b(198));zs||(zs=!0,Tl=u)}}function hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Co(e){if(hn(e)!==e)throw Error(b(188))}function Sh(e){var t=e.alternate;if(!t){if(t=hn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Co(i),e;if(l===r)return Co(i),t;l=l.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=l;break}if(c===r){a=!0,r=i,n=l;break}c=c.sibling}if(!a){for(c=l.child;c;){if(c===n){a=!0,n=l,r=i;break}if(c===r){a=!0,r=l,n=i;break}c=c.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function Ru(e){return e=Sh(e),e!==null?Tu(e):null}function Tu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tu(e);if(t!==null)return t;e=e.sibling}return null}var Mu=Pe.unstable_scheduleCallback,Eo=Pe.unstable_cancelCallback,kh=Pe.unstable_shouldYield,bh=Pe.unstable_requestPaint,ee=Pe.unstable_now,Ch=Pe.unstable_getCurrentPriorityLevel,ka=Pe.unstable_ImmediatePriority,Au=Pe.unstable_UserBlockingPriority,Fs=Pe.unstable_NormalPriority,Eh=Pe.unstable_LowPriority,Lu=Pe.unstable_IdlePriority,pi=null,ot=null;function _h(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:Mh,Rh=Math.log,Th=Math.LN2;function Mh(e){return e>>>=0,e===0?32:31-(Rh(e)/Th|0)|0}var os=64,cs=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=ur(c):(l&=a,l!==0&&(r=ur(l)))}else a=n&~i,a!==0?r=ur(a):l!==0&&(r=ur(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ge(t),i=1<<n,r|=e[n],t&=~i;return r}function Ah(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Ge(l),c=1<<a,o=i[a];o===-1?(!(c&n)||c&r)&&(i[a]=Ah(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iu(){var e=os;return os<<=1,!(os&4194240)&&(os=64),e}function Fi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=n}function Ih(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ge(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function ba(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ge(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var U=0;function Pu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ou,Ca,Du,$u,zu,Al=!1,us=[],Lt=null,It=null,Pt=null,Er=new Map,_r=new Map,_t=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _o(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function nr(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Gr(t),t!==null&&Ca(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Oh(e,t,n,r,i){switch(t){case"focusin":return Lt=nr(Lt,e,t,n,r,i),!0;case"dragenter":return It=nr(It,e,t,n,r,i),!0;case"mouseover":return Pt=nr(Pt,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Er.set(l,nr(Er.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,_r.set(l,nr(_r.get(l)||null,e,t,n,r,i)),!0}return!1}function Fu(e){var t=Zt(e.target);if(t!==null){var n=hn(t);if(n!==null){if(t=n.tag,t===13){if(t=_u(n),t!==null){e.blockedOn=t,zu(e.priority,function(){Du(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);El=r,n.target.dispatchEvent(r),El=null}else return t=Gr(n),t!==null&&Ca(t),e.blockedOn=n,!1;t.shift()}return!0}function Ro(e,t,n){bs(e)&&n.delete(t)}function Dh(){Al=!1,Lt!==null&&bs(Lt)&&(Lt=null),It!==null&&bs(It)&&(It=null),Pt!==null&&bs(Pt)&&(Pt=null),Er.forEach(Ro),_r.forEach(Ro)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Al||(Al=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Dh)))}function Rr(e){function t(i){return rr(i,e)}if(0<us.length){rr(us[0],e);for(var n=1;n<us.length;n++){var r=us[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lt!==null&&rr(Lt,e),It!==null&&rr(It,e),Pt!==null&&rr(Pt,e),Er.forEach(t),_r.forEach(t),n=0;n<_t.length;n++)r=_t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)Fu(n),n.blockedOn===null&&_t.shift()}var In=St.ReactCurrentBatchConfig,qs=!0;function $h(e,t,n,r){var i=U,l=In.transition;In.transition=null;try{U=1,Ea(e,t,n,r)}finally{U=i,In.transition=l}}function zh(e,t,n,r){var i=U,l=In.transition;In.transition=null;try{U=4,Ea(e,t,n,r)}finally{U=i,In.transition=l}}function Ea(e,t,n,r){if(qs){var i=Ll(e,t,n,r);if(i===null)Xi(e,t,r,Bs,n),_o(e,r);else if(Oh(i,e,t,n,r))r.stopPropagation();else if(_o(e,r),t&4&&-1<Ph.indexOf(e)){for(;i!==null;){var l=Gr(i);if(l!==null&&Ou(l),l=Ll(e,t,n,r),l===null&&Xi(e,t,r,Bs,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Xi(e,t,r,null,n)}}var Bs=null;function Ll(e,t,n,r){if(Bs=null,e=Sa(r),e=Zt(e),e!==null)if(t=hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_u(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function Uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ch()){case ka:return 1;case Au:return 4;case Fs:case Eh:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Tt=null,_a=null,Cs=null;function qu(){if(Cs)return Cs;var e,t=_a,n=t.length,r,i="value"in Tt?Tt.value:Tt.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[l-r];r++);return Cs=i.slice(e,1<r?1-r:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function To(){return!1}function De(e){function t(n,r,i,l,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ds:To,this.isPropagationStopped=To,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=De(Jn),Jr=G({},Jn,{view:0,detail:0}),Fh=De(Jr),Ui,qi,sr,xi=G({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&e.type==="mousemove"?(Ui=e.screenX-sr.screenX,qi=e.screenY-sr.screenY):qi=Ui=0,sr=e),Ui)},movementY:function(e){return"movementY"in e?e.movementY:qi}}),Mo=De(xi),Uh=G({},xi,{dataTransfer:0}),qh=De(Uh),Bh=G({},Jr,{relatedTarget:0}),Bi=De(Bh),Vh=G({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=De(Vh),Wh=G({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hh=De(Wh),Yh=G({},Jn,{data:0}),Ao=De(Yh),Kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jh[e])?!!t[e]:!1}function Ta(){return Gh}var Zh=G({},Jr,{key:function(e){if(e.key){var t=Kh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=De(Zh),tm=G({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=De(tm),nm=G({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),rm=De(nm),sm=G({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=De(sm),lm=G({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),am=De(lm),om=[9,13,27,32],Ma=vt&&"CompositionEvent"in window,xr=null;vt&&"documentMode"in document&&(xr=document.documentMode);var cm=vt&&"TextEvent"in window&&!xr,Bu=vt&&(!Ma||xr&&8<xr&&11>=xr),Io=String.fromCharCode(32),Po=!1;function Vu(e,t){switch(e){case"keyup":return om.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function um(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(Po=!0,Io);case"textInput":return e=t.data,e===Io&&Po?null:e;default:return null}}function dm(e,t){if(wn)return e==="compositionend"||!Ma&&Vu(e,t)?(e=qu(),Cs=_a=Tt=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bu&&t.locale!=="ko"?null:t.data;default:return null}}var fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fm[e.type]:t==="textarea"}function Wu(e,t,n,r){Su(r),t=Vs(t,"onChange"),0<t.length&&(n=new Ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,Tr=null;function hm(e){rd(e,0)}function gi(e){var t=Sn(e);if(xu(t))return e}function mm(e,t){if(e==="change")return t}var Hu=!1;if(vt){var Vi;if(vt){var Qi="oninput"in document;if(!Qi){var Do=document.createElement("div");Do.setAttribute("oninput","return;"),Qi=typeof Do.oninput=="function"}Vi=Qi}else Vi=!1;Hu=Vi&&(!document.documentMode||9<document.documentMode)}function $o(){gr&&(gr.detachEvent("onpropertychange",Yu),Tr=gr=null)}function Yu(e){if(e.propertyName==="value"&&gi(Tr)){var t=[];Wu(t,Tr,e,Sa(e)),Eu(hm,t)}}function pm(e,t,n){e==="focusin"?($o(),gr=t,Tr=n,gr.attachEvent("onpropertychange",Yu)):e==="focusout"&&$o()}function xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(Tr)}function gm(e,t){if(e==="click")return gi(t)}function ym(e,t){if(e==="input"||e==="change")return gi(t)}function vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:vm;function Mr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pl.call(t,i)||!tt(e[i],t[i]))return!1}return!0}function zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fo(e,t){var n=zo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zo(n)}}function Ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(){for(var e=window,t=Ds();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ds(e.document)}return t}function Aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wm(e){var t=Xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ku(n.ownerDocument.documentElement,n)){if(r!==null&&Aa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Fo(n,l);var a=Fo(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jm=vt&&"documentMode"in document&&11>=document.documentMode,jn=null,Il=null,yr=null,Pl=!1;function Uo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pl||jn==null||jn!==Ds(r)||(r=jn,"selectionStart"in r&&Aa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&Mr(yr,r)||(yr=r,r=Vs(Il,"onSelect"),0<r.length&&(t=new Ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jn)))}function fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nn={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Wi={},Ju={};vt&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function yi(e){if(Wi[e])return Wi[e];if(!Nn[e])return e;var t=Nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ju)return Wi[e]=t[n];return e}var Gu=yi("animationend"),Zu=yi("animationiteration"),ed=yi("animationstart"),td=yi("transitionend"),nd=new Map,qo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){nd.set(e,t),fn(t,[e])}for(var Hi=0;Hi<qo.length;Hi++){var Yi=qo[Hi],Nm=Yi.toLowerCase(),Sm=Yi[0].toUpperCase()+Yi.slice(1);Qt(Nm,"on"+Sm)}Qt(Gu,"onAnimationEnd");Qt(Zu,"onAnimationIteration");Qt(ed,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(td,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),km=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function Bo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nh(r,t,void 0,e),e.currentTarget=null}function rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==l&&i.isPropagationStopped())break e;Bo(i,c,u),l=o}else for(a=0;a<r.length;a++){if(c=r[a],o=c.instance,u=c.currentTarget,c=c.listener,o!==l&&i.isPropagationStopped())break e;Bo(i,c,u),l=o}}}if(zs)throw e=Tl,zs=!1,Tl=null,e}function Q(e,t){var n=t[Fl];n===void 0&&(n=t[Fl]=new Set);var r=e+"__bubble";n.has(r)||(sd(t,e,2,!1),n.add(r))}function Ki(e,t,n){var r=0;t&&(r|=4),sd(n,e,r,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){if(!e[hs]){e[hs]=!0,du.forEach(function(n){n!=="selectionchange"&&(km.has(n)||Ki(n,!1,e),Ki(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Ki("selectionchange",!1,t))}}function sd(e,t,n,r){switch(Uu(t)){case 1:var i=$h;break;case 4:i=zh;break;default:i=Ea}n=i.bind(null,t,n,e),i=void 0,!Rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xi(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Zt(c),a===null)return;if(o=a.tag,o===5||o===6){r=l=a;continue e}c=c.parentNode}}r=r.return}Eu(function(){var u=l,x=Sa(n),m=[];e:{var p=nd.get(e);if(p!==void 0){var w=Ra,f=e;switch(e){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":w=em;break;case"focusin":f="focus",w=Bi;break;case"focusout":f="blur",w=Bi;break;case"beforeblur":case"afterblur":w=Bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=rm;break;case Gu:case Zu:case ed:w=Qh;break;case td:w=im;break;case"scroll":w=Fh;break;case"wheel":w=am;break;case"copy":case"cut":case"paste":w=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Lo}var j=(t&4)!==0,v=!j&&e==="scroll",h=j?p!==null?p+"Capture":null:p;j=[];for(var d=u,y;d!==null;){y=d;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,h!==null&&(S=Cr(d,h),S!=null&&j.push(Lr(d,S,y)))),v)break;d=d.return}0<j.length&&(p=new w(p,f,null,n,x),m.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",p&&n!==El&&(f=n.relatedTarget||n.fromElement)&&(Zt(f)||f[wt]))break e;if((w||p)&&(p=x.window===x?x:(p=x.ownerDocument)?p.defaultView||p.parentWindow:window,w?(f=n.relatedTarget||n.toElement,w=u,f=f?Zt(f):null,f!==null&&(v=hn(f),f!==v||f.tag!==5&&f.tag!==6)&&(f=null)):(w=null,f=u),w!==f)){if(j=Mo,S="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(j=Lo,S="onPointerLeave",h="onPointerEnter",d="pointer"),v=w==null?p:Sn(w),y=f==null?p:Sn(f),p=new j(S,d+"leave",w,n,x),p.target=v,p.relatedTarget=y,S=null,Zt(x)===u&&(j=new j(h,d+"enter",f,n,x),j.target=y,j.relatedTarget=v,S=j),v=S,w&&f)t:{for(j=w,h=f,d=0,y=j;y;y=xn(y))d++;for(y=0,S=h;S;S=xn(S))y++;for(;0<d-y;)j=xn(j),d--;for(;0<y-d;)h=xn(h),y--;for(;d--;){if(j===h||h!==null&&j===h.alternate)break t;j=xn(j),h=xn(h)}j=null}else j=null;w!==null&&Vo(m,p,w,j,!1),f!==null&&v!==null&&Vo(m,v,f,j,!0)}}e:{if(p=u?Sn(u):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var g=mm;else if(Oo(p))if(Hu)g=ym;else{g=xm;var _=pm}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(g=gm);if(g&&(g=g(e,u))){Wu(m,g,n,x);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Nl(p,"number",p.value)}switch(_=u?Sn(u):window,e){case"focusin":(Oo(_)||_.contentEditable==="true")&&(jn=_,Il=u,yr=null);break;case"focusout":yr=Il=jn=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,Uo(m,n,x);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":Uo(m,n,x)}var E;if(Ma)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wn?Vu(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Bu&&n.locale!=="ko"&&(wn||C!=="onCompositionStart"?C==="onCompositionEnd"&&wn&&(E=qu()):(Tt=x,_a="value"in Tt?Tt.value:Tt.textContent,wn=!0)),_=Vs(u,C),0<_.length&&(C=new Ao(C,e,null,n,x),m.push({event:C,listeners:_}),E?C.data=E:(E=Qu(n),E!==null&&(C.data=E)))),(E=cm?um(e,n):dm(e,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(x=new Ao("onBeforeInput","beforeinput",null,n,x),m.push({event:x,listeners:u}),x.data=E))}rd(m,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Cr(e,n),l!=null&&r.unshift(Lr(e,l,i)),l=Cr(e,t),l!=null&&r.push(Lr(e,l,i))),e=e.return}return r}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vo(e,t,n,r,i){for(var l=t._reactName,a=[];n!==null&&n!==r;){var c=n,o=c.alternate,u=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&u!==null&&(c=u,i?(o=Cr(n,l),o!=null&&a.unshift(Lr(n,o,c))):i||(o=Cr(n,l),o!=null&&a.push(Lr(n,o,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var bm=/\r\n?/g,Cm=/\u0000|\uFFFD/g;function Qo(e){return(typeof e=="string"?e:""+e).replace(bm,`
`).replace(Cm,"")}function ms(e,t,n){if(t=Qo(t),Qo(e)!==t&&n)throw Error(b(425))}function Qs(){}var Ol=null,Dl=null;function $l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,Wo=typeof Promise=="function"?Promise:void 0,_m=typeof queueMicrotask=="function"?queueMicrotask:typeof Wo<"u"?function(e){return Wo.resolve(null).then(e).catch(Rm)}:zl;function Rm(e){setTimeout(function(){throw e})}function Ji(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Rr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rr(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ho(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),it="__reactFiber$"+Gn,Ir="__reactProps$"+Gn,wt="__reactContainer$"+Gn,Fl="__reactEvents$"+Gn,Tm="__reactListeners$"+Gn,Mm="__reactHandles$"+Gn;function Zt(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ho(e);e!==null;){if(n=e[it])return n;e=Ho(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[it]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function vi(e){return e[Ir]||null}var Ul=[],kn=-1;function Wt(e){return{current:e}}function W(e){0>kn||(e.current=Ul[kn],Ul[kn]=null,kn--)}function V(e,t){kn++,Ul[kn]=e.current,e.current=t}var qt={},we=Wt(qt),Ee=Wt(!1),an=qt;function Fn(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _e(e){return e=e.childContextTypes,e!=null}function Ws(){W(Ee),W(we)}function Yo(e,t,n){if(we.current!==qt)throw Error(b(168));V(we,t),V(Ee,n)}function id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(b(108,ph(e)||"Unknown",i));return G({},n,r)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,an=we.current,V(we,e),V(Ee,Ee.current),!0}function Ko(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=id(e,t,an),r.__reactInternalMemoizedMergedChildContext=e,W(Ee),W(we),V(we,e)):W(Ee),V(Ee,n)}var ft=null,wi=!1,Gi=!1;function ld(e){ft===null?ft=[e]:ft.push(e)}function Am(e){wi=!0,ld(e)}function Ht(){if(!Gi&&ft!==null){Gi=!0;var e=0,t=U;try{var n=ft;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,wi=!1}catch(i){throw ft!==null&&(ft=ft.slice(e+1)),Mu(ka,Ht),i}finally{U=t,Gi=!1}}return null}var bn=[],Cn=0,Ys=null,Ks=0,Ue=[],qe=0,on=null,mt=1,pt="";function Xt(e,t){bn[Cn++]=Ks,bn[Cn++]=Ys,Ys=e,Ks=t}function ad(e,t,n){Ue[qe++]=mt,Ue[qe++]=pt,Ue[qe++]=on,on=e;var r=mt;e=pt;var i=32-Ge(r)-1;r&=~(1<<i),n+=1;var l=32-Ge(t)+i;if(30<l){var a=i-i%5;l=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mt=1<<32-Ge(t)+i|n<<i|r,pt=l+e}else mt=1<<l|n<<i|r,pt=e}function La(e){e.return!==null&&(Xt(e,1),ad(e,1,0))}function Ia(e){for(;e===Ys;)Ys=bn[--Cn],bn[Cn]=null,Ks=bn[--Cn],bn[Cn]=null;for(;e===on;)on=Ue[--qe],Ue[qe]=null,pt=Ue[--qe],Ue[qe]=null,mt=Ue[--qe],Ue[qe]=null}var Ie=null,Ae=null,Y=!1,Je=null;function od(e,t){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:mt,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Ae=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(Y){var t=Ae;if(t){var n=t;if(!Xo(e,t)){if(ql(e))throw Error(b(418));t=Ot(n.nextSibling);var r=Ie;t&&Xo(e,t)?od(r,n):(e.flags=e.flags&-4097|2,Y=!1,Ie=e)}}else{if(ql(e))throw Error(b(418));e.flags=e.flags&-4097|2,Y=!1,Ie=e}}}function Jo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function ps(e){if(e!==Ie)return!1;if(!Y)return Jo(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$l(e.type,e.memoizedProps)),t&&(t=Ae)){if(ql(e))throw cd(),Error(b(418));for(;t;)od(e,t),t=Ot(t.nextSibling)}if(Jo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=Ot(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Ot(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=Ae;e;)e=Ot(e.nextSibling)}function Un(){Ae=Ie=null,Y=!1}function Pa(e){Je===null?Je=[e]:Je.push(e)}var Lm=St.ReactCurrentBatchConfig;function ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var c=i.refs;a===null?delete c[l]:c[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Go(e){var t=e._init;return t(e._payload)}function ud(e){function t(h,d){if(e){var y=h.deletions;y===null?(h.deletions=[d],h.flags|=16):y.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function i(h,d){return h=Ft(h,d),h.index=0,h.sibling=null,h}function l(h,d,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<d?(h.flags|=2,d):y):(h.flags|=2,d)):(h.flags|=1048576,d)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,d,y,S){return d===null||d.tag!==6?(d=il(y,h.mode,S),d.return=h,d):(d=i(d,y),d.return=h,d)}function o(h,d,y,S){var g=y.type;return g===vn?x(h,d,y.props.children,S,y.key):d!==null&&(d.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Ct&&Go(g)===d.type)?(S=i(d,y.props),S.ref=ir(h,d,y),S.return=h,S):(S=Is(y.type,y.key,y.props,null,h.mode,S),S.ref=ir(h,d,y),S.return=h,S)}function u(h,d,y,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=ll(y,h.mode,S),d.return=h,d):(d=i(d,y.children||[]),d.return=h,d)}function x(h,d,y,S,g){return d===null||d.tag!==7?(d=rn(y,h.mode,S,g),d.return=h,d):(d=i(d,y),d.return=h,d)}function m(h,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=il(""+d,h.mode,y),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case is:return y=Is(d.type,d.key,d.props,null,h.mode,y),y.ref=ir(h,null,d),y.return=h,y;case yn:return d=ll(d,h.mode,y),d.return=h,d;case Ct:var S=d._init;return m(h,S(d._payload),y)}if(cr(d)||er(d))return d=rn(d,h.mode,y,null),d.return=h,d;xs(h,d)}return null}function p(h,d,y,S){var g=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return g!==null?null:c(h,d,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case is:return y.key===g?o(h,d,y,S):null;case yn:return y.key===g?u(h,d,y,S):null;case Ct:return g=y._init,p(h,d,g(y._payload),S)}if(cr(y)||er(y))return g!==null?null:x(h,d,y,S,null);xs(h,y)}return null}function w(h,d,y,S,g){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(y)||null,c(d,h,""+S,g);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case is:return h=h.get(S.key===null?y:S.key)||null,o(d,h,S,g);case yn:return h=h.get(S.key===null?y:S.key)||null,u(d,h,S,g);case Ct:var _=S._init;return w(h,d,y,_(S._payload),g)}if(cr(S)||er(S))return h=h.get(y)||null,x(d,h,S,g,null);xs(d,S)}return null}function f(h,d,y,S){for(var g=null,_=null,E=d,C=d=0,M=null;E!==null&&C<y.length;C++){E.index>C?(M=E,E=null):M=E.sibling;var A=p(h,E,y[C],S);if(A===null){E===null&&(E=M);break}e&&E&&A.alternate===null&&t(h,E),d=l(A,d,C),_===null?g=A:_.sibling=A,_=A,E=M}if(C===y.length)return n(h,E),Y&&Xt(h,C),g;if(E===null){for(;C<y.length;C++)E=m(h,y[C],S),E!==null&&(d=l(E,d,C),_===null?g=E:_.sibling=E,_=E);return Y&&Xt(h,C),g}for(E=r(h,E);C<y.length;C++)M=w(E,h,C,y[C],S),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?C:M.key),d=l(M,d,C),_===null?g=M:_.sibling=M,_=M);return e&&E.forEach(function(L){return t(h,L)}),Y&&Xt(h,C),g}function j(h,d,y,S){var g=er(y);if(typeof g!="function")throw Error(b(150));if(y=g.call(y),y==null)throw Error(b(151));for(var _=g=null,E=d,C=d=0,M=null,A=y.next();E!==null&&!A.done;C++,A=y.next()){E.index>C?(M=E,E=null):M=E.sibling;var L=p(h,E,A.value,S);if(L===null){E===null&&(E=M);break}e&&E&&L.alternate===null&&t(h,E),d=l(L,d,C),_===null?g=L:_.sibling=L,_=L,E=M}if(A.done)return n(h,E),Y&&Xt(h,C),g;if(E===null){for(;!A.done;C++,A=y.next())A=m(h,A.value,S),A!==null&&(d=l(A,d,C),_===null?g=A:_.sibling=A,_=A);return Y&&Xt(h,C),g}for(E=r(h,E);!A.done;C++,A=y.next())A=w(E,h,C,A.value,S),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),d=l(A,d,C),_===null?g=A:_.sibling=A,_=A);return e&&E.forEach(function(P){return t(h,P)}),Y&&Xt(h,C),g}function v(h,d,y,S){if(typeof y=="object"&&y!==null&&y.type===vn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case is:e:{for(var g=y.key,_=d;_!==null;){if(_.key===g){if(g=y.type,g===vn){if(_.tag===7){n(h,_.sibling),d=i(_,y.props.children),d.return=h,h=d;break e}}else if(_.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Ct&&Go(g)===_.type){n(h,_.sibling),d=i(_,y.props),d.ref=ir(h,_,y),d.return=h,h=d;break e}n(h,_);break}else t(h,_);_=_.sibling}y.type===vn?(d=rn(y.props.children,h.mode,S,y.key),d.return=h,h=d):(S=Is(y.type,y.key,y.props,null,h.mode,S),S.ref=ir(h,d,y),S.return=h,h=S)}return a(h);case yn:e:{for(_=y.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(h,d.sibling),d=i(d,y.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=ll(y,h.mode,S),d.return=h,h=d}return a(h);case Ct:return _=y._init,v(h,d,_(y._payload),S)}if(cr(y))return f(h,d,y,S);if(er(y))return j(h,d,y,S);xs(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(h,d.sibling),d=i(d,y),d.return=h,h=d):(n(h,d),d=il(y,h.mode,S),d.return=h,h=d),a(h)):n(h,d)}return v}var qn=ud(!0),dd=ud(!1),Xs=Wt(null),Js=null,En=null,Oa=null;function Da(){Oa=En=Js=null}function $a(e){var t=Xs.current;W(Xs),e._currentValue=t}function Vl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pn(e,t){Js=e,Oa=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(Oa!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Js===null)throw Error(b(308));En=e,Js.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var en=null;function za(e){en===null?en=[e]:en.push(e)}function fd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,za(t)):(n.next=i.next,i.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Et=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jt(e,n)}return i=r.interleaved,i===null?(t.next=t,za(r)):(t.next=i.next,i.next=t),r.interleaved=t,jt(e,n)}function _s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ba(e,n)}}function Zo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gs(e,t,n,r){var i=e.updateQueue;Et=!1;var l=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,a===null?l=u:a.next=u,a=o;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==a&&(c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=o))}if(l!==null){var m=i.baseState;a=0,x=u=o=null,c=l;do{var p=c.lane,w=c.eventTime;if((r&p)===p){x!==null&&(x=x.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var f=e,j=c;switch(p=t,w=n,j.tag){case 1:if(f=j.payload,typeof f=="function"){m=f.call(w,m,p);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=j.payload,p=typeof f=="function"?f.call(w,m,p):f,p==null)break e;m=G({},m,p);break e;case 2:Et=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[c]:p.push(c))}else w={eventTime:w,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(u=x=w,o=m):x=x.next=w,a|=p;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;p=c,c=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(x===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=x,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);un|=a,e.lanes=a,e.memoizedState=m}}function ec(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var Zr={},ct=Wt(Zr),Pr=Wt(Zr),Or=Wt(Zr);function tn(e){if(e===Zr)throw Error(b(174));return e}function Ua(e,t){switch(V(Or,t),V(Pr,e),V(ct,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}W(ct),V(ct,t)}function Bn(){W(ct),W(Pr),W(Or)}function md(e){tn(Or.current);var t=tn(ct.current),n=kl(t,e.type);t!==n&&(V(Pr,e),V(ct,n))}function qa(e){Pr.current===e&&(W(ct),W(Pr))}var X=Wt(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zi=[];function Ba(){for(var e=0;e<Zi.length;e++)Zi[e]._workInProgressVersionPrimary=null;Zi.length=0}var Rs=St.ReactCurrentDispatcher,el=St.ReactCurrentBatchConfig,cn=0,J=null,le=null,oe=null,ei=!1,vr=!1,Dr=0,Im=0;function xe(){throw Error(b(321))}function Va(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tt(e[n],t[n]))return!1;return!0}function Qa(e,t,n,r,i,l){if(cn=l,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?$m:zm,e=n(r,i),vr){l=0;do{if(vr=!1,Dr=0,25<=l)throw Error(b(301));l+=1,oe=le=null,t.updateQueue=null,Rs.current=Fm,e=n(r,i)}while(vr)}if(Rs.current=ti,t=le!==null&&le.next!==null,cn=0,oe=le=J=null,ei=!1,t)throw Error(b(300));return e}function Wa(){var e=Dr!==0;return Dr=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?J.memoizedState=oe=e:oe=oe.next=e,oe}function He(){if(le===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=oe===null?J.memoizedState:oe.next;if(t!==null)oe=t,le=e;else{if(e===null)throw Error(b(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},oe===null?J.memoizedState=oe=e:oe=oe.next=e}return oe}function $r(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=He(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=le,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var c=a=null,o=null,u=l;do{var x=u.lane;if((cn&x)===x)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:x,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=m,a=r):o=o.next=m,J.lanes|=x,un|=x}u=u.next}while(u!==null&&u!==l);o===null?a=r:o.next=c,tt(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,J.lanes|=l,un|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nl(e){var t=He(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do l=e(l,a.action),a=a.next;while(a!==i);tt(l,t.memoizedState)||(Ce=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function pd(){}function xd(e,t){var n=J,r=He(),i=t(),l=!tt(r.memoizedState,i);if(l&&(r.memoizedState=i,Ce=!0),r=r.queue,Ha(vd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,zr(9,yd.bind(null,n,r,i,t),void 0,null),ue===null)throw Error(b(349));cn&30||gd(n,t,i)}return i}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&jd(e)}function vd(e,t,n){return n(function(){wd(t)&&jd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch{return!0}}function jd(e){var t=jt(e,1);t!==null&&Ze(t,e,1,-1)}function tc(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},t.queue=e,e=e.dispatch=Dm.bind(null,J,e),[t.memoizedState,e]}function zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nd(){return He().memoizedState}function Ts(e,t,n,r){var i=st();J.flags|=e,i.memoizedState=zr(1|t,n,void 0,r===void 0?null:r)}function ji(e,t,n,r){var i=He();r=r===void 0?null:r;var l=void 0;if(le!==null){var a=le.memoizedState;if(l=a.destroy,r!==null&&Va(r,a.deps)){i.memoizedState=zr(t,n,l,r);return}}J.flags|=e,i.memoizedState=zr(1|t,n,l,r)}function nc(e,t){return Ts(8390656,8,e,t)}function Ha(e,t){return ji(2048,8,e,t)}function Sd(e,t){return ji(4,2,e,t)}function kd(e,t){return ji(4,4,e,t)}function bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cd(e,t,n){return n=n!=null?n.concat([e]):null,ji(4,4,bd.bind(null,t,e),n)}function Ya(){}function Ed(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _d(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rd(e,t,n){return cn&21?(tt(n,t)||(n=Iu(),J.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n)}function Pm(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=el.transition;el.transition={};try{e(!1),t()}finally{U=n,el.transition=r}}function Td(){return He().memoizedState}function Om(e,t,n){var r=zt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Md(e))Ad(t,n);else if(n=fd(e,t,n,r),n!==null){var i=Ne();Ze(n,e,r,i),Ld(n,t,r)}}function Dm(e,t,n){var r=zt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Md(e))Ad(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,c=l(a,n);if(i.hasEagerState=!0,i.eagerState=c,tt(c,a)){var o=t.interleaved;o===null?(i.next=i,za(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}n=fd(e,t,i,r),n!==null&&(i=Ne(),Ze(n,e,r,i),Ld(n,t,r))}}function Md(e){var t=e.alternate;return e===J||t!==null&&t===J}function Ad(e,t){vr=ei=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ld(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ba(e,n)}}var ti={readContext:We,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},$m={readContext:We,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,bd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Om.bind(null,J,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:Ya,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=Pm.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=J,i=st();if(Y){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ue===null)throw Error(b(349));cn&30||gd(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,nc(vd.bind(null,r,l,e),[e]),r.flags|=2048,zr(9,yd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=st(),t=ue.identifierPrefix;if(Y){var n=pt,r=mt;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Im++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zm={readContext:We,useCallback:Ed,useContext:We,useEffect:Ha,useImperativeHandle:Cd,useInsertionEffect:Sd,useLayoutEffect:kd,useMemo:_d,useReducer:tl,useRef:Nd,useState:function(){return tl($r)},useDebugValue:Ya,useDeferredValue:function(e){var t=He();return Rd(t,le.memoizedState,e)},useTransition:function(){var e=tl($r)[0],t=He().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:xd,useId:Td,unstable_isNewReconciler:!1},Fm={readContext:We,useCallback:Ed,useContext:We,useEffect:Ha,useImperativeHandle:Cd,useInsertionEffect:Sd,useLayoutEffect:kd,useMemo:_d,useReducer:nl,useRef:Nd,useState:function(){return nl($r)},useDebugValue:Ya,useDeferredValue:function(e){var t=He();return le===null?t.memoizedState=e:Rd(t,le.memoizedState,e)},useTransition:function(){var e=nl($r)[0],t=He().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:xd,useId:Td,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ql(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:G({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),i=zt(e),l=gt(r,i);l.payload=t,n!=null&&(l.callback=n),t=Dt(e,l,i),t!==null&&(Ze(t,e,i,r),_s(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),i=zt(e),l=gt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Dt(e,l,i),t!==null&&(Ze(t,e,i,r),_s(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=zt(e),i=gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Dt(e,i,r),t!==null&&(Ze(t,e,r,n),_s(t,e,r))}};function rc(e,t,n,r,i,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,l):!0}function Id(e,t,n){var r=!1,i=qt,l=t.contextType;return typeof l=="object"&&l!==null?l=We(l):(i=_e(t)?an:we.current,r=t.contextTypes,l=(r=r!=null)?Fn(e,i):qt),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function sc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function Wl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fa(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=We(l):(l=_e(t)?an:we.current,i.context=Fn(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ql(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ni.enqueueReplaceState(i,i.state,null),Gs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var n="",r=t;do n+=mh(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Um=typeof WeakMap=="function"?WeakMap:Map;function Pd(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ri||(ri=!0,ra=r),Hl(e,t)},n}function Od(e,t,n){n=gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Hl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Hl(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Um;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=tp.bind(null,e,t,n),t.then(e,e))}function lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ac(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Dt(n,t,1))),n.lanes|=1),e)}var qm=St.ReactCurrentOwner,Ce=!1;function je(e,t,n,r){t.child=e===null?dd(t,null,n,r):qn(t,e.child,n,r)}function oc(e,t,n,r,i){n=n.render;var l=t.ref;return Pn(t,i),r=Qa(e,t,n,r,l,i),n=Wa(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nt(e,t,i)):(Y&&n&&La(t),t.flags|=1,je(e,t,r,i),t.child)}function cc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!no(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Dd(e,t,l,r,i)):(e=Is(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(a,r)&&e.ref===t.ref)return Nt(e,t,i)}return t.flags|=1,e=Ft(l,r),e.ref=t.ref,e.return=t,t.child=e}function Dd(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Mr(l,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,Nt(e,t,i)}return Yl(e,t,n,r,i)}function $d(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Rn,Te),Te|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(Rn,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,V(Rn,Te),Te|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,V(Rn,Te),Te|=r;return je(e,t,i,n),t.child}function zd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,r,i){var l=_e(n)?an:we.current;return l=Fn(t,l),Pn(t,i),n=Qa(e,t,n,r,l,i),r=Wa(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nt(e,t,i)):(Y&&r&&La(t),t.flags|=1,je(e,t,n,i),t.child)}function uc(e,t,n,r,i){if(_e(n)){var l=!0;Hs(t)}else l=!1;if(Pn(t,i),t.stateNode===null)Ms(e,t),Id(t,n,r),Wl(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var o=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=_e(n)?an:we.current,u=Fn(t,u));var x=n.getDerivedStateFromProps,m=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||o!==u)&&sc(t,a,r,u),Et=!1;var p=t.memoizedState;a.state=p,Gs(t,r,a,i),o=t.memoizedState,c!==r||p!==o||Ee.current||Et?(typeof x=="function"&&(Ql(t,n,x,r),o=t.memoizedState),(c=Et||rc(t,n,c,r,p,o,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),a.props=r,a.state=o,a.context=u,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,hd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ke(t.type,c),a.props=u,m=t.pendingProps,p=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=We(o):(o=_e(n)?an:we.current,o=Fn(t,o));var w=n.getDerivedStateFromProps;(x=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||p!==o)&&sc(t,a,r,o),Et=!1,p=t.memoizedState,a.state=p,Gs(t,r,a,i);var f=t.memoizedState;c!==m||p!==f||Ee.current||Et?(typeof w=="function"&&(Ql(t,n,w,r),f=t.memoizedState),(u=Et||rc(t,n,u,r,p,f,o)||!1)?(x||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=o,r=u):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Kl(e,t,n,r,l,i)}function Kl(e,t,n,r,i,l){zd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ko(t,n,!1),Nt(e,t,l);r=t.stateNode,qm.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=qn(t,e.child,null,l),t.child=qn(t,null,c,l)):je(e,t,c,l),t.memoizedState=r.state,i&&Ko(t,n,!0),t.child}function Fd(e){var t=e.stateNode;t.pendingContext?Yo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yo(e,t.context,!1),Ua(e,t.containerInfo)}function dc(e,t,n,r,i){return Un(),Pa(i),t.flags|=256,je(e,t,n,r),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,n){var r=t.pendingProps,i=X.current,l=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),V(X,i&1),e===null)return Bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=bi(a,r,0,null),e=rn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Jl(n),t.memoizedState=Xl,e):Ka(t,a));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Bm(e,t,a,r,c,i,n);if(l){l=r.fallback,a=t.mode,i=e.child,c=i.sibling;var o={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Ft(i,o),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?l=Ft(c,l):(l=rn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Jl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Xl,r}return l=e.child,e=l.sibling,r=Ft(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ka(e,t){return t=bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,n,r){return r!==null&&Pa(r),qn(t,e.child,null,n),e=Ka(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bm(e,t,n,r,i,l,a){if(n)return t.flags&256?(t.flags&=-257,r=rl(Error(b(422))),gs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=bi({mode:"visible",children:r.children},i,0,null),l=rn(l,i,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&qn(t,e.child,null,a),t.child.memoizedState=Jl(a),t.memoizedState=Xl,l);if(!(t.mode&1))return gs(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(b(419)),r=rl(l,r,void 0),gs(e,t,a,r)}if(c=(a&e.childLanes)!==0,Ce||c){if(r=ue,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,jt(e,i),Ze(r,e,i,-1))}return to(),r=rl(Error(b(421))),gs(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=np.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Ae=Ot(i.nextSibling),Ie=t,Y=!0,Je=null,e!==null&&(Ue[qe++]=mt,Ue[qe++]=pt,Ue[qe++]=on,mt=e.id,pt=e.overflow,on=t),t=Ka(t,r.children),t.flags|=4096,t)}function fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vl(e.return,t,n)}function sl(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function qd(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(je(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fc(e,n,t);else if(e.tag===19)fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(X,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sl(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sl(t,!0,n,null,l);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vm(e,t,n){switch(t.tag){case 3:Fd(t),Un();break;case 5:md(t);break;case 1:_e(t.type)&&Hs(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;V(Xs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?Ud(e,t,n):(V(X,X.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);V(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,$d(e,t,n)}return Nt(e,t,n)}var Bd,Gl,Vd,Qd;Bd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gl=function(){};Vd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,tn(ct.current);var l=null;switch(n){case"input":i=wl(e,i),r=wl(e,r),l=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),l=[];break;case"textarea":i=Sl(e,i),r=Sl(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qs)}bl(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var o=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(l||(l=[]),l.push(u,n)),n=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kr.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&Q("scroll",e),l||c===o||(l=[])):(l=l||[]).push(u,o))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function lr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qm(e,t,n){var r=t.pendingProps;switch(Ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return _e(t.type)&&Ws(),ge(t),null;case 3:return r=t.stateNode,Bn(),W(Ee),W(we),Ba(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(la(Je),Je=null))),Gl(e,t),ge(t),null;case 5:qa(t);var i=tn(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)Vd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return ge(t),null}if(e=tn(ct.current),ps(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[it]=t,r[Ir]=l,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(i=0;i<dr.length;i++)Q(dr[i],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":jo(r,l),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Q("invalid",r);break;case"textarea":So(r,l),Q("invalid",r)}bl(n,l),i=null;for(var a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&ms(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&ms(r.textContent,c,e),i=["children",""+c]):kr.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Q("scroll",r)}switch(n){case"input":ls(r),No(r,l,!0);break;case"textarea":ls(r),ko(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Qs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[it]=t,e[Ir]=r,Bd(e,t,!1,!1),t.stateNode=e;e:{switch(a=Cl(n,r),n){case"dialog":Q("cancel",e),Q("close",e),i=r;break;case"iframe":case"object":case"embed":Q("load",e),i=r;break;case"video":case"audio":for(i=0;i<dr.length;i++)Q(dr[i],e);i=r;break;case"source":Q("error",e),i=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),i=r;break;case"details":Q("toggle",e),i=r;break;case"input":jo(e,r),i=wl(e,r),Q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),Q("invalid",e);break;case"textarea":So(e,r),i=Sl(e,r),Q("invalid",e);break;default:i=r}bl(n,i),c=i;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?Nu(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&wu(e,o)):l==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&br(e,o):typeof o=="number"&&br(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(kr.hasOwnProperty(l)?o!=null&&l==="onScroll"&&Q("scroll",e):o!=null&&va(e,l,o,a))}switch(n){case"input":ls(e),No(e,r,!1);break;case"textarea":ls(e),ko(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Mn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Mn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=tn(Or.current),tn(ct.current),ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[it]=t,(l=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=t,t.stateNode=r}return ge(t),null;case 13:if(W(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ae!==null&&t.mode&1&&!(t.flags&128))cd(),Un(),t.flags|=98560,l=!1;else if(l=ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(b(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(b(317));l[it]=t}else Un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),l=!1}else Je!==null&&(la(Je),Je=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ae===0&&(ae=3):to())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Bn(),Gl(e,t),e===null&&Ar(t.stateNode.containerInfo),ge(t),null;case 10:return $a(t.type._context),ge(t),null;case 17:return _e(t.type)&&Ws(),ge(t),null;case 19:if(W(X),l=t.memoizedState,l===null)return ge(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)lr(l,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zs(e),a!==null){for(t.flags|=128,lr(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(X,X.current&1|2),t.child}e=e.sibling}l.tail!==null&&ee()>Qn&&(t.flags|=128,r=!0,lr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Zs(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Y)return ge(t),null}else 2*ee()-l.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,r=!0,lr(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ee(),t.sibling=null,n=X.current,V(X,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return eo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Te&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Wm(e,t){switch(Ia(t),t.tag){case 1:return _e(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),W(Ee),W(we),Ba(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qa(t),null;case 13:if(W(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(X),null;case 4:return Bn(),null;case 10:return $a(t.type._context),null;case 22:case 23:return eo(),null;case 24:return null;default:return null}}var ys=!1,ve=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,I=null;function _n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){Z(e,t,r)}}var hc=!1;function Ym(e,t){if(Ol=qs,e=Xu(),Aa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,c=-1,o=-1,u=0,x=0,m=e,p=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==l||r!==0&&m.nodeType!==3||(o=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(w=m.firstChild)!==null;)p=m,m=w;for(;;){if(m===e)break t;if(p===n&&++u===i&&(c=a),p===l&&++x===r&&(o=a),(w=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=w}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dl={focusedElem:e,selectionRange:n},qs=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var j=f.memoizedProps,v=f.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ke(t.type,j),v);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){Z(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return f=hc,hc=!1,f}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Zl(t,n,l)}i=i.next}while(i!==r)}}function Si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ea(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wd(e){var t=e.alternate;t!==null&&(e.alternate=null,Wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Ir],delete t[Fl],delete t[Tm],delete t[Mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hd(e){return e.tag===5||e.tag===3||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qs));else if(r!==4&&(e=e.child,e!==null))for(ta(e,t,n),e=e.sibling;e!==null;)ta(e,t,n),e=e.sibling}function na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(na(e,t,n),e=e.sibling;e!==null;)na(e,t,n),e=e.sibling}var fe=null,Xe=!1;function kt(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(pi,n)}catch{}switch(n.tag){case 5:ve||_n(n,t);case 6:var r=fe,i=Xe;fe=null,kt(e,t,n),fe=r,Xe=i,fe!==null&&(Xe?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Xe?(e=fe,n=n.stateNode,e.nodeType===8?Ji(e.parentNode,n):e.nodeType===1&&Ji(e,n),Rr(e)):Ji(fe,n.stateNode));break;case 4:r=fe,i=Xe,fe=n.stateNode.containerInfo,Xe=!0,kt(e,t,n),fe=r,Xe=i;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Zl(n,t,a),i=i.next}while(i!==r)}kt(e,t,n);break;case 1:if(!ve&&(_n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Z(n,t,c)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,kt(e,t,n),ve=r):kt(e,t,n);break;default:kt(e,t,n)}}function pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hm),t.forEach(function(r){var i=rp.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:fe=c.stateNode,Xe=!1;break e;case 3:fe=c.stateNode.containerInfo,Xe=!0;break e;case 4:fe=c.stateNode.containerInfo,Xe=!0;break e}c=c.return}if(fe===null)throw Error(b(160));Yd(l,a,i),fe=null,Xe=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){Z(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}function Kd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),nt(e),r&4){try{wr(3,e,e.return),Si(3,e)}catch(j){Z(e,e.return,j)}try{wr(5,e,e.return)}catch(j){Z(e,e.return,j)}}break;case 1:Ye(t,e),nt(e),r&512&&n!==null&&_n(n,n.return);break;case 5:if(Ye(t,e),nt(e),r&512&&n!==null&&_n(n,n.return),e.flags&32){var i=e.stateNode;try{br(i,"")}catch(j){Z(e,e.return,j)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&gu(i,l),Cl(c,a);var u=Cl(c,l);for(a=0;a<o.length;a+=2){var x=o[a],m=o[a+1];x==="style"?Nu(i,m):x==="dangerouslySetInnerHTML"?wu(i,m):x==="children"?br(i,m):va(i,x,m,u)}switch(c){case"input":jl(i,l);break;case"textarea":yu(i,l);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Mn(i,!!l.multiple,w,!1):p!==!!l.multiple&&(l.defaultValue!=null?Mn(i,!!l.multiple,l.defaultValue,!0):Mn(i,!!l.multiple,l.multiple?[]:"",!1))}i[Ir]=l}catch(j){Z(e,e.return,j)}}break;case 6:if(Ye(t,e),nt(e),r&4){if(e.stateNode===null)throw Error(b(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(j){Z(e,e.return,j)}}break;case 3:if(Ye(t,e),nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rr(t.containerInfo)}catch(j){Z(e,e.return,j)}break;case 4:Ye(t,e),nt(e);break;case 13:Ye(t,e),nt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Ga=ee())),r&4&&pc(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(u=ve)||x,Ye(t,e),ve=u):Ye(t,e),nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!x&&e.mode&1)for(I=e,x=e.child;x!==null;){for(m=I=x;I!==null;){switch(p=I,w=p.child,p.tag){case 0:case 11:case 14:case 15:wr(4,p,p.return);break;case 1:_n(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(j){Z(r,n,j)}}break;case 5:_n(p,p.return);break;case 22:if(p.memoizedState!==null){gc(m);continue}}w!==null?(w.return=p,I=w):gc(m)}x=x.sibling}e:for(x=null,m=e;;){if(m.tag===5){if(x===null){x=m;try{i=m.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,o=m.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=ju("display",a))}catch(j){Z(e,e.return,j)}}}else if(m.tag===6){if(x===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(j){Z(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ye(t,e),nt(e),r&4&&pc(e);break;case 21:break;default:Ye(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hd(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(br(i,""),r.flags&=-33);var l=mc(e);na(e,l,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=mc(e);ta(e,c,a);break;default:throw Error(b(161))}}catch(o){Z(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Km(e,t,n){I=e,Xd(e)}function Xd(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var i=I,l=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ys;if(!a){var c=i.alternate,o=c!==null&&c.memoizedState!==null||ve;c=ys;var u=ve;if(ys=a,(ve=o)&&!u)for(I=i;I!==null;)a=I,o=a.child,a.tag===22&&a.memoizedState!==null?yc(i):o!==null?(o.return=a,I=o):yc(i);for(;l!==null;)I=l,Xd(l),l=l.sibling;I=i,ys=c,ve=u}xc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,I=l):xc(e)}}function xc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Si(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ec(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ec(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var x=u.memoizedState;if(x!==null){var m=x.dehydrated;m!==null&&Rr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}ve||t.flags&512&&ea(t)}catch(p){Z(t,t.return,p)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function gc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function yc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Si(4,t)}catch(o){Z(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(o){Z(t,i,o)}}var l=t.return;try{ea(t)}catch(o){Z(t,l,o)}break;case 5:var a=t.return;try{ea(t)}catch(o){Z(t,a,o)}}}catch(o){Z(t,t.return,o)}if(t===e){I=null;break}var c=t.sibling;if(c!==null){c.return=t.return,I=c;break}I=t.return}}var Xm=Math.ceil,ni=St.ReactCurrentDispatcher,Xa=St.ReactCurrentOwner,Ve=St.ReactCurrentBatchConfig,z=0,ue=null,se=null,he=0,Te=0,Rn=Wt(0),ae=0,Fr=null,un=0,ki=0,Ja=0,jr=null,be=null,Ga=0,Qn=1/0,dt=null,ri=!1,ra=null,$t=null,vs=!1,Mt=null,si=0,Nr=0,sa=null,As=-1,Ls=0;function Ne(){return z&6?ee():As!==-1?As:As=ee()}function zt(e){return e.mode&1?z&2&&he!==0?he&-he:Lm.transition!==null?(Ls===0&&(Ls=Iu()),Ls):(e=U,e!==0||(e=window.event,e=e===void 0?16:Uu(e.type)),e):1}function Ze(e,t,n,r){if(50<Nr)throw Nr=0,sa=null,Error(b(185));Xr(e,n,r),(!(z&2)||e!==ue)&&(e===ue&&(!(z&2)&&(ki|=n),ae===4&&Rt(e,he)),Re(e,r),n===1&&z===0&&!(t.mode&1)&&(Qn=ee()+500,wi&&Ht()))}function Re(e,t){var n=e.callbackNode;Lh(e,t);var r=Us(e,e===ue?he:0);if(r===0)n!==null&&Eo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eo(n),t===1)e.tag===0?Am(vc.bind(null,e)):ld(vc.bind(null,e)),_m(function(){!(z&6)&&Ht()}),n=null;else{switch(Pu(r)){case 1:n=ka;break;case 4:n=Au;break;case 16:n=Fs;break;case 536870912:n=Lu;break;default:n=Fs}n=sf(n,Jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jd(e,t){if(As=-1,Ls=0,z&6)throw Error(b(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var r=Us(e,e===ue?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ii(e,r);else{t=r;var i=z;z|=2;var l=Zd();(ue!==e||he!==t)&&(dt=null,Qn=ee()+500,nn(e,t));do try{Zm();break}catch(c){Gd(e,c)}while(1);Da(),ni.current=l,z=i,se!==null?t=0:(ue=null,he=0,t=ae)}if(t!==0){if(t===2&&(i=Ml(e),i!==0&&(r=i,t=ia(e,i))),t===1)throw n=Fr,nn(e,0),Rt(e,r),Re(e,ee()),n;if(t===6)Rt(e,r);else{if(i=e.current.alternate,!(r&30)&&!Jm(i)&&(t=ii(e,r),t===2&&(l=Ml(e),l!==0&&(r=l,t=ia(e,l))),t===1))throw n=Fr,nn(e,0),Rt(e,r),Re(e,ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:Jt(e,be,dt);break;case 3:if(Rt(e,r),(r&130023424)===r&&(t=Ga+500-ee(),10<t)){if(Us(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zl(Jt.bind(null,e,be,dt),t);break}Jt(e,be,dt);break;case 4:if(Rt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ge(r);l=1<<a,a=t[a],a>i&&(i=a),r&=~l}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xm(r/1960))-r,10<r){e.timeoutHandle=zl(Jt.bind(null,e,be,dt),r);break}Jt(e,be,dt);break;case 5:Jt(e,be,dt);break;default:throw Error(b(329))}}}return Re(e,ee()),e.callbackNode===n?Jd.bind(null,e):null}function ia(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(nn(e,t).flags|=256),e=ii(e,t),e!==2&&(t=be,be=n,t!==null&&la(t)),e}function la(e){be===null?be=e:be.push.apply(be,e)}function Jm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!tt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~Ja,t&=~ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ge(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(z&6)throw Error(b(327));On();var t=Us(e,0);if(!(t&1))return Re(e,ee()),null;var n=ii(e,t);if(e.tag!==0&&n===2){var r=Ml(e);r!==0&&(t=r,n=ia(e,r))}if(n===1)throw n=Fr,nn(e,0),Rt(e,t),Re(e,ee()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jt(e,be,dt),Re(e,ee()),null}function Za(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&(Qn=ee()+500,wi&&Ht())}}function dn(e){Mt!==null&&Mt.tag===0&&!(z&6)&&On();var t=z;z|=1;var n=Ve.transition,r=U;try{if(Ve.transition=null,U=1,e)return e()}finally{U=r,Ve.transition=n,z=t,!(z&6)&&Ht()}}function eo(){Te=Rn.current,W(Rn)}function nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Em(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Ia(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:Bn(),W(Ee),W(we),Ba();break;case 5:qa(r);break;case 4:Bn();break;case 13:W(X);break;case 19:W(X);break;case 10:$a(r.type._context);break;case 22:case 23:eo()}n=n.return}if(ue=e,se=e=Ft(e.current,null),he=Te=t,ae=0,Fr=null,Ja=ki=un=0,be=jr=null,en!==null){for(t=0;t<en.length;t++)if(n=en[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=i,r.next=a}n.pending=r}en=null}return e}function Gd(e,t){do{var n=se;try{if(Da(),Rs.current=ti,ei){for(var r=J.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ei=!1}if(cn=0,oe=le=J=null,vr=!1,Dr=0,Xa.current=null,n===null||n.return===null){ae=1,Fr=t,se=null;break}e:{var l=e,a=n.return,c=n,o=t;if(t=he,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,x=c,m=x.tag;if(!(x.mode&1)&&(m===0||m===11||m===15)){var p=x.alternate;p?(x.updateQueue=p.updateQueue,x.memoizedState=p.memoizedState,x.lanes=p.lanes):(x.updateQueue=null,x.memoizedState=null)}var w=lc(a);if(w!==null){w.flags&=-257,ac(w,a,c,l,t),w.mode&1&&ic(l,u,t),t=w,o=u;var f=t.updateQueue;if(f===null){var j=new Set;j.add(o),t.updateQueue=j}else f.add(o);break e}else{if(!(t&1)){ic(l,u,t),to();break e}o=Error(b(426))}}else if(Y&&c.mode&1){var v=lc(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ac(v,a,c,l,t),Pa(Vn(o,c));break e}}l=o=Vn(o,c),ae!==4&&(ae=2),jr===null?jr=[l]:jr.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Pd(l,o,t);Zo(l,h);break e;case 1:c=o;var d=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($t===null||!$t.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Od(l,c,t);Zo(l,S);break e}}l=l.return}while(l!==null)}tf(n)}catch(g){t=g,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function Zd(){var e=ni.current;return ni.current=ti,e===null?ti:e}function to(){(ae===0||ae===3||ae===2)&&(ae=4),ue===null||!(un&268435455)&&!(ki&268435455)||Rt(ue,he)}function ii(e,t){var n=z;z|=2;var r=Zd();(ue!==e||he!==t)&&(dt=null,nn(e,t));do try{Gm();break}catch(i){Gd(e,i)}while(1);if(Da(),z=n,ni.current=r,se!==null)throw Error(b(261));return ue=null,he=0,ae}function Gm(){for(;se!==null;)ef(se)}function Zm(){for(;se!==null&&!kh();)ef(se)}function ef(e){var t=rf(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?tf(e):se=t,Xa.current=null}function tf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wm(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(n=Qm(n,t,Te),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function Jt(e,t,n){var r=U,i=Ve.transition;try{Ve.transition=null,U=1,ep(e,t,n,r)}finally{Ve.transition=i,U=r}return null}function ep(e,t,n,r){do On();while(Mt!==null);if(z&6)throw Error(b(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Ih(e,l),e===ue&&(se=ue=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vs||(vs=!0,sf(Fs,function(){return On(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ve.transition,Ve.transition=null;var a=U;U=1;var c=z;z|=4,Xa.current=null,Ym(e,n),Kd(n,e),wm(Dl),qs=!!Ol,Dl=Ol=null,e.current=n,Km(n),bh(),z=c,U=a,Ve.transition=l}else e.current=n;if(vs&&(vs=!1,Mt=e,si=i),l=e.pendingLanes,l===0&&($t=null),_h(n.stateNode),Re(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ri)throw ri=!1,e=ra,ra=null,e;return si&1&&e.tag!==0&&On(),l=e.pendingLanes,l&1?e===sa?Nr++:(Nr=0,sa=e):Nr=0,Ht(),null}function On(){if(Mt!==null){var e=Pu(si),t=Ve.transition,n=U;try{if(Ve.transition=null,U=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,si=0,z&6)throw Error(b(331));var i=z;for(z|=4,I=e.current;I!==null;){var l=I,a=l.child;if(I.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(I=u;I!==null;){var x=I;switch(x.tag){case 0:case 11:case 15:wr(8,x,l)}var m=x.child;if(m!==null)m.return=x,I=m;else for(;I!==null;){x=I;var p=x.sibling,w=x.return;if(Wd(x),x===u){I=null;break}if(p!==null){p.return=w,I=p;break}I=w}}}var f=l.alternate;if(f!==null){var j=f.child;if(j!==null){f.child=null;do{var v=j.sibling;j.sibling=null,j=v}while(j!==null)}}I=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,I=a;else e:for(;I!==null;){if(l=I,l.flags&2048)switch(l.tag){case 0:case 11:case 15:wr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,I=h;break e}I=l.return}}var d=e.current;for(I=d;I!==null;){a=I;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,I=y;else e:for(a=d;I!==null;){if(c=I,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Si(9,c)}}catch(g){Z(c,c.return,g)}if(c===a){I=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,I=S;break e}I=c.return}}if(z=i,Ht(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(pi,e)}catch{}r=!0}return r}finally{U=n,Ve.transition=t}}return!1}function wc(e,t,n){t=Vn(n,t),t=Pd(e,t,1),e=Dt(e,t,1),t=Ne(),e!==null&&(Xr(e,1,t),Re(e,t))}function Z(e,t,n){if(e.tag===3)wc(e,e,n);else for(;t!==null;){if(t.tag===3){wc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=Vn(n,e),e=Od(t,e,1),t=Dt(t,e,1),e=Ne(),t!==null&&(Xr(t,1,e),Re(t,e));break}}t=t.return}}function tp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,ue===e&&(he&n)===n&&(ae===4||ae===3&&(he&130023424)===he&&500>ee()-Ga?nn(e,0):Ja|=n),Re(e,t)}function nf(e,t){t===0&&(e.mode&1?(t=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):t=1);var n=Ne();e=jt(e,t),e!==null&&(Xr(e,t,n),Re(e,n))}function np(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nf(e,n)}function rp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),nf(e,n)}var rf;rf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Ce=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ce=!1,Vm(e,t,n);Ce=!!(e.flags&131072)}else Ce=!1,Y&&t.flags&1048576&&ad(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ms(e,t),e=t.pendingProps;var i=Fn(t,we.current);Pn(t,n),i=Qa(null,t,r,e,i,n);var l=Wa();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(r)?(l=!0,Hs(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fa(t),i.updater=Ni,t.stateNode=i,i._reactInternals=t,Wl(t,r,e,n),t=Kl(null,t,r,!0,l,n)):(t.tag=0,Y&&l&&La(t),je(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ms(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ip(r),e=Ke(r,e),i){case 0:t=Yl(null,t,r,e,n);break e;case 1:t=uc(null,t,r,e,n);break e;case 11:t=oc(null,t,r,e,n);break e;case 14:t=cc(null,t,r,Ke(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Yl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),uc(e,t,r,i,n);case 3:e:{if(Fd(t),e===null)throw Error(b(387));r=t.pendingProps,l=t.memoizedState,i=l.element,hd(e,t),Gs(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Vn(Error(b(423)),t),t=dc(e,t,r,n,i);break e}else if(r!==i){i=Vn(Error(b(424)),t),t=dc(e,t,r,n,i);break e}else for(Ae=Ot(t.stateNode.containerInfo.firstChild),Ie=t,Y=!0,Je=null,n=dd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),r===i){t=Nt(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return md(t),e===null&&Bl(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,$l(r,i)?a=null:l!==null&&$l(r,l)&&(t.flags|=32),zd(e,t),je(e,t,a,n),t.child;case 6:return e===null&&Bl(t),null;case 13:return Ud(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qn(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),oc(e,t,r,i,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value,V(Xs,r._currentValue),r._currentValue=a,l!==null)if(tt(l.value,a)){if(l.children===i.children&&!Ee.current){t=Nt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(l.tag===1){o=gt(-1,n&-n),o.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var x=u.pending;x===null?o.next=o:(o.next=x.next,x.next=o),u.pending=o}}l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Vl(l.return,n,t),c.lanes|=n;break}o=o.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(b(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Vl(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}je(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pn(t,n),i=We(i),r=r(i),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,i=Ke(r,t.pendingProps),i=Ke(r.type,i),cc(e,t,r,i,n);case 15:return Dd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Ms(e,t),t.tag=1,_e(r)?(e=!0,Hs(t)):e=!1,Pn(t,n),Id(t,r,i),Wl(t,r,i,n),Kl(null,t,r,!0,e,n);case 19:return qd(e,t,n);case 22:return $d(e,t,n)}throw Error(b(156,t.tag))};function sf(e,t){return Mu(e,t)}function sp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,n,r){return new sp(e,t,n,r)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ip(e){if(typeof e=="function")return no(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ja)return 11;if(e===Na)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=Be(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Is(e,t,n,r,i,l){var a=2;if(r=e,typeof e=="function")no(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case vn:return rn(n.children,i,l,t);case wa:a=8,i|=8;break;case xl:return e=Be(12,n,t,i|2),e.elementType=xl,e.lanes=l,e;case gl:return e=Be(13,n,t,i),e.elementType=gl,e.lanes=l,e;case yl:return e=Be(19,n,t,i),e.elementType=yl,e.lanes=l,e;case mu:return bi(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fu:a=10;break e;case hu:a=9;break e;case ja:a=11;break e;case Na:a=14;break e;case Ct:a=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Be(a,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function rn(e,t,n,r){return e=Be(7,e,r,t),e.lanes=n,e}function bi(e,t,n,r){return e=Be(22,e,r,t),e.elementType=mu,e.lanes=n,e.stateNode={isHidden:!1},e}function il(e,t,n){return e=Be(6,e,null,t),e.lanes=n,e}function ll(e,t,n){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ro(e,t,n,r,i,l,a,c,o){return e=new lp(e,t,n,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Be(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(l),e}function ap(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lf(e){if(!e)return qt;e=e._reactInternals;e:{if(hn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(_e(n))return id(e,n,t)}return t}function af(e,t,n,r,i,l,a,c,o){return e=ro(n,r,!0,e,i,l,a,c,o),e.context=lf(null),n=e.current,r=Ne(),i=zt(n),l=gt(r,i),l.callback=t??null,Dt(n,l,i),e.current.lanes=i,Xr(e,i,r),Re(e,r),e}function Ci(e,t,n,r){var i=t.current,l=Ne(),a=zt(i);return n=lf(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dt(i,t,a),e!==null&&(Ze(e,i,a,l),_s(e,i,a)),a}function li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function so(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}function op(){return null}var of=typeof reportError=="function"?reportError:function(e){console.error(e)};function io(e){this._internalRoot=e}Ei.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Ci(e,t,null,null)};Ei.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){Ci(null,e,null,null)}),t[wt]=null}};function Ei(e){this._internalRoot=e}Ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=$u();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&t!==0&&t<_t[n].priority;n++);_t.splice(n,0,e),n===0&&Fu(e)}};function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function cp(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=li(a);l.call(u)}}var a=af(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=a,e[wt]=a.current,Ar(e.nodeType===8?e.parentNode:e),dn(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=li(o);c.call(u)}}var o=ro(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=o,e[wt]=o.current,Ar(e.nodeType===8?e.parentNode:e),dn(function(){Ci(t,o,n,r)}),o}function Ri(e,t,n,r,i){var l=n._reactRootContainer;if(l){var a=l;if(typeof i=="function"){var c=i;i=function(){var o=li(a);c.call(o)}}Ci(t,a,e,i)}else a=cp(n,t,e,i,r);return li(a)}Ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(ba(t,n|1),Re(t,ee()),!(z&6)&&(Qn=ee()+500,Ht()))}break;case 13:dn(function(){var r=jt(e,1);if(r!==null){var i=Ne();Ze(r,e,1,i)}}),so(e,1)}};Ca=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=Ne();Ze(t,e,134217728,n)}so(e,134217728)}};Du=function(e){if(e.tag===13){var t=zt(e),n=jt(e,t);if(n!==null){var r=Ne();Ze(n,e,t,r)}so(e,t)}};$u=function(){return U};zu=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};_l=function(e,t,n){switch(t){case"input":if(jl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vi(r);if(!i)throw Error(b(90));xu(r),jl(r,i)}}}break;case"textarea":yu(e,n);break;case"select":t=n.value,t!=null&&Mn(e,!!n.multiple,t,!1)}};bu=Za;Cu=dn;var up={usingClientEntryPoint:!1,Events:[Gr,Sn,vi,Su,ku,Za]},ar={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dp={bundleType:ar.bundleType,version:ar.version,rendererPackageName:ar.rendererPackageName,rendererConfig:ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ru(e),e===null?null:e.stateNode},findFiberByHostInstance:ar.findFiberByHostInstance||op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{pi=ws.inject(dp),ot=ws}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lo(t))throw Error(b(200));return ap(e,t,null,n)};Oe.createRoot=function(e,t){if(!lo(e))throw Error(b(299));var n=!1,r="",i=of;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ro(e,1,!1,null,null,n,!1,r,i),e[wt]=t.current,Ar(e.nodeType===8?e.parentNode:e),new io(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=Ru(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return dn(e)};Oe.hydrate=function(e,t,n){if(!_i(t))throw Error(b(200));return Ri(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!lo(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",a=of;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=af(t,null,e,1,n??null,i,!1,l,a),e[wt]=t.current,Ar(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ei(t)};Oe.render=function(e,t,n){if(!_i(t))throw Error(b(200));return Ri(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!_i(e))throw Error(b(40));return e._reactRootContainer?(dn(function(){Ri(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Oe.unstable_batchedUpdates=Za;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_i(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Ri(e,t,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function cf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cf)}catch(e){console.error(e)}}cf(),ou.exports=Oe;var fp=ou.exports,Sc=fp;ml.createRoot=Sc.createRoot,ml.hydrateRoot=Sc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}var At;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(At||(At={}));const kc="popstate";function hp(e){e===void 0&&(e={});function t(r,i){let{pathname:l,search:a,hash:c}=r.location;return aa("",{pathname:l,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:df(i)}return pp(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mp(){return Math.random().toString(36).substr(2,8)}function bc(e,t){return{usr:e.state,key:e.key,idx:t}}function aa(e,t,n,r){return n===void 0&&(n=null),Ur({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zn(t):t,{state:n,key:t&&t.key||r||mp()})}function df(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pp(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:l=!1}=r,a=i.history,c=At.Pop,o=null,u=x();u==null&&(u=0,a.replaceState(Ur({},a.state,{idx:u}),""));function x(){return(a.state||{idx:null}).idx}function m(){c=At.Pop;let v=x(),h=v==null?null:v-u;u=v,o&&o({action:c,location:j.location,delta:h})}function p(v,h){c=At.Push;let d=aa(j.location,v,h);n&&n(d,v),u=x()+1;let y=bc(d,u),S=j.createHref(d);try{a.pushState(y,"",S)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;i.location.assign(S)}l&&o&&o({action:c,location:j.location,delta:1})}function w(v,h){c=At.Replace;let d=aa(j.location,v,h);n&&n(d,v),u=x();let y=bc(d,u),S=j.createHref(d);a.replaceState(y,"",S),l&&o&&o({action:c,location:j.location,delta:0})}function f(v){let h=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof v=="string"?v:df(v);return d=d.replace(/ $/,"%20"),ie(h,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,h)}let j={get action(){return c},get location(){return e(i,a)},listen(v){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(kc,m),o=v,()=>{i.removeEventListener(kc,m),o=null}},createHref(v){return t(i,v)},createURL:f,encodeLocation(v){let h=f(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:w,go(v){return a.go(v)}};return j}var Cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cc||(Cc={}));function xp(e,t,n){return n===void 0&&(n="/"),gp(e,t,n,!1)}function gp(e,t,n,r){let i=typeof t=="string"?Zn(t):t,l=mf(i.pathname||"/",n);if(l==null)return null;let a=ff(e);yp(a);let c=null;for(let o=0;c==null&&o<a.length;++o){let u=Rp(l);c=Ep(a[o],u,r)}return c}function ff(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(l,a,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};o.relativePath.startsWith("/")&&(ie(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let u=sn([r,o.relativePath]),x=n.concat(o);l.children&&l.children.length>0&&(ie(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ff(l.children,t,x,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:bp(u,l.index),routesMeta:x})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,a);else for(let o of hf(l.path))i(l,a,o)}),t}function hf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let a=hf(r.join("/")),c=[];return c.push(...a.map(o=>o===""?l:[l,o].join("/"))),i&&c.push(...a),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function yp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Cp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vp=/^:[\w-]+$/,wp=3,jp=2,Np=1,Sp=10,kp=-2,Ec=e=>e==="*";function bp(e,t){let n=e.split("/"),r=n.length;return n.some(Ec)&&(r+=kp),t&&(r+=jp),n.filter(i=>!Ec(i)).reduce((i,l)=>i+(vp.test(l)?wp:l===""?Np:Sp),r)}function Cp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ep(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},l="/",a=[];for(let c=0;c<r.length;++c){let o=r[c],u=c===r.length-1,x=l==="/"?t:t.slice(l.length)||"/",m=_c({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},x),p=o.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=_c({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},x)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:sn([l,m.pathname]),pathnameBase:Lp(sn([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=sn([l,m.pathnameBase]))}return a}function _c(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_p(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],a=l.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((u,x,m)=>{let{paramName:p,isOptional:w}=x;if(p==="*"){let j=c[m]||"";a=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const f=c[m];return w&&!f?u[p]=void 0:u[p]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:a,pattern:e}}function _p(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),uf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,o)=>(r.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Rp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Tp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zn(e):e;return{pathname:n?n.startsWith("/")?n:Mp(n,t):t,search:Ip(r),hash:Pp(i)}}function Mp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function al(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ap(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pf(e,t){let n=Ap(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xf(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Zn(e):(i=Ur({},e),ie(!i.pathname||!i.pathname.includes("?"),al("?","pathname","search",i)),ie(!i.pathname||!i.pathname.includes("#"),al("#","pathname","hash",i)),ie(!i.search||!i.search.includes("#"),al("#","search","hash",i)));let l=e===""||i.pathname==="",a=l?"/":i.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}c=m>=0?t[m]:"/"}let o=Tp(i,c),u=a&&a!=="/"&&a.endsWith("/"),x=(l||a===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||x)&&(o.pathname+="/"),o}const sn=e=>e.join("/").replace(/\/\/+/g,"/"),Lp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ip=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Op(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gf=["post","put","patch","delete"];new Set(gf);const Dp=["get",...gf];new Set(Dp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}const ao=N.createContext(null),$p=N.createContext(null),es=N.createContext(null),Ti=N.createContext(null),mn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),yf=N.createContext(null);function ts(){return N.useContext(Ti)!=null}function oo(){return ts()||ie(!1),N.useContext(Ti).location}function vf(e){N.useContext(es).static||N.useLayoutEffect(e)}function zp(){let{isDataRoute:e}=N.useContext(mn);return e?Gp():Fp()}function Fp(){ts()||ie(!1);let e=N.useContext(ao),{basename:t,future:n,navigator:r}=N.useContext(es),{matches:i}=N.useContext(mn),{pathname:l}=oo(),a=JSON.stringify(pf(i,n.v7_relativeSplatPath)),c=N.useRef(!1);return vf(()=>{c.current=!0}),N.useCallback(function(u,x){if(x===void 0&&(x={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let m=xf(u,JSON.parse(a),l,x.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:sn([t,m.pathname])),(x.replace?r.replace:r.push)(m,x.state,x)},[t,r,a,l,e])}function Up(e,t){return qp(e,t)}function qp(e,t,n,r){ts()||ie(!1);let{navigator:i}=N.useContext(es),{matches:l}=N.useContext(mn),a=l[l.length-1],c=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let u=oo(),x;if(t){var m;let v=typeof t=="string"?Zn(t):t;o==="/"||(m=v.pathname)!=null&&m.startsWith(o)||ie(!1),x=v}else x=u;let p=x.pathname||"/",w=p;if(o!=="/"){let v=o.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let f=xp(e,{pathname:w}),j=Hp(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:sn([o,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?o:sn([o,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),l,n,r);return t&&j?N.createElement(Ti.Provider,{value:{location:qr({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:At.Pop}},j):j}function Bp(){let e=Jp(),t=Op(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,l)}const Vp=N.createElement(Bp,null);class Qp extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(mn.Provider,{value:this.props.routeContext},N.createElement(yf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wp(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(ao);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(mn.Provider,{value:t},r)}function Hp(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let x=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);x>=0||ie(!1),a=a.slice(0,Math.min(a.length,x+1))}let o=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<a.length;x++){let m=a[x];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=x),m.route.id){let{loaderData:p,errors:w}=n,f=m.route.loader&&p[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||f){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((x,m,p)=>{let w,f=!1,j=null,v=null;n&&(w=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||Vp,o&&(u<0&&p===0?(Zp("route-fallback",!1),f=!0,v=null):u===p&&(f=!0,v=m.route.hydrateFallbackElement||null)));let h=t.concat(a.slice(0,p+1)),d=()=>{let y;return w?y=j:f?y=v:m.route.Component?y=N.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=x,N.createElement(Wp,{match:m,routeContext:{outlet:x,matches:h,isDataRoute:n!=null},children:y})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?N.createElement(Qp,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var wf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wf||{}),ai=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ai||{});function Yp(e){let t=N.useContext(ao);return t||ie(!1),t}function Kp(e){let t=N.useContext($p);return t||ie(!1),t}function Xp(e){let t=N.useContext(mn);return t||ie(!1),t}function jf(e){let t=Xp(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function Jp(){var e;let t=N.useContext(yf),n=Kp(ai.UseRouteError),r=jf(ai.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Gp(){let{router:e}=Yp(wf.UseNavigateStable),t=jf(ai.UseNavigateStable),n=N.useRef(!1);return vf(()=>{n.current=!0}),N.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qr({fromRouteId:t},l)))},[e,t])}const Rc={};function Zp(e,t,n){!t&&!Rc[e]&&(Rc[e]=!0)}function ex(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function fr(e){let{to:t,replace:n,state:r,relative:i}=e;ts()||ie(!1);let{future:l,static:a}=N.useContext(es),{matches:c}=N.useContext(mn),{pathname:o}=oo(),u=zp(),x=xf(t,pf(c,l.v7_relativeSplatPath),o,i==="path"),m=JSON.stringify(x);return N.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function Gt(e){ie(!1)}function tx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=At.Pop,navigator:l,static:a=!1,future:c}=e;ts()&&ie(!1);let o=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:o,navigator:l,static:a,future:qr({v7_relativeSplatPath:!1},c)}),[o,c,l,a]);typeof r=="string"&&(r=Zn(r));let{pathname:x="/",search:m="",hash:p="",state:w=null,key:f="default"}=r,j=N.useMemo(()=>{let v=mf(x,o);return v==null?null:{location:{pathname:v,search:m,hash:p,state:w,key:f},navigationType:i}},[o,x,m,p,w,f,i]);return j==null?null:N.createElement(es.Provider,{value:u},N.createElement(Ti.Provider,{children:n,value:j}))}function Tc(e){let{children:t,location:n}=e;return Up(oa(t),n)}new Promise(()=>{});function oa(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let l=[...t,i];if(r.type===N.Fragment){n.push.apply(n,oa(r.props.children,l));return}r.type!==Gt&&ie(!1),!r.props.index||!r.props.children||ie(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=oa(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nx="6";try{window.__reactRouterVersion=nx}catch{}const rx="startTransition",Mc=th[rx];function sx(e){let{basename:t,children:n,future:r,window:i}=e,l=N.useRef();l.current==null&&(l.current=hp({window:i,v5Compat:!0}));let a=l.current,[c,o]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},x=N.useCallback(m=>{u&&Mc?Mc(()=>o(m)):o(m)},[o,u]);return N.useLayoutEffect(()=>a.listen(x),[a,x]),N.useEffect(()=>ex(r),[r]),N.createElement(tx,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}var Ac;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ac||(Ac={}));var Lc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lc||(Lc={}));var lt=[],Fe=[],ix=Uint8Array,ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gn=0,lx=ol.length;gn<lx;++gn)lt[gn]=ol[gn],Fe[ol.charCodeAt(gn)]=gn;Fe["-".charCodeAt(0)]=62;Fe["_".charCodeAt(0)]=63;function ax(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function ox(e,t,n){return(t+n)*3/4-n}function Br(e){var t,n=ax(e),r=n[0],i=n[1],l=new ix(ox(e,r,i)),a=0,c=i>0?r-4:r,o;for(o=0;o<c;o+=4)t=Fe[e.charCodeAt(o)]<<18|Fe[e.charCodeAt(o+1)]<<12|Fe[e.charCodeAt(o+2)]<<6|Fe[e.charCodeAt(o+3)],l[a++]=t>>16&255,l[a++]=t>>8&255,l[a++]=t&255;return i===2&&(t=Fe[e.charCodeAt(o)]<<2|Fe[e.charCodeAt(o+1)]>>4,l[a++]=t&255),i===1&&(t=Fe[e.charCodeAt(o)]<<10|Fe[e.charCodeAt(o+1)]<<4|Fe[e.charCodeAt(o+2)]>>2,l[a++]=t>>8&255,l[a++]=t&255),l}function cx(e){return lt[e>>18&63]+lt[e>>12&63]+lt[e>>6&63]+lt[e&63]}function ux(e,t,n){for(var r,i=[],l=t;l<n;l+=3)r=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(e[l+2]&255),i.push(cx(r));return i.join("")}function Vr(e){for(var t,n=e.length,r=n%3,i=[],l=16383,a=0,c=n-r;a<c;a+=l)i.push(ux(e,a,a+l>c?c:a+l));return r===1?(t=e[n-1],i.push(lt[t>>2]+lt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(lt[t>>10]+lt[t>>4&63]+lt[t<<2&63]+"=")),i.join("")}function ht(e){if(e===void 0)return{};if(!Nf(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function dx(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Nf(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const Sf=!0,Wn=BigInt("-9223372036854775808"),co=BigInt("9223372036854775807"),ca=BigInt("0"),fx=BigInt("8"),hx=BigInt("256");function kf(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function mx(e){e<ca&&(e-=Wn+Wn);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=fx;return Vr(n)}function px(e){const t=Br(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=ca,r=ca;for(const i of t)n+=BigInt(i)*hx**r,r++;return n>co&&(n+=Wn+Wn),n}function xx(e){if(e<Wn||co<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Vr(new Uint8Array(t))}function gx(e){const t=Br(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const yx=DataView.prototype.setBigInt64?xx:mx,vx=DataView.prototype.getBigInt64?gx:px,Ic=1024;function ua(e){if(e.length>Ic)throw new Error(`Field name ${e} exceeds maximum field name length ${Ic}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function Hn(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>Hn(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Br(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return vx(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Br(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,Sf);if(!kf(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))ua(r),n[r]=Hn(i);return n}function Dn(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function oi(e,t,n,r){var a;if(e===void 0){const c=n&&` (present at path ${n} in original object ${Dn(t)})`;throw new Error(`undefined is not a valid Convex value${c}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<Wn||co<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:yx(e)}}if(typeof e=="number")if(kf(e)){const c=new ArrayBuffer(8);return new DataView(c).setFloat64(0,e,Sf),{$float:Vr(new Uint8Array(c))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Vr(new Uint8Array(e))};if(Array.isArray(e))return e.map((c,o)=>oi(c,t,n+`[${o}]`,!1));if(e instanceof Set)throw new Error(cl(n,"Set",[...e],t));if(e instanceof Map)throw new Error(cl(n,"Map",[...e],t));if(!Nf(e)){const c=(a=e==null?void 0:e.constructor)==null?void 0:a.name,o=c?`${c} `:"";throw new Error(cl(n,o,e,t))}const i={},l=Object.entries(e);l.sort(([c,o],[u,x])=>c===u?0:c<u?-1:1);for(const[c,o]of l)o!==void 0?(ua(c),i[c]=oi(o,t,n+`.${c}`,!1)):r&&(ua(c),i[c]=wx(o,t,n+`.${c}`));return i}function cl(e,t,n,r){return e?`${t}${Dn(n)} is not a supported Convex type (present at path ${e} in original object ${Dn(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Dn(n)} is not a supported Convex type.`}function wx(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${Dn(e)} but original value is undefined`);return oi(e,t,n,!1)}function Bt(e){return oi(e,e,"",!1)}var jx=Object.defineProperty,Nx=(e,t,n)=>t in e?jx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ul=(e,t,n)=>Nx(e,typeof t!="symbol"?t+"":t,n),Pc,Oc;const Sx=Symbol.for("ConvexError");class da extends(Oc=Error,Pc=Sx,Oc){constructor(t){super(typeof t=="string"?t:Dn(t)),ul(this,"name","ConvexError"),ul(this,"data"),ul(this,Pc,!0),this.data=t}}const bf=()=>Array.from({length:4},()=>0);bf();bf();const Dc="1.28.0";var kx=Object.defineProperty,bx=(e,t,n)=>t in e?kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$c=(e,t,n)=>bx(e,typeof t!="symbol"?t+"":t,n);const Cx="color:rgb(0, 145, 255)";function Cf(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class Ef{constructor(t){$c(this,"_onLogLineFuncs"),$c(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let n=Math.random().toString(36).substring(2,15);for(let r=0;r<10&&this._onLogLineFuncs[n]!==void 0;r++)n=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[n]=t,()=>{delete this._onLogLineFuncs[n]}}logVerbose(...t){if(this._verbose)for(const n of Object.values(this._onLogLineFuncs))n("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const n of Object.values(this._onLogLineFuncs))n("info",...t)}warn(...t){for(const n of Object.values(this._onLogLineFuncs))n("warn",...t)}error(...t){for(const n of Object.values(this._onLogLineFuncs))n("error",...t)}}function _f(e){const t=new Ef(e);return t.addLogLineListener((n,...r)=>{switch(n){case"debug":console.debug(...r);break;case"info":console.log(...r);break;case"warn":console.warn(...r);break;case"error":console.error(...r);break;default:console.log(...r)}}),t}function Rf(e){return new Ef(e)}function ci(e,t,n,r,i){const l=Cf(n);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const a=i.match(/^\[.*?\] /);if(a===null){e.error(`[CONVEX ${l}(${r})] Could not parse console.log`);return}const c=i.slice(1,a[0].length-2),o=i.slice(a[0].length);e.log(`%c[CONVEX ${l}(${r})] [${c}]`,Cx,o)}else e.error(`[CONVEX ${l}(${r})] ${i}`)}function Ex(e,t){const n=`[CONVEX FATAL ERROR] ${t}`;return e.error(n),new Error(n)}function Tn(e,t,n){return`[CONVEX ${Cf(e)}(${t})] ${n.errorMessage}
  Called by client`}function fa(e,t){return t.data=e.errorData,t}function ui(e){const t=e.split(":");let n,r;return t.length===1?(n=t[0],r="default"):(n=t.slice(0,t.length-1).join(":"),r=t[t.length-1]),n.endsWith(".js")&&(n=n.slice(0,-3)),`${n}:${r}`}function ln(e,t){return JSON.stringify({udfPath:ui(e),args:Bt(t)})}var _x=Object.defineProperty,Rx=(e,t,n)=>t in e?_x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t,n)=>Rx(e,typeof t!="symbol"?t+"":t,n);class Tx{constructor(){rt(this,"nextQueryId"),rt(this,"querySetVersion"),rt(this,"querySet"),rt(this,"queryIdToToken"),rt(this,"identityVersion"),rt(this,"auth"),rt(this,"outstandingQueriesOlderThanRestart"),rt(this,"outstandingAuthOlderThanRestart"),rt(this,"paused"),rt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,n,r,i){const l=ui(t),a=ln(l,n),c=this.querySet.get(a);if(c!==void 0)return c.numSubscribers+=1,{queryToken:a,modification:null,unsubscribe:()=>this.removeSubscriber(a)};{const o=this.nextQueryId++,u={id:o,canonicalizedUdfPath:l,args:n,numSubscribers:1,journal:r,componentPath:i};this.querySet.set(a,u),this.queryIdToToken.set(o,a);const x=this.querySetVersion,m=this.querySetVersion+1,p={type:"Add",queryId:o,udfPath:l,args:[Bt(n)],journal:r,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(o,p):this.querySetVersion=m,{queryToken:a,modification:{type:"ModifyQuerySet",baseVersion:x,newVersion:m,modifications:[p]},unsubscribe:()=>this.removeSubscriber(a)}}}transition(t){for(const n of t.modifications)switch(n.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);const r=n.journal;if(r!==void 0){const i=this.queryIdToToken.get(n.queryId);i!==void 0&&(this.querySet.get(i).journal=r)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}}queryId(t,n){const r=ui(t),i=ln(r,n),l=this.querySet.get(i);return l!==void 0?l.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...this.auth}}setAdminAuth(t,n){const r={tokenType:"Admin",value:t,impersonating:n};this.auth=r;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...r}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var n;return((n=this.auth)==null?void 0:n.value)!==t}queryPath(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).canonicalizedUdfPath:null}queryArgs(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var n;return(n=this.querySet.get(t))==null?void 0:n.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const n=[];for(const l of this.querySet.values()){const a={type:"Add",queryId:l.id,udfPath:l.canonicalizedUdfPath,args:[Bt(l.args)],journal:l.journal,componentPath:l.componentPath};n.push(a),t.has(l.id)||this.outstandingQueriesOlderThanRestart.add(l.id)}this.querySetVersion=1;const r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:n};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,n=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,n]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const n=this.querySet.get(t);if(n.numSubscribers>1)return n.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(n.id),this.outstandingQueriesOlderThanRestart.delete(n.id);const r=this.querySetVersion,i=this.querySetVersion+1,l={type:"Remove",queryId:n.id};return this.paused?this.pendingQuerySetModifications.has(n.id)?this.pendingQuerySetModifications.delete(n.id):this.pendingQuerySetModifications.set(n.id,l):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:r,newVersion:i,modifications:[l]}}}}var Mx=Object.defineProperty,Ax=(e,t,n)=>t in e?Mx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,js=(e,t,n)=>Ax(e,typeof t!="symbol"?t+"":t,n);class Lx{constructor(t,n){this.logger=t,this.markConnectionStateDirty=n,js(this,"inflightRequests"),js(this,"requestsOlderThanRestart"),js(this,"inflightMutationsCount",0),js(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,n){const r=new Promise(i=>{const l=n?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:l,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),r}onResponse(t){const n=this.inflightRequests.get(t.requestId);if(n===void 0||n.status.status==="Completed")return null;const r=n.message.type==="Mutation"?"mutation":"action",i=n.message.udfPath;for(const o of t.logLines)ci(this.logger,"info",r,i,o);const l=n.status;let a,c;if(t.success)a={success:!0,logLines:t.logLines,value:Hn(t.result)},c=()=>l.onResult(a);else{const o=t.result,{errorData:u}=t;ci(this.logger,"error",r,i,o),a={success:!1,errorMessage:o,errorData:u!==void 0?Hn(u):void 0,logLines:t.logLines},c=()=>l.onResult(a)}return t.type==="ActionResponse"||!t.success?(c(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),n.message.type==="Action"?this.inflightActionsCount--:n.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:a}):(n.status={status:"Completed",result:a,ts:t.ts,onResolve:c},null)}removeCompleted(t){const n=new Map;for(const[r,i]of this.inflightRequests.entries()){const l=i.status;l.status==="Completed"&&l.ts.lessThanOrEqual(t)&&(l.onResolve(),n.set(r,l.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return n.size>0&&this.markConnectionStateDirty(),n}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[n,r]of this.inflightRequests){if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}if(r.message.type==="Mutation")t.push(r.message);else if(r.message.type==="Action"){if(this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n),this.inflightActionsCount--,r.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,n]of this.inflightRequests)if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const n of this.inflightRequests.values())n.status.status!=="Completed"&&n.status.requestedAt.getTime()<t&&(t=n.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Qr=Symbol.for("functionName"),Tf=Symbol.for("toReferencePath");function Ix(e){return e[Tf]??null}function Px(e){return e.startsWith("function://")}function Ox(e){let t;if(typeof e=="string")Px(e)?t={functionHandle:e}:t={name:e};else if(e[Qr])t={name:e[Qr]};else{const n=Ix(e);if(!n)throw new Error(`${e} is not a functionReference`);t={reference:n}}return t}function Le(e){const t=Ox(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const n=e[Qr];if(!n)throw new Error(`${e} is not a functionReference`);return n}function Mf(e){return{[Qr]:e}}function Af(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return Af(i)}else if(r===Qr){if(e.length<2){const a=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}const i=e.slice(0,-1).join("/"),l=e[e.length-1];return l==="default"?i:i+":"+l}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Dx=Af();var $x=Object.defineProperty,zx=(e,t,n)=>t in e?$x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,di=(e,t,n)=>zx(e,typeof t!="symbol"?t+"":t,n);class Wr{constructor(t){di(this,"queryResults"),di(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...n){const r=ht(n[0]),i=Le(t),l=this.queryResults.get(ln(i,r));if(l!==void 0)return Wr.queryValue(l.result)}getAllQueries(t){const n=[],r=Le(t);for(const i of this.queryResults.values())i.udfPath===ui(r)&&n.push({args:i.args,value:Wr.queryValue(i.result)});return n}setQuery(t,n,r){const i=ht(n),l=Le(t),a=ln(l,i);let c;r===void 0?c=void 0:c={success:!0,value:r,logLines:[]};const o={udfPath:l,args:i,result:c};this.queryResults.set(a,o),this.modifiedQueries.push(a)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Fx{constructor(){di(this,"queryResults"),di(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,n){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!n.has(a.mutationId));const r=this.queryResults;this.queryResults=new Map(t);const i=new Wr(this.queryResults);for(const a of this.optimisticUpdates)a.update(i);const l=[];for(const[a,c]of this.queryResults){const o=r.get(a);(o===void 0||o.result!==c.result)&&l.push(a)}return l}applyOptimisticUpdate(t,n){this.optimisticUpdates.push({update:t,mutationId:n});const r=new Wr(this.queryResults);return t(r),r.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const n=this.queryResults.get(t);if(n===void 0)return;const r=n.result;if(r!==void 0){if(r.success)return r.value;throw r.errorData!==void 0?fa(r,new da(Tn("query",n.udfPath,r))):new Error(Tn("query",n.udfPath,r))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var r;const n=this.queryResults.get(t);return(r=n==null?void 0:n.result)==null?void 0:r.logLines}}var Ux=Object.defineProperty,qx=(e,t,n)=>t in e?Ux(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dl=(e,t,n)=>qx(e,typeof t!="symbol"?t+"":t,n);class Me{constructor(t,n){dl(this,"low"),dl(this,"high"),dl(this,"__isUnsignedLong__"),this.low=t|0,this.high=n|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new Me(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?zc:t>=Bx?Vx:new Me(t%Sr|0,t/Sr|0)}toString(){return(BigInt(this.high)*BigInt(Sr)+BigInt(this.low)).toString()}equals(t){return Me.isLong(t)||(t=Me.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return Me.isLong(t)||(t=Me.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?Me.fromNumber(t):new Me(t.low,t.high)}}const zc=new Me(0,0),Fc=65536,Sr=Fc*Fc,Bx=Sr*Sr,Vx=new Me(-1,-1);var Qx=Object.defineProperty,Wx=(e,t,n)=>t in e?Qx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ns=(e,t,n)=>Wx(e,typeof t!="symbol"?t+"":t,n);class Uc{constructor(t,n){Ns(this,"version"),Ns(this,"remoteQuerySet"),Ns(this,"queryPath"),Ns(this,"logger"),this.version={querySet:0,ts:Me.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=n}transition(t){const n=t.startVersion;if(this.version.querySet!==n.querySet||this.version.ts.notEquals(n.ts)||this.version.identity!==n.identity)throw new Error(`Invalid start version: ${n.ts.toString()}:${n.querySet}:${n.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const r of t.modifications)switch(r.type){case"QueryUpdated":{const i=this.queryPath(r.queryId);if(i)for(const a of r.logLines)ci(this.logger,"info","query",i,a);const l=Hn(r.value??null);this.remoteQuerySet.set(r.queryId,{success:!0,value:l,logLines:r.logLines});break}case"QueryFailed":{const i=this.queryPath(r.queryId);if(i)for(const a of r.logLines)ci(this.logger,"info","query",i,a);const{errorData:l}=r;this.remoteQuerySet.set(r.queryId,{success:!1,errorMessage:r.errorMessage,errorData:l!==void 0?Hn(l):void 0,logLines:r.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function fl(e){const t=Br(e);return Me.fromBytesLE(Array.from(t))}function Hx(e){const t=new Uint8Array(e.toBytesLE());return Vr(t)}function qc(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:fl(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:fl(e.startVersion.ts)},endVersion:{...e.endVersion,ts:fl(e.endVersion.ts)}}}}function Yx(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:Hx(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var Kx=Object.defineProperty,Xx=(e,t,n)=>t in e?Kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,de=(e,t,n)=>Xx(e,typeof t!="symbol"?t+"":t,n);const Jx=1e3,Gx=1001,Zx=1005,e0=4040;let Ps;function Os(){return Ps===void 0&&(Ps=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ps+performance.now())}function Bc(){return`t=${Math.round((Os()-Ps)/100)/10}s`}const Lf={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function t0(e){if(e===void 0)return"Unknown";for(const t of Object.keys(Lf))if(e.startsWith(t))return t;return"Unknown"}class n0{constructor(t,n,r,i,l,a){this.markConnectionStateDirty=l,this.debug=a,de(this,"socket"),de(this,"connectionCount"),de(this,"_hasEverConnected",!1),de(this,"lastCloseReason"),de(this,"transitionChunkBuffer",null),de(this,"defaultInitialBackoff"),de(this,"maxBackoff"),de(this,"retries"),de(this,"serverInactivityThreshold"),de(this,"reconnectDueToServerInactivityTimeout"),de(this,"uri"),de(this,"onOpen"),de(this,"onResume"),de(this,"onMessage"),de(this,"webSocketConstructor"),de(this,"logger"),de(this,"onServerDisconnectError"),this.webSocketConstructor=r,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=n.onOpen,this.onResume=n.onResume,this.onMessage=n.onMessage,this.onServerDisconnectError=n.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const n=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${n}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const n=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const r=qc(JSON.parse(n));if(r.type!=="Transition")throw new Error(`Expected Transition, got ${r.type} after assembling chunks`);return r}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Os()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Bc(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Bc())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=n=>{this.transitionChunkBuffer=null;const r=n.message;r&&this.logger.log(`WebSocket error message: ${r}`)},t.onmessage=n=>{this.resetServerInactivityTimeout();const r=n.data.length;let i=qc(JSON.parse(n.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const a=this.assembleTransition(i);if(!a)return;i=a,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:r,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=n=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=n.reason||`closed with code ${n.code}`),n.code!==Jx&&n.code!==Gx&&n.code!==Zx&&n.code!==e0){let i=`WebSocket closed with code ${n.code}`;n.reason&&(i+=`: ${n.reason}`),this.logger.log(i),this.onServerDisconnectError&&n.reason&&this.onServerDisconnectError(i)}const r=t0(n.reason);this.scheduleReconnect(r)}}socketState(){return this.socket.state}sendMessage(t){const n={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const r=Yx(t),i=JSON.stringify(r);let l=!1;try{this.socket.ws.send(i),l=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${l?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(n)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(n)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const n=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(n)}ms`),setTimeout(()=>this.connect(),n)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=n=>{this._logVerbose("Ignoring message received after close")},new Promise(n=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),n()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=r=>{this._logVerbose("Ignoring message received after close")};const n=new Promise(r=>{t.onclose=()=>{r()}});return t.close(),n}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Os()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const r=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:Lf[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(r,this.maxBackoff),l=i*(Math.random()-.5);return i+l}reportLargeTransition({transition:t,messageLength:n}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const r=Os()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(r)}ms`,l=`${Math.round(n/1e4)/100}MB`,a=n/(r/1e3),c=`${Math.round(a/1e4)/100}MB per second`;this._logVerbose(`received ${l} transition in ${i} at ${c}`),n>2e7?this.logger.log(`received query results totaling more that 20MB (${l}) which will take a long time to download on slower connections`):r>2e4&&this.logger.log(`received query results totaling ${l} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:r,messageLength:n}})}}function r0(){return s0()}function s0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class hr extends Error{}hr.prototype.name="InvalidTokenError";function i0(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function l0(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return i0(t)}catch{return atob(t)}}function If(e,t){if(typeof e!="string")throw new hr("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new hr(`Invalid token specified: missing part #${n+1}`);let i;try{i=l0(r)}catch(l){throw new hr(`Invalid token specified: invalid base64 for part #${n+1} (${l.message})`)}try{return JSON.parse(i)}catch(l){throw new hr(`Invalid token specified: invalid json for part #${n+1} (${l.message})`)}}var a0=Object.defineProperty,o0=(e,t,n)=>t in e?a0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ze=(e,t,n)=>o0(e,typeof t!="symbol"?t+"":t,n);const c0=20*24*60*60*1e3,Vc=2;class u0{constructor(t,n,r){ze(this,"authState",{state:"noAuth"}),ze(this,"configVersion",0),ze(this,"syncState"),ze(this,"authenticate"),ze(this,"stopSocket"),ze(this,"tryRestartSocket"),ze(this,"pauseSocket"),ze(this,"resumeSocket"),ze(this,"clearAuth"),ze(this,"logger"),ze(this,"refreshTokenLeewaySeconds"),ze(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=n.authenticate,this.stopSocket=n.stopSocket,this.tryRestartSocket=n.tryRestartSocket,this.pauseSocket=n.pauseSocket,this.resumeSocket=n.resumeSocket,this.clearAuth=n.clearAuth,this.logger=r.logger,this.refreshTokenLeewaySeconds=r.refreshTokenLeewaySeconds}async setConfig(t,n){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const r=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:n},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:n}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:n}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(n+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Vc){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Vc-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const n=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});n.isFromOutdatedConfig||(n.value&&this.syncState.isNewAuth(n.value)?(this.authenticate(n.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:n.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const n=this.decodeToken(t);if(!n){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:r,exp:i}=n;if(!r||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const l=i-r;if(l<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let a=Math.min(c0,(l-this.refreshTokenLeewaySeconds)*1e3);a<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${l}s`),a=0);const c=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},a);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:c,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${a}ms`)}async fetchTokenAndGuardAgainstRace(t,n){const r=++this.configVersion;this._logVerbose(`fetching token with config version ${r}`);const i=await t(n);return this.configVersion!==r?(this._logVerbose(`stale config version, expected ${r}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const n=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(n)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return If(t)}catch(n){return this._logVerbose(`Error decoding token: ${n instanceof Error?n.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const d0=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function f0(e,t){const n={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:n})}function h0(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function m0(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const n of d0){const r=performance.getEntriesByName(n).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...r)}return t.map(h0)}var p0=Object.defineProperty,x0=(e,t,n)=>t in e?p0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t,n)=>x0(e,typeof t!="symbol"?t+"":t,n);class g0{constructor(t,n,r){if(re(this,"address"),re(this,"state"),re(this,"requestManager"),re(this,"webSocketManager"),re(this,"authenticationManager"),re(this,"remoteQuerySet"),re(this,"optimisticQueryResults"),re(this,"_transitionHandlerCounter",0),re(this,"_nextRequestId"),re(this,"_onTransitionFns",new Map),re(this,"_sessionId"),re(this,"firstMessageReceived",!1),re(this,"debug"),re(this,"logger"),re(this,"maxObservedTimestamp"),re(this,"connectionStateSubscribers",new Map),re(this,"nextConnectionStateSubscriberId",0),re(this,"_lastPublishedConnectionState"),re(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const w=this.connectionState();if(JSON.stringify(w)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=w;for(const f of this.connectionStateSubscribers.values())f(w)}})}),re(this,"mark",w=>{this.debug&&f0(w,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(r==null?void 0:r.skipConvexDeploymentUrlCheck)!==!0&&dx(t),r={...r};const i=r.authRefreshTokenLeewaySeconds??2;let l=r.webSocketConstructor;if(!l&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");l=l||WebSocket,this.debug=r.reportDebugInfoToConvex??!1,this.address=t,this.logger=r.logger===!1?Rf({verbose:r.verbose??!1}):r.logger!==!0&&r.logger?r.logger:_f({verbose:r.verbose??!1});const a=t.search("://");if(a===-1)throw new Error("Provided address was not an absolute URL.");const c=t.substring(a+3),o=t.substring(0,a);let u;if(o==="http")u="ws";else if(o==="https")u="wss";else throw new Error(`Unknown parent protocol ${o}`);const x=`${u}://${c}/api/${Dc}/sync`;this.state=new Tx,this.remoteQuerySet=new Uc(w=>this.state.queryPath(w),this.logger),this.requestManager=new Lx(this.logger,this.markConnectionStateDirty);const m=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new u0(this.state,{authenticate:w=>{const f=this.state.setAuth(w);return this.webSocketManager.sendMessage(f),f.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:m,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new Fx,this.addOnTransitionHandler(w=>{n(w.queries.map(f=>f.token))}),this._nextRequestId=0,this._sessionId=r0();const{unsavedChangesWarning:p}=r;if(typeof window>"u"||typeof window.addEventListener>"u"){if(p===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else p!==!1&&window.addEventListener("beforeunload",w=>{if(this.requestManager.hasIncompleteRequests()){w.preventDefault();const f="Are you sure you want to leave? Your changes may not be saved.";return(w||window.event).returnValue=f,f}});this.webSocketManager=new n0(x,{onOpen:w=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...w,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const f=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Uc(h=>this.state.queryPath(h),this.logger);const[j,v]=this.state.restart(f);v&&this.webSocketManager.sendMessage(v),this.webSocketManager.sendMessage(j);for(const h of this.requestManager.restart())this.webSocketManager.sendMessage(h)},onResume:()=>{const[w,f]=this.state.resume();f&&this.webSocketManager.sendMessage(f),w&&this.webSocketManager.sendMessage(w);for(const j of this.requestManager.resume())this.webSocketManager.sendMessage(j)},onMessage:w=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),w.type){case"Transition":{this.observedTimestamp(w.endVersion.ts),this.authenticationManager.onTransition(w),this.remoteQuerySet.transition(w),this.state.transition(w);const f=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(f);break}case"MutationResponse":{w.success&&this.observedTimestamp(w.ts);const f=this.requestManager.onResponse(w);f!==null&&this.notifyOnQueryResultChanges(new Map([[f.requestId,f.result]]));break}case"ActionResponse":{this.requestManager.onResponse(w);break}case"AuthError":{this.authenticationManager.onAuthError(w);break}case"FatalError":{const f=Ex(this.logger,w.error);throw this.webSocketManager.terminate(),f}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:r.onServerDisconnectError},l,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),r.expectAuth&&m()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const n=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(const[l,a]of n){const c=this.state.queryToken(l);if(c!==null){const o={result:a,udfPath:this.state.queryPath(l),args:this.state.queryArgs(l)};r.set(c,o)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(r,new Set(t.keys()));this.handleTransition({queries:i.map(l=>{const a=this.optimisticQueryResults.rawQueryResult(l);return{token:l,modification:{kind:"Updated",result:a.result}}}),reflectedMutations:Array.from(t).map(([l,a])=>({requestId:l,result:a})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const n of this._onTransitionFns.values())n(t)}addOnTransitionHandler(t){const n=this._transitionHandlerCounter++;return this._onTransitionFns.set(n,t),()=>this._onTransitionFns.delete(n)}getCurrentAuthClaims(){const t=this.state.getAuth();let n={};if(t&&t.tokenType==="User")try{n=t?If(t.value):{}}catch{n={}}else return;return{token:t.value,decoded:n}}setAuth(t,n){this.authenticationManager.setConfig(t,n)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,n){const r=this.state.setAdminAuth(t,n);this.webSocketManager.sendMessage(r)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,n,r){const i=ht(n),{modification:l,queryToken:a,unsubscribe:c}=this.state.subscribe(t,i,r==null?void 0:r.journal,r==null?void 0:r.componentPath);return l!==null&&this.webSocketManager.sendMessage(l),{queryToken:a,unsubscribe:()=>{const o=c();o&&this.webSocketManager.sendMessage(o)}}}localQueryResult(t,n){const r=ht(n),i=ln(t,r);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,n){const r=ht(n),i=ln(t,r);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,n){const r=ht(n),i=ln(t,r);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const n=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(n,t),()=>{this.connectionStateSubscribers.delete(n)}}async mutation(t,n,r){const i=await this.mutationInternal(t,n,r);if(!i.success)throw i.errorData!==void 0?fa(i,new da(Tn("mutation",t,i))):new Error(Tn("mutation",t,i));return i.value}async mutationInternal(t,n,r,i){const{mutationPromise:l}=this.enqueueMutation(t,n,r,i);return l}enqueueMutation(t,n,r,i){const l=ht(n);this.tryReportLongDisconnect();const a=this.nextRequestId;if(this._nextRequestId++,r!==void 0){const x=r.optimisticUpdate;if(x!==void 0){const m=f=>{x(f,l)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},w=this.optimisticQueryResults.applyOptimisticUpdate(m,a).map(f=>{const j=this.localQueryResultByToken(f);return{token:f,modification:{kind:"Updated",result:j===void 0?void 0:{success:!0,value:j,logLines:[]}}}});this.handleTransition({queries:w,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const c={type:"Mutation",requestId:a,udfPath:t,componentPath:i,args:[Bt(l)]},o=this.webSocketManager.sendMessage(c),u=this.requestManager.request(c,o);return{requestId:a,mutationPromise:u}}async action(t,n){const r=await this.actionInternal(t,n);if(!r.success)throw r.errorData!==void 0?fa(r,new da(Tn("action",t,r))):new Error(Tn("action",t,r));return r.value}async actionInternal(t,n,r){const i=ht(n),l=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const a={type:"Action",requestId:l,udfPath:t,componentPath:r,args:[Bt(i)]},c=this.webSocketManager.sendMessage(a);return this.requestManager.request(a,c)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=m0(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const n=`${this.address}/api/debug_event`;fetch(n,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Dc}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(r=>{r.ok||this.logger.warn("Analytics request failed with response:",r.body)}).catch(r=>{this.logger.warn("Analytics response failed with error:",r)})}}function y0({getCurrentValue:e,subscribe:t}){const[n,r]=N.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=n.value;return(n.getCurrentValue!==e||n.subscribe!==t)&&(i=e(),r({getCurrentValue:e,subscribe:t,value:i})),N.useEffect(()=>{let l=!1;const a=()=>{l||r(o=>{if(o.getCurrentValue!==e||o.subscribe!==t)return o;const u=e();return o.value===u?o:{...o,value:u}})},c=t(a);return a(),()=>{l=!0,c()}},[e,t]),i}var v0=Object.defineProperty,w0=(e,t,n)=>t in e?v0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bt=(e,t,n)=>w0(e,typeof t!="symbol"?t+"":t,n);const j0=5e3;if(typeof Xn>"u")throw new Error("Required dependency 'react' not found");function Pf(e,t,n){function r(i){return b0(i),t.mutation(e,i,{optimisticUpdate:n})}return r.withOptimisticUpdate=function(l){if(n!==void 0)throw new Error(`Already specified optimistic update for mutation ${Le(e)}`);return Pf(e,t,l)},r}class N0{constructor(t,n){if(bt(this,"address"),bt(this,"cachedSync"),bt(this,"listeners"),bt(this,"options"),bt(this,"closed",!1),bt(this,"_logger"),bt(this,"adminAuth"),bt(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(n==null?void 0:n.logger)===!1?Rf({verbose:(n==null?void 0:n.verbose)??!1}):(n==null?void 0:n.logger)!==!0&&(n!=null&&n.logger)?n.logger:_f({verbose:(n==null?void 0:n.verbose)??!1}),this.options={...n,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new g0(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,n){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,n??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,n){if(this.adminAuth=t,this.fakeUserIdentity=n,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,n)}watchQuery(t,...n){const[r,i]=n,l=Le(t);return{onUpdate:a=>{const{queryToken:c,unsubscribe:o}=this.sync.subscribe(l,r,i),u=this.listeners.get(c);return u!==void 0?u.add(a):this.listeners.set(c,new Set([a])),()=>{if(this.closed)return;const x=this.listeners.get(c);x.delete(a),x.size===0&&this.listeners.delete(c),o()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(l,r)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(l,r)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(l,r)}}}prewarmQuery(t){const n=t.extendSubscriptionFor??j0,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,n)}mutation(t,...n){const[r,i]=n,l=Le(t);return this.sync.mutation(l,r,i)}action(t,...n){const r=Le(t);return this.sync.action(r,...n)}query(t,...n){const r=this.watchQuery(t,...n),i=r.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((l,a)=>{const c=r.onUpdate(()=>{c();try{l(r.localQueryResult())}catch(o){a(o)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const n of t){const r=this.listeners.get(n);if(r)for(const i of r)i()}}}const uo=Xn.createContext(void 0);function S0(){return N.useContext(uo)}const k0=({client:e,children:t})=>Xn.createElement(uo.Provider,{value:e},t);function te(e,...t){const n=t[0]==="skip",r=t[0]==="skip"?{}:ht(t[0]),i=typeof e=="string"?Mf(e):e,l=Le(i),a=N.useMemo(()=>n?{}:{query:{query:i,args:r}},[JSON.stringify(Bt(r)),l,n]),o=R0(a).query;if(o instanceof Error)throw o;return o}function K(e){const t=typeof e=="string"?Mf(e):e,n=N.useContext(uo);if(n===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return N.useMemo(()=>Pf(t,n),[n,Le(t)])}function b0(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var C0=Object.defineProperty,E0=(e,t,n)=>t in e?C0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hl=(e,t,n)=>E0(e,typeof t!="symbol"?t+"":t,n);class _0{constructor(t){hl(this,"createWatch"),hl(this,"queries"),hl(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const n of Object.keys(t)){const{query:r,args:i}=t[n];if(Le(r),this.queries[n]===void 0)this.addQuery(n,r,i);else{const l=this.queries[n];(Le(r)!==Le(l.query)||JSON.stringify(Bt(i))!==JSON.stringify(Bt(l.args)))&&(this.removeQuery(n),this.addQuery(n,r,i))}}for(const n of Object.keys(this.queries))t[n]===void 0&&this.removeQuery(n)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const n={};for(const r of Object.keys(t)){const{query:i,args:l}=t[r];Le(i);const a=this.createWatch(i,l);let c;try{c=a.localQueryResult()}catch(o){if(o instanceof Error)c=o;else throw o}n[r]=c}return n}setCreateWatch(t){this.createWatch=t;for(const n of Object.keys(this.queries)){const{query:r,args:i,watch:l}=this.queries[n],a=l.journal();this.removeQuery(n),this.addQuery(n,r,i,a)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,n,r,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const l=this.createWatch(n,r,i),a=l.onUpdate(()=>this.notifyListeners());this.queries[t]={query:n,args:r,watch:l,unsubscribe:a}}removeQuery(t){const n=this.queries[t];if(n===void 0)throw new Error(`No query found with identifier ${t}.`);n.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function R0(e){const t=S0();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const n=N.useMemo(()=>(r,i,l)=>t.watchQuery(r,i,l?{journal:l}:{}),[t]);return T0(e,n)}function T0(e,t){const[n]=N.useState(()=>new _0(t));n.createWatch!==t&&n.setCreateWatch(t),N.useEffect(()=>()=>n.destroy(),[n]);const r=N.useMemo(()=>({getCurrentValue:()=>n.getLocalResults(e),subscribe:i=>(n.setQueries(e),n.subscribe(i))}),[n,e]);return y0(r)}function Of(e,t){const n={get(r,i){if(typeof i=="string"){const l=[...t,i];return Of(e,l)}else if(i===Tf){if(t.length<1){const l=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${l}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},n)}const M0=()=>Of("components",[]),ye=Dx;M0();const F={...ye,auth:{createUser:"auth:createUser",getUserByEmail:"auth:getUserByEmail",getUserById:"auth:getUserById",updateUser:"auth:updateUser",deleteUser:"auth:deleteUser",getUsers:"auth:getUsers",getUsersByRole:"auth:getUsersByRole",createLecturerAccount:"auth:createLecturerAccount",createStudentAccount:"auth:createStudentAccount",createAdminAccount:"auth:createAdminAccount",authenticateUser:"auth:authenticateUser"},students:{getStudents:"students:getStudents",addStudent:"students:addStudent",updateStudent:"students:updateStudent",deleteStudent:"students:deleteStudent",getStudentById:"students:getStudentById",getStudentsByDepartment:"students:getStudentsByDepartment",getStudentsByYear:"students:getStudentsByYear",getStudentByUserId:"students:getStudentByUserId"},courses:{getCourses:"courses:getCourses",addCourse:"courses:addCourse",updateCourse:"courses:updateCourse",deleteCourse:"courses:deleteCourse",getCoursesBySpecialization:"courses:getCoursesBySpecialization",getActiveCourses:"courses:getActiveCourses",updateStudentCount:"courses:updateStudentCount"},lecturers:{getLecturers:"lecturers:getLecturers",addLecturer:"lecturers:addLecturer",updateLecturer:"lecturers:updateLecturer",updateLecturerAvailability:"lecturers:updateLecturerAvailability",deleteLecturer:"lecturers:deleteLecturer",getLecturersBySpecialization:"lecturers:getLecturersBySpecialization",getAvailableLecturers:"lecturers:getAvailableLecturers",getLecturerByUserId:"lecturers:getLecturerByUserId"},matches:{getMatches:"matches:getMatches",autoMatch:"matches:autoMatch",createMatch:"matches:createMatch",updateMatch:"matches:updateMatch",deleteMatch:"matches:deleteMatch",getMatchesByCourse:"matches:getMatchesByCourse",getMatchesByLecturer:"matches:getMatchesByLecturer",getActiveMatches:"matches:getActiveMatches",getUnmatchedCourses:"matches:getUnmatchedCourses",rematchUnavailableLecturers:"matches:rematchUnavailableLecturers",cleanupDuplicateMatches:"matches:cleanupDuplicateMatches"},registrations:{getRegistrations:"registrations:getRegistrations",getRegistrationsByStudent:"registrations:getRegistrationsByStudent",getRegistrationsByCourse:"registrations:getRegistrationsByCourse",registerForCourse:"registrations:registerForCourse",dropCourse:"registrations:dropCourse",completeCourse:"registrations:completeCourse",getActiveRegistrations:"registrations:getActiveRegistrations"}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:c="",children:o,...u},x)=>N.createElement("svg",{ref:x,...A0,width:i,height:i,stroke:r,strokeWidth:a?Number(l)*24/Number(i):l,className:["lucide",`lucide-${L0(e)}`,c].join(" "),...u},[...t.map(([m,p])=>N.createElement(m,p)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=q("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=q("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=q("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function F0({onLogin:e}){const[t,n]=N.useState(""),[r,i]=N.useState(""),[l,a]=N.useState("student"),[c,o]=N.useState(!1),[u,x]=N.useState(""),[m,p]=N.useState(""),[w,f]=N.useState("");K(F.auth.createUser);const j=K(F.auth.authenticateUser),v=S=>S.trim()?!S.includes("@")||!S.includes(".")?(p("Please enter a valid email address"),!1):(p(""),!0):(p("Email is required"),!1),h=S=>S.trim()?S.length<3?(f("Password must be at least 3 characters"),!1):(f(""),!0):(f("Password is required"),!1),d=async S=>{S.preventDefault(),o(!0),x(""),p(""),f("");const g=v(t),_=h(r);if(!g||!_){o(!1);return}try{const E=await j({email:t,password:r,role:l});if(!E){x("User not found. Please contact your administrator for account access.");return}e(E)}catch(E){console.error("Login error:",E);const C=E.message||E.toString();if(C.includes("[CONVEX")||C.includes("Request ID")||C.includes("Server Error")||C.includes("Called by client")){x("❌ Connection error. Please check your internet connection and try again.");return}C.includes("User not found")?x("❌ Account not found. Please check your email address or contact your administrator."):C.includes("Invalid password")?x("❌ Incorrect password. Please check your password and try again."):C.includes("Invalid role")?x("❌ Wrong account type selected. Please select the correct role (Admin, Lecturer, or Student)."):C.includes("network")||C.includes("fetch")||C.includes("Failed to fetch")?x("❌ Connection error. Please check your internet connection and try again."):C.includes("timeout")||C.includes("Timeout")?x("❌ Request timed out. Please try again."):x("❌ Login failed. Please check your credentials and try again.")}finally{o(!1)}},y=[{value:"admin",label:"Admin",icon:et,color:"text-red-600"},{value:"lecturer",label:"Lecturer",icon:ce,color:"text-blue-600"},{value:"student",label:"Student",icon:B,color:"text-green-600"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-primary-600 rounded-full",children:s.jsx(Qe,{className:"h-8 w-8 text-white"})})}),s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"Course Matching System"}),s.jsx("p",{className:"text-neutral-600",children:"Efficient course-lecturer-student management"})]}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:t,onChange:S=>{n(S.target.value),m&&v(S.target.value)},onBlur:()=>v(t),className:`input-field ${m?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Enter your email",required:!0}),m&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:r,onChange:S=>{i(S.target.value),w&&h(S.target.value)},onBlur:()=>h(r),className:`input-field ${w?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Enter your password",required:!0}),w&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Role"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:y.map(S=>{const g=S.icon;return s.jsxs("button",{type:"button",onClick:()=>a(S.value),className:`p-3 rounded-lg border-2 transition-all ${l===S.value?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}`,children:[s.jsx(g,{className:`h-5 w-5 mx-auto mb-1 ${S.color}`}),s.jsx("span",{className:"text-xs font-medium text-neutral-700",children:S.label})]},S.value)})})]}),u&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Login Error"}),s.jsx("p",{className:"text-sm mt-1",children:u})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full",children:c?"Signing In...":"Sign In"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg text-sm",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Need Account Access?"}),s.jsx("p",{className:"mt-1 text-blue-700",children:"All accounts are created by the system administrator. Contact your administrator for login credentials."}),s.jsxs("p",{className:"mt-2 text-xs text-blue-600",children:[s.jsx("strong",{children:"Default Test Accounts:"}),s.jsx("br",{}),"Admin: admin@gmail.com / admin123",s.jsx("br",{}),"Lecturer: lecturer@gmail.com / lecturer123",s.jsx("br",{}),"Student: student@gmail.com / student123"]})]})]})})]})]})}),s.jsx("div",{className:"text-center mt-6 text-sm text-neutral-500",children:s.jsx("p",{children:"Academic Course Management System"})})]})})}function Mi({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,itemName:l,itemType:a="item",isLoading:c=!1}){return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-0",children:[s.jsxs("div",{className:"flex items-start justify-between p-3 sm:p-4 sm:p-6 border-b border-neutral-200",children:[s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(yt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 leading-tight",children:r}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600 mt-1",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:t,disabled:c,className:"p-2 sm:p-2 text-neutral-400 hover:text-neutral-600 transition-colors disabled:opacity-50 flex-shrink-0 touch-manipulation",children:s.jsx(Vt,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),s.jsxs("div",{className:"p-3 sm:p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-3 sm:mb-4",children:[s.jsx("p",{className:"text-sm sm:text-base text-neutral-700 mb-2 sm:mb-3 leading-relaxed",children:i}),l&&s.jsx("div",{className:"bg-neutral-50 rounded-lg p-2 sm:p-3 border border-neutral-200",children:s.jsxs("p",{className:"text-xs sm:text-sm font-medium text-neutral-900 break-words",children:[a,": ",s.jsx("span",{className:"text-neutral-700",children:l})]})})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 sm:p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(yt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-800",children:"Warning"}),s.jsxs("p",{className:"text-xs sm:text-sm text-red-700 leading-relaxed",children:["Deleting this ",a," will permanently remove all associated data and cannot be undone."]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-3 p-3 sm:p-4 sm:p-6 border-t border-neutral-200",children:[s.jsx("button",{onClick:t,disabled:c,className:"px-3 sm:px-4 py-2 text-neutral-600 hover:text-neutral-800 transition-colors border border-neutral-300 rounded-lg hover:bg-neutral-50 disabled:opacity-50 text-sm sm:text-base touch-manipulation",children:"Cancel"}),s.jsx("button",{onClick:n,disabled:c,className:"px-3 sm:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm sm:text-base touch-manipulation",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-white"}),s.jsx("span",{children:"Deleting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(yt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{children:["Delete ",a]})]})})]})]})}):null}function Xc(){const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,l]=N.useState(!1),[a,c]=N.useState(null),[o,u]=N.useState(!1),x=te(F.lecturers.getLecturers)||[],m=K(F.auth.createLecturerAccount),p=K(F.lecturers.updateLecturer),w=K(F.lecturers.deleteLecturer),[f,j]=N.useState({name:"",email:"",specialization:"",department:"",experience:0,availability:!0}),v=async g=>{g.preventDefault();try{n?(await p({id:n._id,...f}),r(null)):await m(f),j({name:"",email:"",specialization:"",department:"",experience:0,availability:!0}),t(!1)}catch(_){console.error("Error saving lecturer:",_)}},h=g=>{r(g),j({name:g.name,email:g.email,specialization:g.specialization,department:g.department,experience:g.experience,availability:g.availability}),t(!0)},d=g=>{c(g),l(!0)},y=async()=>{if(a){u(!0);try{await w({id:a._id}),l(!1),c(null)}catch(g){console.error("Error deleting lecturer:",g),alert("Failed to delete lecturer. Please try again.")}finally{u(!1)}}},S=()=>{l(!1),c(null)};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Lecturers"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage lecturer information and specializations"})]}),s.jsxs("button",{onClick:()=>{t(!0),r(null),j({name:"",email:"",specialization:"",department:"",experience:0,availability:!0})},className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Lecturer"})]})]}),e&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:n?"Edit Lecturer":"Add New Lecturer"}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:f.name,onChange:g=>j({...f,name:g.target.value}),className:"input-field",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:f.email,onChange:g=>j({...f,email:g.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Specialization"}),s.jsx("input",{type:"text",value:f.specialization,onChange:g=>j({...f,specialization:g.target.value}),className:"input-field",placeholder:"e.g., Computer Science, Mathematics",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Department"}),s.jsx("input",{type:"text",value:f.department,onChange:g=>j({...f,department:g.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Years of Experience"}),s.jsx("input",{type:"number",value:f.experience,onChange:g=>j({...f,experience:parseInt(g.target.value)}),className:"input-field",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Availability"}),s.jsxs("select",{value:f.availability,onChange:g=>j({...f,availability:g.target.value==="true"}),className:"input-field",children:[s.jsx("option",{value:!0,children:"Available"}),s.jsx("option",{value:!1,children:"Not Available"})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:n?"Update Lecturer":"Add Lecturer"}),s.jsx("button",{type:"button",onClick:()=>{t(!1),r(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[x.map(g=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:g.name}),s.jsx("p",{className:"text-sm text-neutral-600 truncate",children:g.email})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:g.specialization}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded text-xs font-medium",children:g.department}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded text-xs font-medium",children:[g.experience," years"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:g.availability?"Available":"Not Available"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>h(g),className:"p-2 text-neutral-400 hover:text-primary-600 transition-colors",title:"Edit Lecturer",children:s.jsx(ho,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(g),className:"p-2 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete Lecturer",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})]})},g._id)),x.length===0&&s.jsxs("div",{className:"card text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ce,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No lecturers found"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Add your first lecturer to get started"})]})]}),s.jsx(Mi,{isOpen:i,onClose:S,onConfirm:y,title:"Delete Lecturer",message:"Are you sure you want to delete this lecturer? This will permanently remove all their data including any course assignments.",itemName:a==null?void 0:a.name,itemType:"lecturer",isLoading:o})]})}function U0(){const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,l]=N.useState(!1),[a,c]=N.useState(null),[o,u]=N.useState(!1),x=te(F.courses.getCourses)||[],m=K(F.courses.addCourse),p=K(F.courses.updateCourse),w=K(F.courses.deleteCourse),[f,j]=N.useState({title:"",code:"",description:"",specialization:"",credits:3,semester:"",maxStudents:30,isActive:!0}),v=async g=>{g.preventDefault();try{n?(await p({id:n._id,...f}),r(null)):await m(f),j({title:"",code:"",description:"",specialization:"",credits:3,semester:"",maxStudents:30,isActive:!0}),t(!1)}catch(_){console.error("Error saving course:",_)}},h=g=>{r(g),j({title:g.title,code:g.code,description:g.description,specialization:g.specialization,credits:g.credits,semester:g.semester,maxStudents:g.maxStudents,isActive:g.isActive}),t(!0)},d=g=>{c(g),l(!0)},y=async()=>{if(a){u(!0);try{await w({id:a._id}),l(!1),c(null)}catch(g){console.error("Error deleting course:",g),alert("Failed to delete course. Please try again.")}finally{u(!1)}}},S=()=>{l(!1),c(null)};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Courses"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage course information and specializations"})]}),s.jsxs("button",{onClick:()=>{t(!0),r(null),j({title:"",code:"",description:"",specialization:"",credits:3,semester:"",maxStudents:30,isActive:!0})},className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Course"})]})]}),e&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:n?"Edit Course":"Add New Course"}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Course Title"}),s.jsx("input",{type:"text",value:f.title,onChange:g=>j({...f,title:g.target.value}),className:"input-field",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Course Code"}),s.jsx("input",{type:"text",value:f.code,onChange:g=>j({...f,code:g.target.value}),className:"input-field",placeholder:"e.g., CS101",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Description"}),s.jsx("textarea",{value:f.description,onChange:g=>j({...f,description:g.target.value}),className:"input-field",rows:"3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Specialization"}),s.jsx("input",{type:"text",value:f.specialization,onChange:g=>j({...f,specialization:g.target.value}),className:"input-field",placeholder:"e.g., Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Semester"}),s.jsxs("select",{value:f.semester,onChange:g=>j({...f,semester:g.target.value}),className:"input-field",required:!0,children:[s.jsx("option",{value:"",children:"Select Semester"}),s.jsx("option",{value:"Fall 2024",children:"Fall 2024"}),s.jsx("option",{value:"Spring 2025",children:"Spring 2025"}),s.jsx("option",{value:"Summer 2025",children:"Summer 2025"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Credits"}),s.jsx("input",{type:"number",value:f.credits,onChange:g=>j({...f,credits:parseInt(g.target.value)}),className:"input-field",min:"1",max:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Max Students"}),s.jsx("input",{type:"number",value:f.maxStudents,onChange:g=>j({...f,maxStudents:parseInt(g.target.value)}),className:"input-field",min:"1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Status"}),s.jsxs("select",{value:f.isActive,onChange:g=>j({...f,isActive:g.target.value==="true"}),className:"input-field",children:[s.jsx("option",{value:!0,children:"Active"}),s.jsx("option",{value:!1,children:"Inactive"})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:n?"Update Course":"Add Course"}),s.jsx("button",{type:"button",onClick:()=>{t(!1),r(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[x.map(g=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:g.title}),s.jsx("p",{className:"text-sm text-neutral-600",children:g.semester})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded text-xs font-medium",children:g.code}),s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:g.specialization}),s.jsxs("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded text-xs font-medium",children:[g.credits," Credits"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.isActive?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:g.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[g.currentStudents||0,"/",g.maxStudents]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>h(g),className:"p-2 text-neutral-400 hover:text-primary-600 transition-colors",title:"Edit Course",children:s.jsx(ho,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(g),className:"p-2 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete Course",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})]})]})},g._id)),x.length===0&&s.jsxs("div",{className:"card text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(B,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No courses found"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Add your first course to get started"})]})]}),s.jsx(Mi,{isOpen:i,onClose:S,onConfirm:y,title:"Delete Course",message:"Are you sure you want to delete this course? This will permanently remove all course data and any associated matches.",itemName:a==null?void 0:a.title,itemType:"course",isLoading:o})]})}function q0(){const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,l]=N.useState(!1),[a,c]=N.useState(null),[o,u]=N.useState(!1),x=te(F.students.getStudents)||[],m=K(F.auth.createStudentAccount),p=K(F.students.updateStudent),w=K(F.students.deleteStudent),[f,j]=N.useState({name:"",email:"",studentId:"",department:"",year:1}),v=async g=>{g.preventDefault();try{n?(await p({id:n._id,...f}),r(null)):await m(f),j({name:"",email:"",studentId:"",department:"",year:1}),t(!1)}catch(_){console.error("Error saving student:",_)}},h=g=>{r(g),j({name:g.name,email:g.email,studentId:g.studentId,department:g.department,year:g.year}),t(!0)},d=g=>{c(g),l(!0)},y=async()=>{if(a){u(!0);try{await w({id:a._id}),l(!1),c(null)}catch(g){console.error("Error deleting student:",g),alert("Failed to delete student. Please try again.")}finally{u(!1)}}},S=()=>{l(!1),c(null)};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Students"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage student information and registrations"})]}),s.jsxs("button",{onClick:()=>{t(!0),r(null),j({name:"",email:"",studentId:"",department:"",year:1})},className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Student"})]})]}),e&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:n?"Edit Student":"Add New Student"}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:f.name,onChange:g=>j({...f,name:g.target.value}),className:"input-field",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:f.email,onChange:g=>j({...f,email:g.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Student ID"}),s.jsx("input",{type:"text",value:f.studentId,onChange:g=>j({...f,studentId:g.target.value}),className:"input-field",placeholder:"e.g., 2024001",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Department"}),s.jsx("input",{type:"text",value:f.department,onChange:g=>j({...f,department:g.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Academic Year"}),s.jsxs("select",{value:f.year,onChange:g=>j({...f,year:parseInt(g.target.value)}),className:"input-field",required:!0,children:[s.jsx("option",{value:1,children:"1st Year"}),s.jsx("option",{value:2,children:"2nd Year"}),s.jsx("option",{value:3,children:"3rd Year"}),s.jsx("option",{value:4,children:"4th Year"}),s.jsx("option",{value:5,children:"5th Year"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:n?"Update Student":"Add Student"}),s.jsx("button",{type:"button",onClick:()=>{t(!1),r(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[x.map(g=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:g.name}),s.jsx("p",{className:"text-sm text-neutral-600 truncate",children:g.email})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded text-xs font-medium",children:g.studentId}),s.jsxs("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:["Year ",g.year]}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded text-xs font-medium",children:g.department})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>h(g),className:"p-2 text-neutral-400 hover:text-primary-600 transition-colors",title:"Edit Student",children:s.jsx(ho,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(g),className:"p-2 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete Student",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})]})},g._id)),x.length===0&&s.jsxs("div",{className:"card text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Qe,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No students found"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Add your first student to get started"})]})]}),s.jsx(Mi,{isOpen:i,onClose:S,onConfirm:y,title:"Delete Student",message:"Are you sure you want to delete this student? This will permanently remove all their data including registrations.",itemName:a==null?void 0:a.name,itemType:"student",isLoading:o})]})}function Ai(){return s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-neutral-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-3 bg-neutral-200 rounded w-20 mb-2"}),s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-12"})]})]})})}function Li(){return s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-neutral-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-32"}),s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-16"}),s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-20"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 bg-neutral-200 rounded-full"}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-24 mb-1"}),s.jsx("div",{className:"h-3 bg-neutral-200 rounded w-16"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-16"}),s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-20"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 bg-neutral-200 rounded"}),s.jsx("div",{className:"h-8 w-8 bg-neutral-200 rounded"})]})]})})}function B0(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-48 mb-2 animate-pulse"}),s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-64 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-24 animate-pulse"}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-32 animate-pulse"}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-28 animate-pulse"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>s.jsx(Ai,{},t))}),s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-48 mb-4"}),s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>s.jsx(Li,{},t))})]})})]})}function V0(){var M,A;const[e,t]=N.useState(!1),[n,r]=N.useState(!1),[i,l]=N.useState(null),[a,c]=N.useState(!1),o=te(ye.matches.getMatches),u=te(ye.courses.getCourses),x=te(ye.lecturers.getLecturers),m=o===void 0||u===void 0||x===void 0,p=o||[],w=u||[],f=x||[],j=K(ye.matches.autoMatch),v=K(ye.matches.updateMatch),h=K(ye.matches.deleteMatch),d=async()=>{t(!0);try{await j()}catch(L){console.error("Error during auto-matching:",L)}finally{t(!1)}},y=async(L,P)=>{try{await v({id:L,isActive:P})}catch(O){console.error("Error updating match:",O)}},S=L=>{l(L),r(!0)},g=async()=>{if(i){c(!0);try{await h({id:i._id}),r(!1),l(null)}catch(L){console.error("Error deleting match:",L),alert("Failed to delete match. Please try again.")}finally{c(!1)}}},_=()=>{r(!1),l(null)},E=L=>w.find(P=>P._id===L),C=L=>f.find(P=>P._id===L);return m?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-64 mb-2 animate-pulse"}),s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-80 animate-pulse"})]}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-32 animate-pulse"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((L,P)=>s.jsx(Ai,{},P))}),s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((L,P)=>s.jsx(Li,{},P))})]}):s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Course-Lecturer Matches"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage automatic and manual course-lecturer assignments"})]}),s.jsxs("button",{onClick:d,disabled:e,className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(mo,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{children:e?"Matching...":"Auto Match"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(fo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Matches"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:p.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(at,{className:"h-4 w-4 sm:h-5 sm:w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Active Matches"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:p.filter(L=>L.isActive).length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:w.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Lecturers"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:f.length})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Active Course Assignments"}),s.jsxs("span",{className:"bg-success/10 text-success px-3 py-1 rounded-full text-sm font-medium",children:[o.filter(L=>L.isActive).length," Active"]})]}),p.filter(L=>L.isActive).length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(B,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No active course assignments"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Run auto-matching to assign courses to lecturers"})]}):s.jsx("div",{className:"space-y-3",children:p.filter(L=>L.isActive).map(L=>{const P=E(L.courseId),O=C(L.lecturerId);return!P||!O?null:s.jsx("div",{className:"bg-neutral-50 rounded-lg p-3 sm:p-4 border border-neutral-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 w-full sm:w-auto",children:[s.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:P.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:P.code}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded-full text-xs font-medium",children:P.specialization})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-3 w-3 sm:h-4 sm:w-4 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:O.name}),s.jsx("p",{className:"text-xs text-neutral-500",children:O.department})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:O.availability?"Available":"Unavailable"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.isAutoMatched?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:L.isAutoMatched?"Auto-Assigned":"Manual"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto justify-end",children:[s.jsx("button",{onClick:()=>y(L._id,!1),className:"p-2 text-neutral-400 hover:text-error transition-colors",title:"Deactivate Assignment",children:s.jsx(Yr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>S(L),className:"p-2 text-neutral-400 hover:text-error transition-colors",title:"Remove Assignment",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})},L._id)})})]}),p.filter(L=>!L.isActive).length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Inactive Assignments"}),s.jsxs("span",{className:"bg-error/10 text-error px-3 py-1 rounded-full text-sm font-medium",children:[p.filter(L=>!L.isActive).length," Inactive"]})]}),s.jsx("div",{className:"space-y-3",children:p.filter(L=>!L.isActive).map(L=>{const P=E(L.courseId),O=C(L.lecturerId);return!P||!O?null:s.jsx("div",{className:"bg-error/5 rounded-lg p-4 border border-error/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-error/10 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-6 w-6 text-error"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-neutral-900",children:P.title}),s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:P.code}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded-full text-xs font-medium",children:P.specialization})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 bg-error/10 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 text-error"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:O.name}),s.jsx("p",{className:"text-xs text-neutral-500",children:O.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:O.availability?"Available":"Unavailable"}),s.jsx("span",{className:"bg-error/10 text-error px-2 py-1 rounded-full text-xs font-medium",children:"Inactive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>y(L._id,!0),className:"p-2 text-neutral-400 hover:text-success transition-colors",title:"Reactivate Assignment",children:s.jsx(at,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>S(L),className:"p-2 text-neutral-400 hover:text-error transition-colors",title:"Remove Assignment",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})},L._id)})})]}),s.jsx(Mi,{isOpen:n,onClose:_,onConfirm:g,title:"Delete Match",message:"Are you sure you want to delete this course-lecturer match? This will permanently remove the assignment.",itemName:i?`${(M=E(i.courseId))==null?void 0:M.title} - ${(A=C(i.lecturerId))==null?void 0:A.name}`:"",itemType:"match",isLoading:a})]})}function Q0({unmatchedCourses:e}){const[t,n]=N.useState(!1),r=K(ye.matches.autoMatch),i=async()=>{n(!0);try{await r(),alert("Auto-matching completed! Check the Matches tab to see results.")}catch(o){console.error("Error during auto-matching:",o),alert("Failed to run auto-matching. Please try again.")}finally{n(!1)}},l=o=>o.hasAvailableLecturers?"text-warning":"text-error",a=o=>o.hasAvailableLecturers?s.jsx(yt,{className:"h-4 w-4"}):s.jsx(Yr,{className:"h-4 w-4"}),c=o=>o.hasAvailableLecturers?`Has ${o.availableLecturersCount} available lecturer(s) - needs matching`:"No available lecturers for this specialization";return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Unmatched Courses"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Courses that need lecturer assignments. Run auto-matching to assign available lecturers."})]}),s.jsx("button",{onClick:i,disabled:t,className:"btn-primary flex items-center space-x-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Matching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"h-4 w-4"}),s.jsx("span",{children:"Run Auto-Match"})]})})]}),e.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(at,{className:"h-12 w-12 text-success mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"All Courses Matched!"}),s.jsx("p",{className:"text-neutral-600",children:"All active courses have been assigned to lecturers."})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6",children:e.map(o=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:o.title}),s.jsxs("p",{className:"text-neutral-600",children:[o.code," • ",o.semester]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:o.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[o.credits," credits"]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:o.description}),s.jsx("div",{className:"flex items-center space-x-2 p-3 bg-neutral-50 rounded-lg",children:s.jsxs("div",{className:`flex items-center space-x-2 ${l(o)}`,children:[a(o),s.jsx("span",{className:"text-sm font-medium",children:c(o)})]})}),s.jsx("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-neutral-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[o.currentStudents,"/",o.maxStudents," students"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ce,{className:"h-4 w-4 text-neutral-400"}),s.jsx("span",{className:"text-sm text-neutral-600",children:o.hasAvailableLecturers?`${o.availableLecturersCount} lecturer(s) available`:"No lecturers available"})]})]})})]},o._id))}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-warning/10 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(yt,{className:"h-5 w-5 text-warning"})}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Unmatched"}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.length})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(at,{className:"h-5 w-5 text-success"})}),s.jsx("p",{className:"text-sm text-neutral-600",children:"With Available Lecturers"}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(o=>o.hasAvailableLecturers).length})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-error/10 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Yr,{className:"h-5 w-5 text-error"})}),s.jsx("p",{className:"text-sm text-neutral-600",children:"No Lecturers Available"}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(o=>!o.hasAvailableLecturers).length})]})]})]})}function W0({onClose:e}){const[t,n]=N.useState("student"),[r,i]=N.useState(!1),[l,a]=N.useState(""),[c,o]=N.useState(""),[u,x]=N.useState({email:"",name:"",password:"",studentId:"",department:"",year:1,specialization:"",experience:0}),m=K(F.auth.createAdminAccount),p=K(F.auth.createLecturerAccount),w=K(F.auth.createStudentAccount),f=async v=>{v.preventDefault(),i(!0),a(""),o("");try{let h;t==="admin"?h=await m({email:u.email,name:u.name,password:u.password}):t==="lecturer"?h=await p({email:u.email,name:u.name,password:u.password,specialization:u.specialization,department:u.department,experience:u.experience}):t==="student"&&(h=await w({email:u.email,name:u.name,password:u.password,studentId:u.studentId,department:u.department,year:u.year})),o(`${t.charAt(0).toUpperCase()+t.slice(1)} account created successfully!`),x({email:"",name:"",password:"",studentId:"",department:"",year:1,specialization:"",experience:0}),setTimeout(()=>{e()},2e3)}catch(h){a(h.message||"Failed to create user")}finally{i(!1)}},j=(v,h)=>{x(d=>({...d,[v]:h}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Create New User"}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:s.jsx(Vt,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"User Type"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"admin",label:"Admin",icon:et,color:"text-red-600"},{value:"lecturer",label:"Lecturer",icon:ce,color:"text-blue-600"},{value:"student",label:"Student",icon:Qe,color:"text-green-600"}].map(v=>{const h=v.icon;return s.jsxs("button",{type:"button",onClick:()=>n(v.value),className:`p-3 rounded-lg border-2 transition-all ${t===v.value?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}`,children:[s.jsx(h,{className:`h-5 w-5 mx-auto mb-1 ${v.color}`}),s.jsx("span",{className:"text-xs font-medium text-neutral-700",children:v.label})]},v.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:u.email,onChange:v=>j("email",v.target.value),className:"input-field",placeholder:"user@university.edu",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:u.name,onChange:v=>j("name",v.target.value),className:"input-field",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:u.password,onChange:v=>j("password",v.target.value),className:"input-field",placeholder:"Enter password",required:!0})]}),t==="student"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Student ID"}),s.jsx("input",{type:"text",value:u.studentId,onChange:v=>j("studentId",v.target.value),className:"input-field",placeholder:"STU001",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Department"}),s.jsx("input",{type:"text",value:u.department,onChange:v=>j("department",v.target.value),className:"input-field",placeholder:"Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Academic Year"}),s.jsxs("select",{value:u.year,onChange:v=>j("year",parseInt(v.target.value)),className:"input-field",required:!0,children:[s.jsx("option",{value:1,children:"Year 1"}),s.jsx("option",{value:2,children:"Year 2"}),s.jsx("option",{value:3,children:"Year 3"}),s.jsx("option",{value:4,children:"Year 4"})]})]})]}),t==="lecturer"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Specialization"}),s.jsx("input",{type:"text",value:u.specialization,onChange:v=>j("specialization",v.target.value),className:"input-field",placeholder:"Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Department"}),s.jsx("input",{type:"text",value:u.department,onChange:v=>j("department",v.target.value),className:"input-field",placeholder:"Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Years of Experience"}),s.jsx("input",{type:"number",min:"0",value:u.experience,onChange:v=>j("experience",parseInt(v.target.value)),className:"input-field",placeholder:"5",required:!0})]})]}),l&&s.jsx("div",{className:"bg-error/10 border border-error/20 text-error px-4 py-3 rounded-lg",children:l}),c&&s.jsx("div",{className:"bg-success/10 border border-success/20 text-success px-4 py-3 rounded-lg",children:c}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"btn-secondary flex-1",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:r,className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Create User"})]})})]})]})]})})})}function H0({isOpen:e,onClose:t,data:n}){const[r,i]=N.useState(!1);if(!e)return null;const{lecturers:l=[],courses:a=[],students:c=[],matches:o=[],unmatchedCourses:u=[]}=n,x=l.length,m=l.filter(P=>P.availability).length,p=x-m,w=a.length,f=a.filter(P=>P.isActive).length,j=w-f,v=c.length,h=c.filter(P=>P.isActive!==!1).length,d=o.length,y=o.filter(P=>P.isActive).length,S=d-y,g=u.length,_=u.filter(P=>!P.hasAvailableLecturers).length,E=g-_,C=w>0?Math.round(y/w*100):0,M=l.length>0?Math.round(l.reduce((P,O)=>P+(O.experience||0),0)/l.length):0,A={};l.forEach(P=>{const O=P.specialization;A[O]=(A[O]||0)+1});const L=Object.entries(A).sort(([,P],[,O])=>O-P).slice(0,5);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-neutral-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(fi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"System Analytics"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600 hidden sm:block",children:"Comprehensive overview of your course matching system"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>i(!r),className:"sm:hidden p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(ns,{className:"h-5 w-5"})}),s.jsx("button",{onClick:t,className:"p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(Vt,{className:"h-5 w-5"})})]})]}),r&&s.jsx("div",{className:"sm:hidden bg-neutral-50 border-b border-neutral-200 px-4 py-3",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 text-white rounded-lg text-sm",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Export Report"})]})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600",children:"Total Lecturers"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:x})]}),s.jsx(et,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsxs("span",{className:"text-xs text-green-600",children:["Available: ",m]}),s.jsxs("span",{className:"text-xs text-red-600",children:["Unavailable: ",p]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600",children:"Total Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:w})]}),s.jsx(B,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsxs("span",{className:"text-xs text-green-600",children:["Active: ",f]}),s.jsxs("span",{className:"text-xs text-gray-600",children:["Inactive: ",j]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-purple-600",children:"Total Students"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-900",children:v})]}),s.jsx(Qe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"})]}),s.jsx("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:s.jsxs("span",{className:"text-xs text-green-600",children:["Active: ",h]})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-orange-600",children:"Active Matches"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-900",children:y})]}),s.jsx(fo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsxs("span",{className:"text-xs text-green-600",children:["Active: ",y]}),s.jsxs("span",{className:"text-xs text-red-600",children:["Inactive: ",S]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Matching Efficiency"}),s.jsx("div",{className:"flex items-center space-x-2",children:C>=80?s.jsx(Kc,{className:"h-5 w-5 text-green-600"}):C>=60?s.jsx(Kc,{className:"h-5 w-5 text-yellow-600"}):s.jsx(z0,{className:"h-5 w-5 text-red-600"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Course Coverage"}),s.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[C,"%"]})]}),s.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${C>=80?"bg-green-500":C>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${C}%`}})}),s.jsxs("p",{className:"text-xs text-neutral-500",children:[y," of ",w," courses have active assignments"]})]})]}),s.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Unmatched Courses"}),s.jsx(yt,{className:"h-5 w-5 text-orange-600"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Total Unmatched"}),s.jsx("span",{className:"text-sm font-medium text-neutral-900",children:g})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Need Lecturers"}),s.jsx("span",{className:"text-sm font-medium text-red-600",children:_})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Have Available Lecturers"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:E})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Lecturer Specializations"}),s.jsx("div",{className:"space-y-3",children:L.map(([P,O],$e)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-primary-600",children:$e+1})}),s.jsx("span",{className:"font-medium text-neutral-900",children:P})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-neutral-600",children:[O," lecturers"]}),s.jsx("div",{className:"w-20 bg-neutral-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${O/Math.max(...Object.values(A))*100}%`}})})]})]},P))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(P0,{className:"h-5 w-5 text-neutral-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Avg. Experience"}),s.jsxs("p",{className:"text-lg font-bold text-neutral-900",children:[M," years"]})]})]})}),s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(at,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"System Health"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:C>=80?"Excellent":C>=60?"Good":"Needs Attention"})]})]})}),s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($n,{className:"h-5 w-5 text-neutral-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Last Updated"}),s.jsx("p",{className:"text-lg font-bold text-neutral-900",children:new Date().toLocaleDateString()})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-neutral-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-neutral-600 hover:text-neutral-800 transition-colors",children:"Close"}),s.jsx("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Export Report"})]})]})})}function Y0({isOpen:e,onClose:t}){const[n,r]=N.useState(!1),[i,l]=N.useState({autoMatchingEnabled:!0,emailNotifications:!0,systemMaintenance:!1,experienceWeight:70,availabilityPriority:!0,specializationStrict:!0,allowSelfRegistration:!1,requireEmailVerification:!0,maxLoginAttempts:5,maxStudentsPerCourse:50,allowCourseOverlap:!1,requirePrerequisites:!0,notifyOnMatch:!0,notifyOnUnmatch:!0,notifyOnRegistration:!0,notifyOnDrop:!0,sessionTimeout:30,passwordExpiry:90,twoFactorAuth:!1,autoBackup:!0,backupFrequency:"daily",backupRetention:30}),[a,c]=N.useState("general"),[o,u]=N.useState(!1),[x,m]=N.useState(null),p=(v,h)=>{l(d=>({...d,[v]:h}))},w=async()=>{u(!0);try{await new Promise(v=>setTimeout(v,1e3)),console.log("Saving settings:",i),m("success"),setTimeout(()=>m(null),3e3)}catch{m("error"),setTimeout(()=>m(null),3e3)}finally{u(!1)}},f=()=>{window.confirm("Are you sure you want to reset all settings to default values?")&&l({autoMatchingEnabled:!0,emailNotifications:!0,systemMaintenance:!1,experienceWeight:70,availabilityPriority:!0,specializationStrict:!0,allowSelfRegistration:!1,requireEmailVerification:!0,maxLoginAttempts:5,maxStudentsPerCourse:50,allowCourseOverlap:!1,requirePrerequisites:!0,notifyOnMatch:!0,notifyOnUnmatch:!0,notifyOnRegistration:!0,notifyOnDrop:!0,sessionTimeout:30,passwordExpiry:90,twoFactorAuth:!1,autoBackup:!0,backupFrequency:"daily",backupRetention:30})},j=[{id:"general",label:"General",icon:hi},{id:"matching",label:"Matching",icon:B},{id:"users",label:"Users",icon:et},{id:"notifications",label:"Notifications",icon:I0},{id:"security",label:"Security",icon:$0},{id:"backup",label:"Backup",icon:O0}];return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-neutral-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(hi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"System Settings"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600 hidden sm:block",children:"Configure your course matching system"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(!n),className:"sm:hidden p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(ns,{className:"h-5 w-5"})}),s.jsx("button",{onClick:t,className:"p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(Vt,{className:"h-5 w-5"})})]})]}),n&&s.jsx("div",{className:"sm:hidden bg-neutral-50 border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(v=>{const h=v.icon;return s.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors ${a===v.id?"bg-primary-100 text-primary-700":"bg-white text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{children:v.label})]},v.id)})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:w,disabled:o,className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 text-white rounded-lg text-sm disabled:opacity-50",children:[o?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(Wc,{className:"h-4 w-4"}),s.jsx("span",{children:o?"Saving...":"Save Settings"})]}),s.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-3 py-2 bg-neutral-600 text-white rounded-lg text-sm",children:[s.jsx(Qc,{className:"h-4 w-4"}),s.jsx("span",{children:"Reset"})]})]})]})}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block w-64 bg-neutral-50 border-r border-neutral-200",children:s.jsx("nav",{className:"p-4 space-y-2",children:j.map(v=>{const h=v.icon;return s.jsxs("button",{onClick:()=>c(v.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a===v.id?"bg-primary-100 text-primary-700":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{children:v.label})]},v.id)})})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"sm:hidden bg-neutral-50 border-b border-neutral-200",children:s.jsx("nav",{className:"flex overflow-x-auto p-2",children:j.map(v=>{const h=v.icon;return s.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors whitespace-nowrap ${a===v.id?"bg-primary-100 text-primary-700":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{children:v.label})]},v.id)})})}),s.jsxs("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:[a==="general"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"General Settings"}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-neutral-50 rounded-lg space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:"Auto-Matching"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Automatically match courses to lecturers"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:i.autoMatchingEnabled,onChange:v=>p("autoMatchingEnabled",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-neutral-50 rounded-lg space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:"Email Notifications"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Send email notifications for system events"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:i.emailNotifications,onChange:v=>p("emailNotifications",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-neutral-50 rounded-lg space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:"System Maintenance"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Enable maintenance mode"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:i.systemMaintenance,onChange:v=>p("systemMaintenance",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),a==="matching"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Matching Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Experience Weight: ",i.experienceWeight,"%"]}),s.jsx("input",{type:"range",min:"0",max:"100",value:i.experienceWeight,onChange:v=>p("experienceWeight",parseInt(v.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How much to prioritize lecturer experience in matching"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Availability Priority"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Only match with available lecturers"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.availabilityPriority,onChange:v=>p("availabilityPriority",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Strict Specialization"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Require exact specialization match"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.specializationStrict,onChange:v=>p("specializationStrict",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),a==="users"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"User Management"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Allow Self Registration"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Allow users to create their own accounts"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.allowSelfRegistration,onChange:v=>p("allowSelfRegistration",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Max Login Attempts: ",i.maxLoginAttempts]}),s.jsx("input",{type:"range",min:"3",max:"10",value:i.maxLoginAttempts,onChange:v=>p("maxLoginAttempts",parseInt(v.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Number of failed login attempts before account lockout"})]})]})]}),a==="notifications"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"Notification Settings"}),s.jsx("div",{className:"space-y-4",children:[{key:"notifyOnMatch",label:"Notify on Match",desc:"Send notification when course is matched"},{key:"notifyOnUnmatch",label:"Notify on Unmatch",desc:"Send notification when match is removed"},{key:"notifyOnRegistration",label:"Notify on Registration",desc:"Send notification when student registers"},{key:"notifyOnDrop",label:"Notify on Drop",desc:"Send notification when student drops course"}].map(({key:v,label:h,desc:d})=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:h}),s.jsx("p",{className:"text-sm text-neutral-600",children:d})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i[v],onChange:y=>p(v,y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},v))})]}),a==="security"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Session Timeout: ",i.sessionTimeout," minutes"]}),s.jsx("input",{type:"range",min:"15",max:"120",value:i.sessionTimeout,onChange:v=>p("sessionTimeout",parseInt(v.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How long before users are automatically logged out"})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Password Expiry: ",i.passwordExpiry," days"]}),s.jsx("input",{type:"range",min:"30",max:"365",value:i.passwordExpiry,onChange:v=>p("passwordExpiry",parseInt(v.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How often users must change their passwords"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Require 2FA for all users"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.twoFactorAuth,onChange:v=>p("twoFactorAuth",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),a==="backup"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"Backup Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Automatic Backup"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Enable automatic system backups"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.autoBackup,onChange:v=>p("autoBackup",v.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Backup Frequency: ",i.backupFrequency]}),s.jsxs("select",{value:i.backupFrequency,onChange:v=>p("backupFrequency",v.target.value),className:"w-full p-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Backup Retention: ",i.backupRetention," days"]}),s.jsx("input",{type:"range",min:"7",max:"365",value:i.backupRetention,onChange:v=>p("backupRetention",parseInt(v.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How long to keep backup files"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3 p-4 sm:p-6 border-t border-neutral-200",children:[(x==="success"||x==="error")&&s.jsxs("div",{className:"flex justify-center",children:[x==="success"&&s.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[s.jsx(at,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Settings saved!"})]}),x==="error"&&s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Failed to save!"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-800 transition-colors border border-neutral-300 rounded-lg hover:bg-neutral-50",children:[s.jsx(Qc,{className:"h-4 w-4"}),s.jsx("span",{children:"Reset to Defaults"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-2 text-neutral-600 hover:text-neutral-800 transition-colors border border-neutral-300 rounded-lg hover:bg-neutral-50",children:"Cancel"}),s.jsxs("button",{onClick:w,disabled:o,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(Wc,{className:"h-4 w-4"}),s.jsx("span",{children:o?"Saving...":"Save Settings"})]})]})]})]})]})}):null}function K0({user:e,onLogout:t}){const[n,r]=N.useState("lecturers"),[i,l]=N.useState(!1),[a,c]=N.useState(!1),[o,u]=N.useState(!1),[x,m]=N.useState(!1),[p,w]=N.useState(!1),f=te(ye.lecturers.getLecturers),j=te(ye.courses.getCourses),v=te(ye.students.getStudents),h=te(ye.matches.getMatches),d=te(ye.matches.getUnmatchedCourses),y=f===void 0||j===void 0||v===void 0||h===void 0||d===void 0,S=f||[],g=j||[],_=v||[],E=h||[],C=d||[],M=K(ye.matches.autoMatch);K(ye.matches.rematchUnavailableLecturers);const A=K(ye.matches.cleanupDuplicateMatches),L=async()=>{w(!0);try{const H=await M(),pe=H.newMatches.length,ut=H.rematchedCourses.length,T=H.deactivatedMatches.length,k=H.duplicatesRemoved||0;let R=`Auto-matching completed!

`;pe>0&&(R+=`✅ ${pe} new matches created
`),ut>0&&(R+=`🔄 ${ut} courses rematched (lecturer availability changed)
`),k>0&&(R+=`🧹 ${k} duplicate matches removed
`),T>0&&(R+=`⚠️ ${T} courses deactivated (no available lecturers)
`),pe===0&&ut===0&&T===0&&k===0&&(R+="All courses are properly matched with available lecturers!"),alert(R)}catch(H){console.error("Error during auto-matching:",H),alert("Failed to run auto-matching. Please try again.")}finally{w(!1)}},P=async()=>{w(!0);try{const pe=(await A()).duplicatesRemoved;pe>0?alert(`🧹 Cleanup completed!

Removed ${pe} duplicate matches.

The matches table should now show each course only once.`):alert("✅ No duplicate matches found - all matches are clean!")}catch(H){console.error("Error during cleanup:",H),alert("Failed to clean duplicate matches. "+H.message)}finally{w(!1)}};Xn.useEffect(()=>{if(E&&E.length>0){const H=new Set(E.map(pe=>pe.courseId));E.length>H.size&&(console.log("Duplicates detected, running auto-cleanup..."),P())}},[E==null?void 0:E.length]);const O=[{id:"lecturers",label:"Lecturers",icon:et,count:S.length},{id:"courses",label:"Courses",icon:B,count:g.length},{id:"students",label:"Students",icon:Qe,count:_.length},{id:"matches",label:"Matches",icon:fo,count:E.length},{id:"unmatched",label:"Unmatched",icon:yt,count:C.length}],$e=()=>{switch(n){case"lecturers":return s.jsx(Xc,{});case"courses":return s.jsx(U0,{});case"students":return s.jsx(q0,{});case"matches":return s.jsx(V0,{});case"unmatched":return s.jsx(Q0,{unmatchedCourses:C});default:return s.jsx(Xc,{})}};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-neutral-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage courses, lecturers, and students"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:L,disabled:p,className:"btn-primary flex items-center space-x-2 hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Matching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Auto Match"})]})}),s.jsxs("button",{onClick:()=>c(!0),className:"btn-secondary flex items-center space-x-2 hidden sm:flex",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Create User"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-secondary flex items-center space-x-2 hidden sm:flex",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary flex items-center space-x-2 hidden sm:flex",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Settings"})]}),s.jsx("button",{onClick:()=>l(!i),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:i?s.jsx(Vt,{className:"h-5 w-5"}):s.jsx(ns,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:t,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})}),i&&s.jsx("div",{className:"lg:hidden bg-white border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(et,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:"Admin"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"System Administrator"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx("button",{onClick:L,disabled:p,className:"btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Matching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Auto Match"})]})}),s.jsxs("button",{onClick:()=>c(!0),className:"btn-secondary flex items-center justify-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Create User"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-secondary flex items-center justify-center space-x-2",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary flex items-center justify-center space-x-2",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Settings"})]})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-3 p-3 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}),s.jsx("div",{className:"bg-white border-b border-neutral-200",children:s.jsx("div",{className:"px-4 sm:px-6",children:s.jsx("nav",{className:"flex space-x-2 sm:space-x-8 overflow-x-auto",children:O.map(H=>{const pe=H.icon;return s.jsxs("button",{onClick:()=>r(H.id),className:`flex items-center space-x-2 py-4 px-2 sm:px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${n===H.id?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:[s.jsx(pe,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:H.label}),s.jsx("span",{className:"sm:hidden",children:H.label.split(" ")[0]}),s.jsx("span",{className:"bg-neutral-100 text-neutral-600 px-2 py-1 rounded-full text-xs",children:H.count})]},H.id)})})})}),s.jsx("div",{className:"dashboard-content",children:y?s.jsx(B0,{}):$e()}),a&&s.jsx(W0,{onClose:()=>c(!1)}),o&&s.jsx(H0,{isOpen:o,onClose:()=>u(!1),data:{lecturers:S,courses:g,students:_,matches:E,unmatchedCourses:C}}),x&&s.jsx(Y0,{isOpen:x,onClose:()=>m(!1)})]})}function X0({user:e,onLogout:t}){const[n,r]=N.useState(!1),[i,l]=N.useState(!1),[a,c]=N.useState(null),o=te(F.lecturers.getLecturerByUserId,{userId:e==null?void 0:e.id}),u=K(F.lecturers.updateLecturerAvailability),x=te(F.matches.getMatchesByLecturer,o!=null&&o._id?{lecturerId:o._id}:"skip"),m=te(F.courses.getCourses),p=te(F.students.getStudents),w=te(F.registrations.getRegistrations),f=o===void 0||x===void 0||m===void 0||p===void 0||w===void 0,j=x||[],v=m||[],h=p||[],d=w||[],y=M=>v.find(A=>A._id===M);if(!e)return s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600",children:"Loading user data..."})]})});const S=M=>d.filter(A=>A.courseId===M&&A.status==="registered"),g=async()=>{if(o)try{await u({id:o._id,availability:!o.availability})}catch(M){console.error("Error updating availability:",M),alert("Failed to update availability. Please try again.")}},_=M=>{c(M),l(!0)},E=()=>{l(!1),c(null)},C=j.filter(M=>M.isActive).map(M=>{const A=y(M.courseId),L=S(M.courseId);return{...A,matchId:M._id,studentCount:L.length,students:L.map(P=>h.find(O=>O._id===P.studentId)).filter(Boolean)}}).filter(Boolean);return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-2xl font-bold text-neutral-900",children:["Welcome, ",(o==null?void 0:o.name)||"Lecturer"]}),s.jsxs("p",{className:"text-neutral-600",children:[o==null?void 0:o.department," • ",o==null?void 0:o.specialization]})]}),s.jsxs("div",{className:"sm:hidden",children:[s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:(o==null?void 0:o.name)||"Lecturer"}),s.jsx("p",{className:"text-sm text-neutral-600",children:o==null?void 0:o.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:g,className:`px-3 py-1 rounded-full text-sm font-medium hidden sm:flex items-center space-x-2 transition-colors ${o!=null&&o.availability?"bg-success/10 text-success hover:bg-success/20":"bg-error/10 text-error hover:bg-error/20"}`,children:[o!=null&&o.availability?s.jsx(Yc,{className:"h-4 w-4"}):s.jsx(Hc,{className:"h-4 w-4"}),s.jsx("span",{children:o!=null&&o.availability?"Available":"Not Available"})]}),s.jsx("button",{onClick:()=>r(!n),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:n?s.jsx(Vt,{className:"h-5 w-5"}):s.jsx(ns,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:t,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})}),n&&s.jsx("div",{className:"lg:hidden bg-white border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:(o==null?void 0:o.name)||"Lecturer"}),s.jsx("p",{className:"text-sm text-neutral-600",children:o==null?void 0:o.specialization})]})]}),s.jsxs("button",{onClick:g,className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Availability"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[o!=null&&o.availability?s.jsx(Yc,{className:"h-4 w-4 text-success"}):s.jsx(Hc,{className:"h-4 w-4 text-error"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o!=null&&o.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:o!=null&&o.availability?"Available":"Not Available"})]})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-3 p-3 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}),s.jsxs("div",{className:"dashboard-content",children:[f?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[...Array(4)].map((M,A)=>s.jsx(Ai,{},A))}):s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Assigned Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:C.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(et,{className:"h-4 w-4 sm:h-5 sm:w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Students"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:C.reduce((M,A)=>M+A.studentCount,0)})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Experience"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:[(o==null?void 0:o.experience)||0," years"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Specialization"}),s.jsx("p",{className:"text-sm sm:text-lg font-semibold text-neutral-900 truncate",children:o==null?void 0:o.specialization})]})]})})]}),f?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-64 mb-4 animate-pulse"}),s.jsx("div",{className:"space-y-3",children:[...Array(2)].map((M,A)=>s.jsx(Li,{},A))})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Your Assigned Courses"}),C.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(B,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No Courses Assigned"}),s.jsx("p",{className:"text-neutral-600",children:"You haven't been assigned to any courses yet. Contact the admin for course assignments."})]}):s.jsx("div",{className:"grid gap-6",children:C.map(M=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:M.title}),s.jsxs("p",{className:"text-neutral-600",children:[M.code," • ",M.semester]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:M.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[M.credits," credits"]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:M.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[M.studentCount," students registered"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($n,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:["Max: ",M.maxStudents," students"]})]})]}),s.jsx("button",{onClick:()=>_(M),className:"btn-primary",children:"View Details"})]}),M.students.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:[s.jsx("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Registered Students"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:M.students.map(A=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:A.name}),s.jsxs("p",{className:"text-xs text-neutral-500",children:[A.studentId," • Year ",A.year]})]})]},A._id))})]})]},M._id))})]})})]}),i&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Course Details"}),s.jsx("button",{onClick:E,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:s.jsx(Vt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:a.title}),s.jsxs("p",{className:"text-neutral-600",children:[a.code," • ",a.semester]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:a.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[a.credits," credits"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-neutral-600",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(et,{className:"h-5 w-5 text-primary-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Current Students"}),s.jsx("p",{className:"text-lg font-semibold text-neutral-900",children:a.currentStudents})]})]})}),s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-5 w-5 text-primary-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Max Students"}),s.jsx("p",{className:"text-lg font-semibold text-neutral-900",children:a.maxStudents})]})]})})]}),a.registeredStudents&&a.registeredStudents.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-neutral-900 mb-3",children:["Registered Students (",a.registeredStudents.length,")"]}),s.jsx("div",{className:"space-y-2",children:a.registeredStudents.map(M=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:M.name}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[M.studentId," • ",M.department]})]})]},M._id))})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:E,className:"btn-secondary",children:"Close"})})]})})})]})}function J0({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmText:l="Confirm",cancelText:a="Cancel",type:c="warning"}){if(!e)return null;const o=()=>{switch(c){case"danger":return s.jsx(Yr,{className:"h-6 w-6 text-error"});case"warning":default:return s.jsx(yt,{className:"h-6 w-6 text-warning"})}},u=()=>{switch(c){case"danger":return"btn-error";case"warning":default:return"btn-warning"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o(),s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:r})]}),s.jsx("p",{className:"text-neutral-600 mb-6",children:i}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1",children:a}),s.jsx("button",{onClick:n,className:`${u()} flex-1`,children:l})]})]})})})}function G0({user:e,onLogout:t}){const[n,r]=N.useState(!1),[i,l]=N.useState(!1),[a,c]=N.useState(new Set),[o,u]=N.useState(new Set),[x,m]=N.useState(!1),[p,w]=N.useState(null);console.log("StudentDashboard user:",e);const f=te(F.students.getStudentByUserId,{userId:e==null?void 0:e.id}),j=te(F.courses.getActiveCourses),v=te(F.lecturers.getLecturers),h=te(F.matches.getActiveMatches),d=te(F.registrations.getRegistrationsByStudent,f!=null&&f._id?{studentId:f._id}:"skip"),y=f===void 0||j===void 0||v===void 0||h===void 0||d===void 0,S=j||[],g=v||[],_=h||[],E=d||[],C=K(F.registrations.registerForCourse),M=K(F.registrations.dropCourse),A=k=>g.find(R=>R._id===k),L=k=>_.find(R=>R.courseId===k);if(!e)return s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600",children:"Loading user data..."})]})});const P=E.filter(k=>k.status==="registered").map(k=>{const R=S.find(pn=>pn._id===k.courseId),$=L(k.courseId),ne=$?A($.lecturerId):null;return{...R,registration:k,lecturer:ne,match:$}}).filter(Boolean),O=S.filter(k=>(E.some($=>$.courseId===k._id&&$.status==="registered"),L(k._id)&&k.currentStudents<k.maxStudents)),$e=k=>E.some(R=>R.courseId===k&&R.status==="registered"),H=async k=>{c(R=>new Set(R).add(k));try{const R=L(k);if(!R){alert("No lecturer assigned to this course yet.");return}await C({studentId:f._id,courseId:k,lecturerId:R.lecturerId}),alert("Successfully registered for the course!")}catch(R){console.error("Error registering for course:",R),alert("Failed to register for course. "+R.message)}finally{c(R=>{const $=new Set(R);return $.delete(k),$})}},pe=k=>{w(k),m(!0)},ut=async()=>{if(p){u(k=>new Set(k).add(p.registration._id));try{await M({id:p.registration._id}),alert("Successfully dropped the course!"),m(!1),w(null)}catch(k){console.error("Error dropping course:",k),alert("Failed to drop course. "+k.message)}finally{u(k=>{const R=new Set(k);return R.delete(p.registration._id),R})}}},T=()=>{m(!1),w(null)};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-2xl font-bold text-neutral-900",children:["Welcome, ",(f==null?void 0:f.name)||"Student"]}),s.jsxs("p",{className:"text-neutral-600",children:[f==null?void 0:f.department," • Year ",f==null?void 0:f.year]})]}),s.jsxs("div",{className:"sm:hidden",children:[s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:(f==null?void 0:f.name)||"Student"}),s.jsx("p",{className:"text-sm text-neutral-600",children:f==null?void 0:f.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium hidden sm:block",children:f==null?void 0:f.studentId}),s.jsx("button",{onClick:()=>l(!i),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:i?s.jsx(Vt,{className:"h-5 w-5"}):s.jsx(ns,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:t,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})}),i&&s.jsx("div",{className:"lg:hidden bg-white border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:(f==null?void 0:f.name)||"Student"}),s.jsx("p",{className:"text-sm text-neutral-600",children:f==null?void 0:f.studentId})]})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-3 p-3 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}),s.jsxs("div",{className:"dashboard-content",children:[y?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[...Array(4)].map((k,R)=>s.jsx(Ai,{},R))}):s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Registered Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:P.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(at,{className:"h-4 w-4 sm:h-5 sm:w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Available Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:O.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Department"}),s.jsx("p",{className:"text-sm sm:text-lg font-semibold text-neutral-900 truncate",children:f==null?void 0:f.department})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Academic Year"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:["Year ",f==null?void 0:f.year]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-1 mb-6",children:[s.jsxs("button",{onClick:()=>r(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n?"text-neutral-600 hover:text-neutral-900":"bg-primary-100 text-primary-700"}`,children:["My Courses (",P.length,")"]}),s.jsxs("button",{onClick:()=>r(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n?"bg-primary-100 text-primary-700":"text-neutral-600 hover:text-neutral-900"}`,children:["Available Courses (",O.length,")"]})]}),y?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-64 mb-4 animate-pulse"}),s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((k,R)=>s.jsx(Li,{},R))})]})}):n?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Available Courses"}),O.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(B,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No Available Courses"}),s.jsx("p",{className:"text-neutral-600",children:"All courses are either full or don't have assigned lecturers yet."})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6",children:O.map(k=>{const R=L(k._id),$=R?A(R.lecturerId):null;return s.jsxs("div",{className:`card ${$e(k._id)?"border-success/20 bg-success/5":""}`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${$e(k._id)?"bg-success/10":"bg-primary-100"}`,children:$e(k._id)?s.jsx(at,{className:"h-5 w-5 text-success"}):s.jsx(B,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:k.title}),s.jsxs("p",{className:"text-neutral-600",children:[k.code," • ",k.semester]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:k.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[k.credits," credits"]}),$e(k._id)&&s.jsxs("span",{className:"bg-success/10 text-success px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[s.jsx(at,{className:"h-3 w-3"}),s.jsx("span",{children:"Registered"})]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:k.description}),$&&s.jsx("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:$.name}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[$.department," • ",$.experience," years experience"]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ce,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[k.currentStudents,"/",k.maxStudents," students"]})]})}),$e(k._id)?s.jsxs("button",{disabled:!0,className:"btn-success flex items-center justify-center space-x-2 w-full sm:w-auto opacity-75 cursor-not-allowed",children:[s.jsx(at,{className:"h-4 w-4"}),s.jsx("span",{children:"Registered"})]}):s.jsx("button",{onClick:()=>H(k._id),disabled:a.has(k._id),className:"btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:a.has(k._id)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Registering..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Register"})]})})]})]},k._id)})})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"My Registered Courses"}),P.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(B,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No Courses Registered"}),s.jsx("p",{className:"text-neutral-600 mb-4",children:"You haven't registered for any courses yet. Browse available courses to get started."}),s.jsx("button",{onClick:()=>r(!0),className:"btn-primary",children:"Browse Courses"})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6",children:P.map(k=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(B,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:k.title}),s.jsxs("p",{className:"text-neutral-600",children:[k.code," • ",k.semester]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:k.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[k.credits," credits"]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:k.description}),k.lecturer&&s.jsx("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:k.lecturer.name}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[k.lecturer.department," • ",k.lecturer.experience," years experience"]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ce,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[k.currentStudents," students"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($n,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:["Max: ",k.maxStudents," students"]})]})]}),s.jsx("button",{onClick:()=>pe(k),disabled:o.has(k.registration._id),className:"btn-error flex items-center justify-center space-x-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:o.has(k.registration._id)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Dropping..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"h-4 w-4"}),s.jsx("span",{children:"Drop Course"})]})})]})]},k._id))})]})})]}),s.jsx(J0,{isOpen:x,onClose:T,onConfirm:ut,title:"Drop Course",message:`Are you sure you want to drop "${p==null?void 0:p.title}"? This action cannot be undone.`,confirmText:"Drop Course",cancelText:"Cancel",type:"danger"})]})}function Z0(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(D0,{className:"h-8 w-8 animate-spin text-primary-600"}),s.jsx("p",{className:"text-neutral-600 font-medium",children:"Loading..."})]})})}function eg(){const[e,t]=N.useState(null),[n,r]=N.useState(!0);N.useEffect(()=>{const a=localStorage.getItem("user");a&&t(JSON.parse(a)),r(!1)},[]);const i=a=>{t(a),localStorage.setItem("user",JSON.stringify(a))},l=()=>{t(null),localStorage.removeItem("user")};return n?s.jsx(Z0,{}):e?s.jsxs(Tc,{children:[s.jsx(Gt,{path:"/",element:s.jsx(fr,{to:"/dashboard",replace:!0})}),s.jsx(Gt,{path:"/dashboard",element:s.jsx(tg,{user:e,onLogout:l})}),s.jsx(Gt,{path:"/login",element:s.jsx(fr,{to:"/dashboard",replace:!0})}),s.jsx(Gt,{path:"*",element:s.jsx(fr,{to:"/dashboard",replace:!0})})]}):s.jsxs(Tc,{children:[s.jsx(Gt,{path:"/login",element:s.jsx(F0,{onLogin:i})}),s.jsx(Gt,{path:"*",element:s.jsx(fr,{to:"/login",replace:!0})})]})}function tg({user:e,onLogout:t}){switch(e.role){case"admin":return s.jsx(K0,{user:e,onLogout:t});case"lecturer":return s.jsx(X0,{user:e,onLogout:t});case"student":return s.jsx(G0,{user:e,onLogout:t});default:return s.jsx(fr,{to:"/login",replace:!0})}}function ng({isVisible:e,onComplete:t,isPageRefresh:n=!1}){var u,x,m;const[r,i]=N.useState(0),[l,a]=N.useState(0),c=n?[{icon:mo,text:"Refreshing System...",color:"text-blue-600"},{icon:B,text:"Reloading Courses...",color:"text-green-600"},{icon:Qe,text:"Updating Students...",color:"text-purple-600"},{icon:ce,text:"Refreshing Lecturers...",color:"text-primary-600"},{icon:B,text:"Finalizing Dashboard...",color:"text-primary-600"}]:[{icon:B,text:"Loading Courses...",color:"text-blue-600"},{icon:Qe,text:"Loading Students...",color:"text-green-600"},{icon:ce,text:"Loading Lecturers...",color:"text-purple-600"},{icon:B,text:"Setting up Dashboard...",color:"text-primary-600"}];if(N.useEffect(()=>{if(!e)return;const p=setInterval(()=>{i(f=>f>=100?(clearInterval(p),setTimeout(()=>{t()},500),100):f+(n?1.5:2))},50),w=setInterval(()=>{a(f=>f>=c.length-1?(clearInterval(w),c.length-1):f+1)},n?600:800);return()=>{clearInterval(p),clearInterval(w)}},[e,t,n]),!e)return null;const o=((u=c[l])==null?void 0:u.icon)||B;return s.jsx("div",{className:"universal-loader bg-gradient-to-br from-primary-50 via-white to-primary-100",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("div",{className:"h-16 w-16 sm:h-20 sm:w-20 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(B,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-neutral-900 mb-2",children:"Course Matching System"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"University Management Platform"})]}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4 loader-step",children:[s.jsx(o,{className:`h-5 w-5 sm:h-6 sm:w-6 ${((x=c[l])==null?void 0:x.color)||"text-primary-600"} animate-pulse`}),s.jsx("span",{className:"text-base sm:text-lg font-medium text-neutral-700",children:((m=c[l])==null?void 0:m.text)||"Loading..."})]}),s.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2 sm:h-3 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full loader-progress",style:{width:`${r}%`}})}),s.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-neutral-600",children:[r,"%"]})]}),s.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4 sm:mb-6",children:[...Array(3)].map((p,w)=>s.jsx("div",{className:`h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full animate-pulse ${w===l%3?"bg-primary-600":"bg-neutral-300"}`,style:{animationDelay:`${w*.2}s`,animationDuration:"1s"}},w))}),s.jsx("div",{className:"text-xs text-neutral-500",children:s.jsx("p",{children:"Powered by Convex & React"})})]})})}const Df=N.createContext(),rg=()=>{const e=N.useContext(Df);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},sg=({children:e})=>{const[t,n]=N.useState(!0),[r,i]=N.useState(!1);N.useEffect(()=>{var o,u;(((o=performance.navigation)==null?void 0:o.type)===1||((u=performance.getEntriesByType("navigation")[0])==null?void 0:u.type)==="reload")&&i(!0);const c=setTimeout(()=>{n(!1),i(!1)},2500);return()=>clearTimeout(c)},[]);const l={isInitialLoad:t,isPageRefresh:r,isLoading:t||r};return s.jsx(Df.Provider,{value:l,children:e})};const ig=new N0("https://graceful-mouse-263.convex.cloud");function lg(){const{isLoading:e,isPageRefresh:t}=rg(),[n,r]=N.useState(!0);N.useEffect(()=>(n&&e?document.body.classList.add("loader-active"):document.body.classList.remove("loader-active"),()=>{document.body.classList.remove("loader-active")}),[n,e]);const i=()=>{r(!1)};return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[n&&s.jsx(ng,{isVisible:e,onComplete:i,isPageRefresh:t}),s.jsx(eg,{})]})}function ag(){return s.jsx(k0,{client:ig,children:s.jsx(sg,{children:s.jsx(sx,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(lg,{})})})})}ml.createRoot(document.getElementById("root")).render(s.jsx(Xn.StrictMode,{children:s.jsx(ag,{})}));
