function $f(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xc={exports:{}},mi={},Jc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=Symbol.for("react.element"),Df=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Hf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),mo=Symbol.iterator;function Kf(e){return e===null||typeof e!="object"?null:(e=mo&&e[mo]||e["@@iterator"],typeof e=="function"?e:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zc=Object.assign,eu={};function Kn(e,t,n){this.props=e,this.context=t,this.refs=eu,this.updater=n||Gc}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tu(){}tu.prototype=Kn.prototype;function fa(e,t,n){this.props=e,this.context=t,this.refs=eu,this.updater=n||Gc}var ha=fa.prototype=new tu;ha.constructor=fa;Zc(ha,Kn.prototype);ha.isPureReactComponent=!0;var po=Array.isArray,nu=Object.prototype.hasOwnProperty,ma={current:null},ru={key:!0,ref:!0,__self:!0,__source:!0};function su(e,t,n){var r,i={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)nu.call(t,r)&&!ru.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Kr,type:e,key:l,ref:a,props:i,_owner:ma.current}}function Xf(e,t){return{$$typeof:Kr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kr}function Jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xo=/\/+/g;function Ii(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jf(""+e.key):t.toString(36)}function Ss(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Kr:case Df:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ii(a,0):r,po(i)?(n="",e!=null&&(n=e.replace(xo,"$&/")+"/"),Ss(i,t,n,"",function(u){return u})):i!=null&&(pa(i)&&(i=Xf(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xo,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",po(e))for(var c=0;c<e.length;c++){l=e[c];var o=r+Ii(l,c);a+=Ss(l,t,n,o,i)}else if(o=Kf(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=r+Ii(l,c++),a+=Ss(l,t,n,o,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ss(e,t,n){if(e==null)return e;var r=[],i=0;return Ss(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},ks={transition:null},Zf={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ks,ReactCurrentOwner:ma};function iu(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:ss,forEach:function(e,t,n){ss(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ss(e,function(){t++}),t},toArray:function(e){return ss(e,function(t){return t})||[]},only:function(e){if(!pa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=Kn;I.Fragment=Ff;I.Profiler=qf;I.PureComponent=fa;I.StrictMode=Uf;I.Suspense=Wf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zf;I.act=iu;I.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zc({},e.props),i=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=ma.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)nu.call(t,o)&&!ru.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Kr,type:e.type,key:i,ref:l,props:r,_owner:a}};I.createContext=function(e){return e={$$typeof:Vf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bf,_context:e},e.Consumer=e};I.createElement=su;I.createFactory=function(e){var t=su.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:Qf,render:e}};I.isValidElement=pa;I.lazy=function(e){return{$$typeof:Yf,_payload:{_status:-1,_result:e},_init:Gf}};I.memo=function(e,t){return{$$typeof:Hf,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=ks.transition;ks.transition={};try{e()}finally{ks.transition=t}};I.unstable_act=iu;I.useCallback=function(e,t){return Se.current.useCallback(e,t)};I.useContext=function(e){return Se.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};I.useEffect=function(e,t){return Se.current.useEffect(e,t)};I.useId=function(){return Se.current.useId()};I.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return Se.current.useMemo(e,t)};I.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};I.useRef=function(e){return Se.current.useRef(e)};I.useState=function(e){return Se.current.useState(e)};I.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};I.useTransition=function(){return Se.current.useTransition()};I.version="18.3.1";Jc.exports=I;var j=Jc.exports;const Xn=zf(j),eh=$f({__proto__:null,default:Xn},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=j,nh=Symbol.for("react.element"),rh=Symbol.for("react.fragment"),sh=Object.prototype.hasOwnProperty,ih=th.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lh={key:!0,ref:!0,__self:!0,__source:!0};function lu(e,t,n){var r,i={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)sh.call(t,r)&&!lh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nh,type:e,key:l,ref:a,props:i,_owner:ih.current}}mi.Fragment=rh;mi.jsx=lu;mi.jsxs=lu;Xc.exports=mi;var s=Xc.exports,hl={},au={exports:{}},Oe={},ou={exports:{}},cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,S){var _=R.length;R.push(S);e:for(;0<_;){var P=_-1>>>1,ne=R[P];if(0<i(ne,S))R[P]=S,R[_]=ne,_=P;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var S=R[0],_=R.pop();if(_!==S){R[0]=_;e:for(var P=0,ne=R.length,mn=ne>>>1;P<mn;){var Wt=2*(P+1)-1,Li=R[Wt],Ht=Wt+1,rs=R[Ht];if(0>i(Li,_))Ht<ne&&0>i(rs,Li)?(R[P]=rs,R[Ht]=_,P=Ht):(R[P]=Li,R[Wt]=_,P=Wt);else if(Ht<ne&&0>i(rs,_))R[P]=rs,R[Ht]=_,P=Ht;else break e}}return S}function i(R,S){var _=R.sortIndex-S.sortIndex;return _!==0?_:R.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var o=[],u=[],x=1,m=null,p=3,d=!1,v=!1,N=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=R)r(u),S.sortIndex=S.expirationTime,t(o,S);else break;S=n(u)}}function w(R){if(N=!1,g(R),!v)if(n(o)!==null)v=!0,pe(C);else{var S=n(u);S!==null&&ut(w,S.startTime-R)}}function C(R,S){v=!1,N&&(N=!1,f(b),b=-1),d=!0;var _=p;try{for(g(S),m=n(o);m!==null&&(!(m.expirationTime>S)||R&&!Q());){var P=m.callback;if(typeof P=="function"){m.callback=null,p=m.priorityLevel;var ne=P(m.expirationTime<=S);S=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(o)&&r(o),g(S)}else r(o);m=n(o)}if(m!==null)var mn=!0;else{var Wt=n(u);Wt!==null&&ut(w,Wt.startTime-S),mn=!1}return mn}finally{m=null,p=_,d=!1}}var T=!1,E=null,b=-1,A=5,L=-1;function Q(){return!(e.unstable_now()-L<A)}function O(){if(E!==null){var R=e.unstable_now();L=R;var S=!0;try{S=E(!0,R)}finally{S?W():(T=!1,E=null)}}else T=!1}var W;if(typeof h=="function")W=function(){h(O)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,H=ze.port2;ze.port1.onmessage=O,W=function(){H.postMessage(null)}}else W=function(){y(O,0)};function pe(R){E=R,T||(T=!0,W())}function ut(R,S){b=y(function(){R(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,pe(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var S=3;break;default:S=p}var _=p;p=S;try{return R()}finally{p=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,S){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var _=p;p=R;try{return S()}finally{p=_}},e.unstable_scheduleCallback=function(R,S,_){var P=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?P+_:P):_=P,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=_+ne,R={id:x++,callback:S,priorityLevel:R,startTime:_,expirationTime:ne,sortIndex:-1},_>P?(R.sortIndex=_,t(u,R),n(o)===null&&R===n(u)&&(N?(f(b),b=-1):N=!0,ut(w,_-P))):(R.sortIndex=ne,t(o,R),v||d||(v=!0,pe(C))),R},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(R){var S=p;return function(){var _=p;p=S;try{return R.apply(this,arguments)}finally{p=_}}}})(cu);ou.exports=cu;var ah=ou.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=j,Pe=ah;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uu=new Set,kr={};function dn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(kr[e]=t,e=0;e<t.length;e++)uu.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=Object.prototype.hasOwnProperty,ch=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,go={},vo={};function uh(e){return ml.call(vo,e)?!0:ml.call(go,e)?!1:ch.test(e)?vo[e]=!0:(go[e]=!0,!1)}function dh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fh(e,t,n,r){if(t===null||typeof t>"u"||dh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,i,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var xa=/[\-:]([a-z])/g;function ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xa,ga);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xa,ga);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xa,ga);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function va(e,t,n,r){var i=me.hasOwnProperty(t)?me[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fh(t,n,i,r)&&(n=null),r||i===null?uh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nt=oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),gn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),ya=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),du=Symbol.for("react.provider"),fu=Symbol.for("react.context"),wa=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),hu=Symbol.for("react.offscreen"),yo=Symbol.iterator;function er(e){return e===null||typeof e!="object"?null:(e=yo&&e[yo]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,Pi;function or(e){if(Pi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pi=t&&t[1]||""}return`
`+Pi+e}var Oi=!1;function $i(e,t){if(!e||Oi)return"";Oi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),a=i.length-1,c=l.length-1;1<=a&&0<=c&&i[a]!==l[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==l[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==l[c]){var o=`
`+i[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=c);break}}}finally{Oi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?or(e):""}function hh(e){switch(e.tag){case 5:return or(e.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return e=$i(e.type,!1),e;case 11:return e=$i(e.type.render,!1),e;case 1:return e=$i(e.type,!0),e;default:return""}}function vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case gn:return"Portal";case pl:return"Profiler";case ya:return"StrictMode";case xl:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fu:return(e.displayName||"Context")+".Consumer";case du:return(e._context.displayName||"Context")+".Provider";case wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ja:return t=e.displayName||null,t!==null?t:vl(e.type)||"Memo";case bt:t=e._payload,e=e._init;try{return vl(e(t))}catch{}}return null}function mh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vl(t);case 8:return t===ya?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ft(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ph(e){var t=mu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=ph(e))}function pu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yl(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ft(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xu(e,t){t=t.checked,t!=null&&va(e,"checked",t,!1)}function wl(e,t){xu(e,t);var n=Ft(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&jl(e,t.type,Ft(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jl(e,t,n){(t!=="number"||$s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cr=Array.isArray;function Tn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function No(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(cr(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ft(n)}}function gu(e,t){var n=Ft(t.value),r=Ft(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function So(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var as,yu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=as.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xh=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(e){xh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mr[t]=mr[e]})});function wu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mr.hasOwnProperty(e)&&mr[e]?(""+t).trim():t+"px"}function ju(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var gh=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,t){if(t){if(gh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function Na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var El=null,Mn=null,An=null;function ko(e){if(e=Gr(e)){if(typeof El!="function")throw Error(k(280));var t=e.stateNode;t&&(t=yi(t),El(e.stateNode,e.type,t))}}function Nu(e){Mn?An?An.push(e):An=[e]:Mn=e}function Su(){if(Mn){var e=Mn,t=An;if(An=Mn=null,ko(e),t)for(e=0;e<t.length;e++)ko(t[e])}}function ku(e,t){return e(t)}function bu(){}var zi=!1;function Cu(e,t,n){if(zi)return e(t,n);zi=!0;try{return ku(e,t,n)}finally{zi=!1,(Mn!==null||An!==null)&&(bu(),Su())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var r=yi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var _l=!1;if(vt)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{_l=!1}function vh(e,t,n,r,i,l,a,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(x){this.onError(x)}}var pr=!1,zs=null,Ds=!1,Rl=null,yh={onError:function(e){pr=!0,zs=e}};function wh(e,t,n,r,i,l,a,c,o){pr=!1,zs=null,vh.apply(yh,arguments)}function jh(e,t,n,r,i,l,a,c,o){if(wh.apply(this,arguments),pr){if(pr){var u=zs;pr=!1,zs=null}else throw Error(k(198));Ds||(Ds=!0,Rl=u)}}function fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bo(e){if(fn(e)!==e)throw Error(k(188))}function Nh(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return bo(i),e;if(l===r)return bo(i),t;l=l.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=l;break}if(c===r){a=!0,r=i,n=l;break}c=c.sibling}if(!a){for(c=l.child;c;){if(c===n){a=!0,n=l,r=i;break}if(c===r){a=!0,r=l,n=i;break}c=c.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function _u(e){return e=Nh(e),e!==null?Ru(e):null}function Ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ru(e);if(t!==null)return t;e=e.sibling}return null}var Tu=Pe.unstable_scheduleCallback,Co=Pe.unstable_cancelCallback,Sh=Pe.unstable_shouldYield,kh=Pe.unstable_requestPaint,ee=Pe.unstable_now,bh=Pe.unstable_getCurrentPriorityLevel,Sa=Pe.unstable_ImmediatePriority,Mu=Pe.unstable_UserBlockingPriority,Fs=Pe.unstable_NormalPriority,Ch=Pe.unstable_LowPriority,Au=Pe.unstable_IdlePriority,pi=null,ot=null;function Eh(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:Th,_h=Math.log,Rh=Math.LN2;function Th(e){return e>>>=0,e===0?32:31-(_h(e)/Rh|0)|0}var os=64,cs=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=ur(c):(l&=a,l!==0&&(r=ur(l)))}else a=n&~i,a!==0?r=ur(a):l!==0&&(r=ur(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ge(t),i=1<<n,r|=e[n],t&=~i;return r}function Mh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ah(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Ge(l),c=1<<a,o=i[a];o===-1?(!(c&n)||c&r)&&(i[a]=Mh(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lu(){var e=os;return os<<=1,!(os&4194240)&&(os=64),e}function Di(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=n}function Lh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ge(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function ka(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ge(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var D=0;function Iu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pu,ba,Ou,$u,zu,Ml=!1,us=[],At=null,Lt=null,It=null,Er=new Map,_r=new Map,Et=[],Ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eo(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function nr(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Gr(t),t!==null&&ba(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ph(e,t,n,r,i){switch(t){case"focusin":return At=nr(At,e,t,n,r,i),!0;case"dragenter":return Lt=nr(Lt,e,t,n,r,i),!0;case"mouseover":return It=nr(It,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Er.set(l,nr(Er.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,_r.set(l,nr(_r.get(l)||null,e,t,n,r,i)),!0}return!1}function Du(e){var t=Jt(e.target);if(t!==null){var n=fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Eu(n),t!==null){e.blockedOn=t,zu(e.priority,function(){Ou(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cl=r,n.target.dispatchEvent(r),Cl=null}else return t=Gr(n),t!==null&&ba(t),e.blockedOn=n,!1;t.shift()}return!0}function _o(e,t,n){bs(e)&&n.delete(t)}function Oh(){Ml=!1,At!==null&&bs(At)&&(At=null),Lt!==null&&bs(Lt)&&(Lt=null),It!==null&&bs(It)&&(It=null),Er.forEach(_o),_r.forEach(_o)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ml||(Ml=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Oh)))}function Rr(e){function t(i){return rr(i,e)}if(0<us.length){rr(us[0],e);for(var n=1;n<us.length;n++){var r=us[n];r.blockedOn===e&&(r.blockedOn=null)}}for(At!==null&&rr(At,e),Lt!==null&&rr(Lt,e),It!==null&&rr(It,e),Er.forEach(t),_r.forEach(t),n=0;n<Et.length;n++)r=Et[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)Du(n),n.blockedOn===null&&Et.shift()}var Ln=Nt.ReactCurrentBatchConfig,qs=!0;function $h(e,t,n,r){var i=D,l=Ln.transition;Ln.transition=null;try{D=1,Ca(e,t,n,r)}finally{D=i,Ln.transition=l}}function zh(e,t,n,r){var i=D,l=Ln.transition;Ln.transition=null;try{D=4,Ca(e,t,n,r)}finally{D=i,Ln.transition=l}}function Ca(e,t,n,r){if(qs){var i=Al(e,t,n,r);if(i===null)Ki(e,t,r,Bs,n),Eo(e,r);else if(Ph(i,e,t,n,r))r.stopPropagation();else if(Eo(e,r),t&4&&-1<Ih.indexOf(e)){for(;i!==null;){var l=Gr(i);if(l!==null&&Pu(l),l=Al(e,t,n,r),l===null&&Ki(e,t,r,Bs,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Ki(e,t,r,null,n)}}var Bs=null;function Al(e,t,n,r){if(Bs=null,e=Na(r),e=Jt(e),e!==null)if(t=fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function Fu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bh()){case Sa:return 1;case Mu:return 4;case Fs:case Ch:return 16;case Au:return 536870912;default:return 16}default:return 16}}var Rt=null,Ea=null,Cs=null;function Uu(){if(Cs)return Cs;var e,t=Ea,n=t.length,r,i="value"in Rt?Rt.value:Rt.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[l-r];r++);return Cs=i.slice(e,1<r?1-r:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function Ro(){return!1}function $e(e){function t(n,r,i,l,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ds:Ro,this.isPropagationStopped=Ro,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=$e(Jn),Jr=G({},Jn,{view:0,detail:0}),Dh=$e(Jr),Fi,Ui,sr,xi=G({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&e.type==="mousemove"?(Fi=e.screenX-sr.screenX,Ui=e.screenY-sr.screenY):Ui=Fi=0,sr=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Ui}}),To=$e(xi),Fh=G({},xi,{dataTransfer:0}),Uh=$e(Fh),qh=G({},Jr,{relatedTarget:0}),qi=$e(qh),Bh=G({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vh=$e(Bh),Qh=G({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wh=$e(Qh),Hh=G({},Jn,{data:0}),Mo=$e(Hh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xh[e])?!!t[e]:!1}function Ra(){return Jh}var Gh=G({},Jr,{key:function(e){if(e.key){var t=Yh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zh=$e(Gh),em=G({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=$e(em),tm=G({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),nm=$e(tm),rm=G({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sm=$e(rm),im=G({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=$e(im),am=[9,13,27,32],Ta=vt&&"CompositionEvent"in window,xr=null;vt&&"documentMode"in document&&(xr=document.documentMode);var om=vt&&"TextEvent"in window&&!xr,qu=vt&&(!Ta||xr&&8<xr&&11>=xr),Lo=String.fromCharCode(32),Io=!1;function Bu(e,t){switch(e){case"keyup":return am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function cm(e,t){switch(e){case"compositionend":return Vu(t);case"keypress":return t.which!==32?null:(Io=!0,Lo);case"textInput":return e=t.data,e===Lo&&Io?null:e;default:return null}}function um(e,t){if(yn)return e==="compositionend"||!Ta&&Bu(e,t)?(e=Uu(),Cs=Ea=Rt=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qu&&t.locale!=="ko"?null:t.data;default:return null}}var dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dm[e.type]:t==="textarea"}function Qu(e,t,n,r){Nu(r),t=Vs(t,"onChange"),0<t.length&&(n=new _a("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,Tr=null;function fm(e){nd(e,0)}function gi(e){var t=Nn(e);if(pu(t))return e}function hm(e,t){if(e==="change")return t}var Wu=!1;if(vt){var Bi;if(vt){var Vi="oninput"in document;if(!Vi){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),Vi=typeof Oo.oninput=="function"}Bi=Vi}else Bi=!1;Wu=Bi&&(!document.documentMode||9<document.documentMode)}function $o(){gr&&(gr.detachEvent("onpropertychange",Hu),Tr=gr=null)}function Hu(e){if(e.propertyName==="value"&&gi(Tr)){var t=[];Qu(t,Tr,e,Na(e)),Cu(fm,t)}}function mm(e,t,n){e==="focusin"?($o(),gr=t,Tr=n,gr.attachEvent("onpropertychange",Hu)):e==="focusout"&&$o()}function pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(Tr)}function xm(e,t){if(e==="click")return gi(t)}function gm(e,t){if(e==="input"||e==="change")return gi(t)}function vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:vm;function Mr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ml.call(t,i)||!tt(e[i],t[i]))return!1}return!0}function zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Do(e,t){var n=zo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zo(n)}}function Yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ku(){for(var e=window,t=$s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$s(e.document)}return t}function Ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ym(e){var t=Ku(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yu(n.ownerDocument.documentElement,n)){if(r!==null&&Ma(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Do(n,l);var a=Do(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wm=vt&&"documentMode"in document&&11>=document.documentMode,wn=null,Ll=null,vr=null,Il=!1;function Fo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Il||wn==null||wn!==$s(r)||(r=wn,"selectionStart"in r&&Ma(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vr&&Mr(vr,r)||(vr=r,r=Vs(Ll,"onSelect"),0<r.length&&(t=new _a("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wn)))}function fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Qi={},Xu={};vt&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function vi(e){if(Qi[e])return Qi[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xu)return Qi[e]=t[n];return e}var Ju=vi("animationend"),Gu=vi("animationiteration"),Zu=vi("animationstart"),ed=vi("transitionend"),td=new Map,Uo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){td.set(e,t),dn(t,[e])}for(var Wi=0;Wi<Uo.length;Wi++){var Hi=Uo[Wi],jm=Hi.toLowerCase(),Nm=Hi[0].toUpperCase()+Hi.slice(1);Bt(jm,"on"+Nm)}Bt(Ju,"onAnimationEnd");Bt(Gu,"onAnimationIteration");Bt(Zu,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(ed,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sm=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function qo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jh(r,t,void 0,e),e.currentTarget=null}function nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==l&&i.isPropagationStopped())break e;qo(i,c,u),l=o}else for(a=0;a<r.length;a++){if(c=r[a],o=c.instance,u=c.currentTarget,c=c.listener,o!==l&&i.isPropagationStopped())break e;qo(i,c,u),l=o}}}if(Ds)throw e=Rl,Ds=!1,Rl=null,e}function B(e,t){var n=t[Dl];n===void 0&&(n=t[Dl]=new Set);var r=e+"__bubble";n.has(r)||(rd(t,e,2,!1),n.add(r))}function Yi(e,t,n){var r=0;t&&(r|=4),rd(n,e,r,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){if(!e[hs]){e[hs]=!0,uu.forEach(function(n){n!=="selectionchange"&&(Sm.has(n)||Yi(n,!1,e),Yi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Yi("selectionchange",!1,t))}}function rd(e,t,n,r){switch(Fu(t)){case 1:var i=$h;break;case 4:i=zh;break;default:i=Ca}n=i.bind(null,t,n,e),i=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ki(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Jt(c),a===null)return;if(o=a.tag,o===5||o===6){r=l=a;continue e}c=c.parentNode}}r=r.return}Cu(function(){var u=l,x=Na(n),m=[];e:{var p=td.get(e);if(p!==void 0){var d=_a,v=e;switch(e){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":d=Zh;break;case"focusin":v="focus",d=qi;break;case"focusout":v="blur",d=qi;break;case"beforeblur":case"afterblur":d=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=nm;break;case Ju:case Gu:case Zu:d=Vh;break;case ed:d=sm;break;case"scroll":d=Dh;break;case"wheel":d=lm;break;case"copy":case"cut":case"paste":d=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Ao}var N=(t&4)!==0,y=!N&&e==="scroll",f=N?p!==null?p+"Capture":null:p;N=[];for(var h=u,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,f!==null&&(w=Cr(h,f),w!=null&&N.push(Lr(h,w,g)))),y)break;h=h.return}0<N.length&&(p=new d(p,v,null,n,x),m.push({event:p,listeners:N}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&n!==Cl&&(v=n.relatedTarget||n.fromElement)&&(Jt(v)||v[yt]))break e;if((d||p)&&(p=x.window===x?x:(p=x.ownerDocument)?p.defaultView||p.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=u,v=v?Jt(v):null,v!==null&&(y=fn(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=u),d!==v)){if(N=To,w="onMouseLeave",f="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(N=Ao,w="onPointerLeave",f="onPointerEnter",h="pointer"),y=d==null?p:Nn(d),g=v==null?p:Nn(v),p=new N(w,h+"leave",d,n,x),p.target=y,p.relatedTarget=g,w=null,Jt(x)===u&&(N=new N(f,h+"enter",v,n,x),N.target=g,N.relatedTarget=y,w=N),y=w,d&&v)t:{for(N=d,f=v,h=0,g=N;g;g=pn(g))h++;for(g=0,w=f;w;w=pn(w))g++;for(;0<h-g;)N=pn(N),h--;for(;0<g-h;)f=pn(f),g--;for(;h--;){if(N===f||f!==null&&N===f.alternate)break t;N=pn(N),f=pn(f)}N=null}else N=null;d!==null&&Bo(m,p,d,N,!1),v!==null&&y!==null&&Bo(m,y,v,N,!0)}}e:{if(p=u?Nn(u):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var C=hm;else if(Po(p))if(Wu)C=gm;else{C=pm;var T=mm}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=xm);if(C&&(C=C(e,u))){Qu(m,C,n,x);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&jl(p,"number",p.value)}switch(T=u?Nn(u):window,e){case"focusin":(Po(T)||T.contentEditable==="true")&&(wn=T,Ll=u,vr=null);break;case"focusout":vr=Ll=wn=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,Fo(m,n,x);break;case"selectionchange":if(wm)break;case"keydown":case"keyup":Fo(m,n,x)}var E;if(Ta)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else yn?Bu(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(qu&&n.locale!=="ko"&&(yn||b!=="onCompositionStart"?b==="onCompositionEnd"&&yn&&(E=Uu()):(Rt=x,Ea="value"in Rt?Rt.value:Rt.textContent,yn=!0)),T=Vs(u,b),0<T.length&&(b=new Mo(b,e,null,n,x),m.push({event:b,listeners:T}),E?b.data=E:(E=Vu(n),E!==null&&(b.data=E)))),(E=om?cm(e,n):um(e,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(x=new Mo("onBeforeInput","beforeinput",null,n,x),m.push({event:x,listeners:u}),x.data=E))}nd(m,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Cr(e,n),l!=null&&r.unshift(Lr(e,l,i)),l=Cr(e,t),l!=null&&r.push(Lr(e,l,i))),e=e.return}return r}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bo(e,t,n,r,i){for(var l=t._reactName,a=[];n!==null&&n!==r;){var c=n,o=c.alternate,u=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&u!==null&&(c=u,i?(o=Cr(n,l),o!=null&&a.unshift(Lr(n,o,c))):i||(o=Cr(n,l),o!=null&&a.push(Lr(n,o,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var km=/\r\n?/g,bm=/\u0000|\uFFFD/g;function Vo(e){return(typeof e=="string"?e:""+e).replace(km,`
`).replace(bm,"")}function ms(e,t,n){if(t=Vo(t),Vo(e)!==t&&n)throw Error(k(425))}function Qs(){}var Pl=null,Ol=null;function $l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Cm=typeof clearTimeout=="function"?clearTimeout:void 0,Qo=typeof Promise=="function"?Promise:void 0,Em=typeof queueMicrotask=="function"?queueMicrotask:typeof Qo<"u"?function(e){return Qo.resolve(null).then(e).catch(_m)}:zl;function _m(e){setTimeout(function(){throw e})}function Xi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Rr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rr(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),it="__reactFiber$"+Gn,Ir="__reactProps$"+Gn,yt="__reactContainer$"+Gn,Dl="__reactEvents$"+Gn,Rm="__reactListeners$"+Gn,Tm="__reactHandles$"+Gn;function Jt(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wo(e);e!==null;){if(n=e[it])return n;e=Wo(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[it]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function yi(e){return e[Ir]||null}var Fl=[],Sn=-1;function Vt(e){return{current:e}}function V(e){0>Sn||(e.current=Fl[Sn],Fl[Sn]=null,Sn--)}function q(e,t){Sn++,Fl[Sn]=e.current,e.current=t}var Ut={},we=Vt(Ut),Ee=Vt(!1),sn=Ut;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _e(e){return e=e.childContextTypes,e!=null}function Ws(){V(Ee),V(we)}function Ho(e,t,n){if(we.current!==Ut)throw Error(k(168));q(we,t),q(Ee,n)}function sd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,mh(e)||"Unknown",i));return G({},n,r)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,sn=we.current,q(we,e),q(Ee,Ee.current),!0}function Yo(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=sd(e,t,sn),r.__reactInternalMemoizedMergedChildContext=e,V(Ee),V(we),q(we,e)):V(Ee),q(Ee,n)}var ft=null,wi=!1,Ji=!1;function id(e){ft===null?ft=[e]:ft.push(e)}function Mm(e){wi=!0,id(e)}function Qt(){if(!Ji&&ft!==null){Ji=!0;var e=0,t=D;try{var n=ft;for(D=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,wi=!1}catch(i){throw ft!==null&&(ft=ft.slice(e+1)),Tu(Sa,Qt),i}finally{D=t,Ji=!1}}return null}var kn=[],bn=0,Ys=null,Ks=0,Ue=[],qe=0,ln=null,mt=1,pt="";function Yt(e,t){kn[bn++]=Ks,kn[bn++]=Ys,Ys=e,Ks=t}function ld(e,t,n){Ue[qe++]=mt,Ue[qe++]=pt,Ue[qe++]=ln,ln=e;var r=mt;e=pt;var i=32-Ge(r)-1;r&=~(1<<i),n+=1;var l=32-Ge(t)+i;if(30<l){var a=i-i%5;l=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mt=1<<32-Ge(t)+i|n<<i|r,pt=l+e}else mt=1<<l|n<<i|r,pt=e}function Aa(e){e.return!==null&&(Yt(e,1),ld(e,1,0))}function La(e){for(;e===Ys;)Ys=kn[--bn],kn[bn]=null,Ks=kn[--bn],kn[bn]=null;for(;e===ln;)ln=Ue[--qe],Ue[qe]=null,pt=Ue[--qe],Ue[qe]=null,mt=Ue[--qe],Ue[qe]=null}var Ie=null,Ae=null,Y=!1,Je=null;function ad(e,t){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ln!==null?{id:mt,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Ae=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ql(e){if(Y){var t=Ae;if(t){var n=t;if(!Ko(e,t)){if(Ul(e))throw Error(k(418));t=Pt(n.nextSibling);var r=Ie;t&&Ko(e,t)?ad(r,n):(e.flags=e.flags&-4097|2,Y=!1,Ie=e)}}else{if(Ul(e))throw Error(k(418));e.flags=e.flags&-4097|2,Y=!1,Ie=e}}}function Xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function ps(e){if(e!==Ie)return!1;if(!Y)return Xo(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$l(e.type,e.memoizedProps)),t&&(t=Ae)){if(Ul(e))throw od(),Error(k(418));for(;t;)ad(e,t),t=Pt(t.nextSibling)}if(Xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=Pt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Pt(e.stateNode.nextSibling):null;return!0}function od(){for(var e=Ae;e;)e=Pt(e.nextSibling)}function Fn(){Ae=Ie=null,Y=!1}function Ia(e){Je===null?Je=[e]:Je.push(e)}var Am=Nt.ReactCurrentBatchConfig;function ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var c=i.refs;a===null?delete c[l]:c[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jo(e){var t=e._init;return t(e._payload)}function cd(e){function t(f,h){if(e){var g=f.deletions;g===null?(f.deletions=[h],f.flags|=16):g.push(h)}}function n(f,h){if(!e)return null;for(;h!==null;)t(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function i(f,h){return f=Dt(f,h),f.index=0,f.sibling=null,f}function l(f,h,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<h?(f.flags|=2,h):g):(f.flags|=2,h)):(f.flags|=1048576,h)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,h,g,w){return h===null||h.tag!==6?(h=sl(g,f.mode,w),h.return=f,h):(h=i(h,g),h.return=f,h)}function o(f,h,g,w){var C=g.type;return C===vn?x(f,h,g.props.children,w,g.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bt&&Jo(C)===h.type)?(w=i(h,g.props),w.ref=ir(f,h,g),w.return=f,w):(w=Is(g.type,g.key,g.props,null,f.mode,w),w.ref=ir(f,h,g),w.return=f,w)}function u(f,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=il(g,f.mode,w),h.return=f,h):(h=i(h,g.children||[]),h.return=f,h)}function x(f,h,g,w,C){return h===null||h.tag!==7?(h=tn(g,f.mode,w,C),h.return=f,h):(h=i(h,g),h.return=f,h)}function m(f,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=sl(""+h,f.mode,g),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case is:return g=Is(h.type,h.key,h.props,null,f.mode,g),g.ref=ir(f,null,h),g.return=f,g;case gn:return h=il(h,f.mode,g),h.return=f,h;case bt:var w=h._init;return m(f,w(h._payload),g)}if(cr(h)||er(h))return h=tn(h,f.mode,g,null),h.return=f,h;xs(f,h)}return null}function p(f,h,g,w){var C=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:c(f,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case is:return g.key===C?o(f,h,g,w):null;case gn:return g.key===C?u(f,h,g,w):null;case bt:return C=g._init,p(f,h,C(g._payload),w)}if(cr(g)||er(g))return C!==null?null:x(f,h,g,w,null);xs(f,g)}return null}function d(f,h,g,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(g)||null,c(h,f,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case is:return f=f.get(w.key===null?g:w.key)||null,o(h,f,w,C);case gn:return f=f.get(w.key===null?g:w.key)||null,u(h,f,w,C);case bt:var T=w._init;return d(f,h,g,T(w._payload),C)}if(cr(w)||er(w))return f=f.get(g)||null,x(h,f,w,C,null);xs(h,w)}return null}function v(f,h,g,w){for(var C=null,T=null,E=h,b=h=0,A=null;E!==null&&b<g.length;b++){E.index>b?(A=E,E=null):A=E.sibling;var L=p(f,E,g[b],w);if(L===null){E===null&&(E=A);break}e&&E&&L.alternate===null&&t(f,E),h=l(L,h,b),T===null?C=L:T.sibling=L,T=L,E=A}if(b===g.length)return n(f,E),Y&&Yt(f,b),C;if(E===null){for(;b<g.length;b++)E=m(f,g[b],w),E!==null&&(h=l(E,h,b),T===null?C=E:T.sibling=E,T=E);return Y&&Yt(f,b),C}for(E=r(f,E);b<g.length;b++)A=d(E,f,b,g[b],w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?b:A.key),h=l(A,h,b),T===null?C=A:T.sibling=A,T=A);return e&&E.forEach(function(Q){return t(f,Q)}),Y&&Yt(f,b),C}function N(f,h,g,w){var C=er(g);if(typeof C!="function")throw Error(k(150));if(g=C.call(g),g==null)throw Error(k(151));for(var T=C=null,E=h,b=h=0,A=null,L=g.next();E!==null&&!L.done;b++,L=g.next()){E.index>b?(A=E,E=null):A=E.sibling;var Q=p(f,E,L.value,w);if(Q===null){E===null&&(E=A);break}e&&E&&Q.alternate===null&&t(f,E),h=l(Q,h,b),T===null?C=Q:T.sibling=Q,T=Q,E=A}if(L.done)return n(f,E),Y&&Yt(f,b),C;if(E===null){for(;!L.done;b++,L=g.next())L=m(f,L.value,w),L!==null&&(h=l(L,h,b),T===null?C=L:T.sibling=L,T=L);return Y&&Yt(f,b),C}for(E=r(f,E);!L.done;b++,L=g.next())L=d(E,f,b,L.value,w),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?b:L.key),h=l(L,h,b),T===null?C=L:T.sibling=L,T=L);return e&&E.forEach(function(O){return t(f,O)}),Y&&Yt(f,b),C}function y(f,h,g,w){if(typeof g=="object"&&g!==null&&g.type===vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case is:e:{for(var C=g.key,T=h;T!==null;){if(T.key===C){if(C=g.type,C===vn){if(T.tag===7){n(f,T.sibling),h=i(T,g.props.children),h.return=f,f=h;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bt&&Jo(C)===T.type){n(f,T.sibling),h=i(T,g.props),h.ref=ir(f,T,g),h.return=f,f=h;break e}n(f,T);break}else t(f,T);T=T.sibling}g.type===vn?(h=tn(g.props.children,f.mode,w,g.key),h.return=f,f=h):(w=Is(g.type,g.key,g.props,null,f.mode,w),w.ref=ir(f,h,g),w.return=f,f=w)}return a(f);case gn:e:{for(T=g.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(f,h.sibling),h=i(h,g.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else t(f,h);h=h.sibling}h=il(g,f.mode,w),h.return=f,f=h}return a(f);case bt:return T=g._init,y(f,h,T(g._payload),w)}if(cr(g))return v(f,h,g,w);if(er(g))return N(f,h,g,w);xs(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(f,h.sibling),h=i(h,g),h.return=f,f=h):(n(f,h),h=sl(g,f.mode,w),h.return=f,f=h),a(f)):n(f,h)}return y}var Un=cd(!0),ud=cd(!1),Xs=Vt(null),Js=null,Cn=null,Pa=null;function Oa(){Pa=Cn=Js=null}function $a(e){var t=Xs.current;V(Xs),e._currentValue=t}function Bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function In(e,t){Js=e,Pa=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(Pa!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(Js===null)throw Error(k(308));Cn=e,Js.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var Gt=null;function za(e){Gt===null?Gt=[e]:Gt.push(e)}function dd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,za(t)):(n.next=i.next,i.next=n),t.interleaved=n,wt(e,r)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ct=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ot(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wt(e,n)}return i=r.interleaved,i===null?(t.next=t,za(r)):(t.next=i.next,i.next=t),r.interleaved=t,wt(e,n)}function _s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ka(e,n)}}function Go(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gs(e,t,n,r){var i=e.updateQueue;Ct=!1;var l=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,a===null?l=u:a.next=u,a=o;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==a&&(c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=o))}if(l!==null){var m=i.baseState;a=0,x=u=o=null,c=l;do{var p=c.lane,d=c.eventTime;if((r&p)===p){x!==null&&(x=x.next={eventTime:d,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,N=c;switch(p=t,d=n,N.tag){case 1:if(v=N.payload,typeof v=="function"){m=v.call(d,m,p);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,p=typeof v=="function"?v.call(d,m,p):v,p==null)break e;m=G({},m,p);break e;case 2:Ct=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[c]:p.push(c))}else d={eventTime:d,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(u=x=d,o=m):x=x.next=d,a|=p;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;p=c,c=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(x===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=x,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);on|=a,e.lanes=a,e.memoizedState=m}}function Zo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var Zr={},ct=Vt(Zr),Pr=Vt(Zr),Or=Vt(Zr);function Zt(e){if(e===Zr)throw Error(k(174));return e}function Fa(e,t){switch(q(Or,t),q(Pr,e),q(ct,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sl(t,e)}V(ct),q(ct,t)}function qn(){V(ct),V(Pr),V(Or)}function hd(e){Zt(Or.current);var t=Zt(ct.current),n=Sl(t,e.type);t!==n&&(q(Pr,e),q(ct,n))}function Ua(e){Pr.current===e&&(V(ct),V(Pr))}var X=Vt(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gi=[];function qa(){for(var e=0;e<Gi.length;e++)Gi[e]._workInProgressVersionPrimary=null;Gi.length=0}var Rs=Nt.ReactCurrentDispatcher,Zi=Nt.ReactCurrentBatchConfig,an=0,J=null,le=null,oe=null,ei=!1,yr=!1,$r=0,Lm=0;function xe(){throw Error(k(321))}function Ba(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tt(e[n],t[n]))return!1;return!0}function Va(e,t,n,r,i,l){if(an=l,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?$m:zm,e=n(r,i),yr){l=0;do{if(yr=!1,$r=0,25<=l)throw Error(k(301));l+=1,oe=le=null,t.updateQueue=null,Rs.current=Dm,e=n(r,i)}while(yr)}if(Rs.current=ti,t=le!==null&&le.next!==null,an=0,oe=le=J=null,ei=!1,t)throw Error(k(300));return e}function Qa(){var e=$r!==0;return $r=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?J.memoizedState=oe=e:oe=oe.next=e,oe}function He(){if(le===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=oe===null?J.memoizedState:oe.next;if(t!==null)oe=t,le=e;else{if(e===null)throw Error(k(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},oe===null?J.memoizedState=oe=e:oe=oe.next=e}return oe}function zr(e,t){return typeof t=="function"?t(e):t}function el(e){var t=He(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=le,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var c=a=null,o=null,u=l;do{var x=u.lane;if((an&x)===x)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:x,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=m,a=r):o=o.next=m,J.lanes|=x,on|=x}u=u.next}while(u!==null&&u!==l);o===null?a=r:o.next=c,tt(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,J.lanes|=l,on|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tl(e){var t=He(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do l=e(l,a.action),a=a.next;while(a!==i);tt(l,t.memoizedState)||(Ce=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function md(){}function pd(e,t){var n=J,r=He(),i=t(),l=!tt(r.memoizedState,i);if(l&&(r.memoizedState=i,Ce=!0),r=r.queue,Wa(vd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,Dr(9,gd.bind(null,n,r,i,t),void 0,null),ue===null)throw Error(k(349));an&30||xd(n,t,i)}return i}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gd(e,t,n,r){t.value=n,t.getSnapshot=r,yd(t)&&wd(e)}function vd(e,t,n){return n(function(){yd(t)&&wd(e)})}function yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch{return!0}}function wd(e){var t=wt(e,1);t!==null&&Ze(t,e,1,-1)}function ec(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Om.bind(null,J,e),[t.memoizedState,e]}function Dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jd(){return He().memoizedState}function Ts(e,t,n,r){var i=st();J.flags|=e,i.memoizedState=Dr(1|t,n,void 0,r===void 0?null:r)}function ji(e,t,n,r){var i=He();r=r===void 0?null:r;var l=void 0;if(le!==null){var a=le.memoizedState;if(l=a.destroy,r!==null&&Ba(r,a.deps)){i.memoizedState=Dr(t,n,l,r);return}}J.flags|=e,i.memoizedState=Dr(1|t,n,l,r)}function tc(e,t){return Ts(8390656,8,e,t)}function Wa(e,t){return ji(2048,8,e,t)}function Nd(e,t){return ji(4,2,e,t)}function Sd(e,t){return ji(4,4,e,t)}function kd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bd(e,t,n){return n=n!=null?n.concat([e]):null,ji(4,4,kd.bind(null,t,e),n)}function Ha(){}function Cd(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ed(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _d(e,t,n){return an&21?(tt(n,t)||(n=Lu(),J.lanes|=n,on|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n)}function Im(e,t){var n=D;D=n!==0&&4>n?n:4,e(!0);var r=Zi.transition;Zi.transition={};try{e(!1),t()}finally{D=n,Zi.transition=r}}function Rd(){return He().memoizedState}function Pm(e,t,n){var r=zt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Td(e))Md(t,n);else if(n=dd(e,t,n,r),n!==null){var i=Ne();Ze(n,e,r,i),Ad(n,t,r)}}function Om(e,t,n){var r=zt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Td(e))Md(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,c=l(a,n);if(i.hasEagerState=!0,i.eagerState=c,tt(c,a)){var o=t.interleaved;o===null?(i.next=i,za(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}n=dd(e,t,i,r),n!==null&&(i=Ne(),Ze(n,e,r,i),Ad(n,t,r))}}function Td(e){var t=e.alternate;return e===J||t!==null&&t===J}function Md(e,t){yr=ei=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ad(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ka(e,n)}}var ti={readContext:We,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},$m={readContext:We,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:tc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,kd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pm.bind(null,J,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:ec,useDebugValue:Ha,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=ec(!1),t=e[0];return e=Im.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=J,i=st();if(Y){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),ue===null)throw Error(k(349));an&30||xd(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,tc(vd.bind(null,r,l,e),[e]),r.flags|=2048,Dr(9,gd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=st(),t=ue.identifierPrefix;if(Y){var n=pt,r=mt;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zm={readContext:We,useCallback:Cd,useContext:We,useEffect:Wa,useImperativeHandle:bd,useInsertionEffect:Nd,useLayoutEffect:Sd,useMemo:Ed,useReducer:el,useRef:jd,useState:function(){return el(zr)},useDebugValue:Ha,useDeferredValue:function(e){var t=He();return _d(t,le.memoizedState,e)},useTransition:function(){var e=el(zr)[0],t=He().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:pd,useId:Rd,unstable_isNewReconciler:!1},Dm={readContext:We,useCallback:Cd,useContext:We,useEffect:Wa,useImperativeHandle:bd,useInsertionEffect:Nd,useLayoutEffect:Sd,useMemo:Ed,useReducer:tl,useRef:jd,useState:function(){return tl(zr)},useDebugValue:Ha,useDeferredValue:function(e){var t=He();return le===null?t.memoizedState=e:_d(t,le.memoizedState,e)},useTransition:function(){var e=tl(zr)[0],t=He().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:pd,useId:Rd,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:G({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),i=zt(e),l=gt(r,i);l.payload=t,n!=null&&(l.callback=n),t=Ot(e,l,i),t!==null&&(Ze(t,e,i,r),_s(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),i=zt(e),l=gt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ot(e,l,i),t!==null&&(Ze(t,e,i,r),_s(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=zt(e),i=gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ot(e,i,r),t!==null&&(Ze(t,e,r,n),_s(t,e,r))}};function nc(e,t,n,r,i,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,l):!0}function Ld(e,t,n){var r=!1,i=Ut,l=t.contextType;return typeof l=="object"&&l!==null?l=We(l):(i=_e(t)?sn:we.current,r=t.contextTypes,l=(r=r!=null)?Dn(e,i):Ut),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function Ql(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Da(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=We(l):(l=_e(t)?sn:we.current,i.context=Dn(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Vl(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ni.enqueueReplaceState(i,i.state,null),Gs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bn(e,t){try{var n="",r=t;do n+=hh(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fm=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ri||(ri=!0,na=r),Wl(e,t)},n}function Pd(e,t,n){n=gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Wl(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function sc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fm;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ep.bind(null,e,t,n),t.then(e,e))}function ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Ot(n,t,1))),n.lanes|=1),e)}var Um=Nt.ReactCurrentOwner,Ce=!1;function je(e,t,n,r){t.child=e===null?ud(t,null,n,r):Un(t,e.child,n,r)}function ac(e,t,n,r,i){n=n.render;var l=t.ref;return In(t,i),r=Va(e,t,n,r,l,i),n=Qa(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jt(e,t,i)):(Y&&n&&Aa(t),t.flags|=1,je(e,t,r,i),t.child)}function oc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!to(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Od(e,t,l,r,i)):(e=Is(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(a,r)&&e.ref===t.ref)return jt(e,t,i)}return t.flags|=1,e=Dt(l,r),e.ref=t.ref,e.return=t,t.child=e}function Od(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Mr(l,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,jt(e,t,i)}return Hl(e,t,n,r,i)}function $d(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(_n,Te),Te|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(_n,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,q(_n,Te),Te|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,q(_n,Te),Te|=r;return je(e,t,i,n),t.child}function zd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hl(e,t,n,r,i){var l=_e(n)?sn:we.current;return l=Dn(t,l),In(t,i),n=Va(e,t,n,r,l,i),r=Qa(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jt(e,t,i)):(Y&&r&&Aa(t),t.flags|=1,je(e,t,n,i),t.child)}function cc(e,t,n,r,i){if(_e(n)){var l=!0;Hs(t)}else l=!1;if(In(t,i),t.stateNode===null)Ms(e,t),Ld(t,n,r),Ql(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var o=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=_e(n)?sn:we.current,u=Dn(t,u));var x=n.getDerivedStateFromProps,m=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||o!==u)&&rc(t,a,r,u),Ct=!1;var p=t.memoizedState;a.state=p,Gs(t,r,a,i),o=t.memoizedState,c!==r||p!==o||Ee.current||Ct?(typeof x=="function"&&(Vl(t,n,x,r),o=t.memoizedState),(c=Ct||nc(t,n,c,r,p,o,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),a.props=r,a.state=o,a.context=u,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,fd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ke(t.type,c),a.props=u,m=t.pendingProps,p=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=We(o):(o=_e(n)?sn:we.current,o=Dn(t,o));var d=n.getDerivedStateFromProps;(x=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||p!==o)&&rc(t,a,r,o),Ct=!1,p=t.memoizedState,a.state=p,Gs(t,r,a,i);var v=t.memoizedState;c!==m||p!==v||Ee.current||Ct?(typeof d=="function"&&(Vl(t,n,d,r),v=t.memoizedState),(u=Ct||nc(t,n,u,r,p,v,o)||!1)?(x||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=o,r=u):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Yl(e,t,n,r,l,i)}function Yl(e,t,n,r,i,l){zd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Yo(t,n,!1),jt(e,t,l);r=t.stateNode,Um.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Un(t,e.child,null,l),t.child=Un(t,null,c,l)):je(e,t,c,l),t.memoizedState=r.state,i&&Yo(t,n,!0),t.child}function Dd(e){var t=e.stateNode;t.pendingContext?Ho(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ho(e,t.context,!1),Fa(e,t.containerInfo)}function uc(e,t,n,r,i){return Fn(),Ia(i),t.flags|=256,je(e,t,n,r),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fd(e,t,n){var r=t.pendingProps,i=X.current,l=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),q(X,i&1),e===null)return ql(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=bi(a,r,0,null),e=tn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Xl(n),t.memoizedState=Kl,e):Ya(t,a));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return qm(e,t,a,r,c,i,n);if(l){l=r.fallback,a=t.mode,i=e.child,c=i.sibling;var o={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Dt(i,o),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?l=Dt(c,l):(l=tn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Xl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Kl,r}return l=e.child,e=l.sibling,r=Dt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ya(e,t){return t=bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,n,r){return r!==null&&Ia(r),Un(t,e.child,null,n),e=Ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qm(e,t,n,r,i,l,a){if(n)return t.flags&256?(t.flags&=-257,r=nl(Error(k(422))),gs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=bi({mode:"visible",children:r.children},i,0,null),l=tn(l,i,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Un(t,e.child,null,a),t.child.memoizedState=Xl(a),t.memoizedState=Kl,l);if(!(t.mode&1))return gs(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(k(419)),r=nl(l,r,void 0),gs(e,t,a,r)}if(c=(a&e.childLanes)!==0,Ce||c){if(r=ue,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,wt(e,i),Ze(r,e,i,-1))}return eo(),r=nl(Error(k(421))),gs(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tp.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Ae=Pt(i.nextSibling),Ie=t,Y=!0,Je=null,e!==null&&(Ue[qe++]=mt,Ue[qe++]=pt,Ue[qe++]=ln,mt=e.id,pt=e.overflow,ln=t),t=Ya(t,r.children),t.flags|=4096,t)}function dc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bl(e.return,t,n)}function rl(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Ud(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(je(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dc(e,n,t);else if(e.tag===19)dc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(X,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,l);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bm(e,t,n){switch(t.tag){case 3:Dd(t),Fn();break;case 5:hd(t);break;case 1:_e(t.type)&&Hs(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;q(Xs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?Fd(e,t,n):(q(X,X.current&1),e=jt(e,t,n),e!==null?e.sibling:null);q(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ud(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,$d(e,t,n)}return jt(e,t,n)}var qd,Jl,Bd,Vd;qd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jl=function(){};Bd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zt(ct.current);var l=null;switch(n){case"input":i=yl(e,i),r=yl(e,r),l=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),l=[];break;case"textarea":i=Nl(e,i),r=Nl(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qs)}kl(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var o=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(l||(l=[]),l.push(u,n)),n=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kr.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&B("scroll",e),l||c===o||(l=[])):(l=l||[]).push(u,o))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function lr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vm(e,t,n){var r=t.pendingProps;switch(La(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return _e(t.type)&&Ws(),ge(t),null;case 3:return r=t.stateNode,qn(),V(Ee),V(we),qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(ia(Je),Je=null))),Jl(e,t),ge(t),null;case 5:Ua(t);var i=Zt(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)Bd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return ge(t),null}if(e=Zt(ct.current),ps(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[it]=t,r[Ir]=l,e=(t.mode&1)!==0,n){case"dialog":B("cancel",r),B("close",r);break;case"iframe":case"object":case"embed":B("load",r);break;case"video":case"audio":for(i=0;i<dr.length;i++)B(dr[i],r);break;case"source":B("error",r);break;case"img":case"image":case"link":B("error",r),B("load",r);break;case"details":B("toggle",r);break;case"input":wo(r,l),B("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},B("invalid",r);break;case"textarea":No(r,l),B("invalid",r)}kl(n,l),i=null;for(var a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&ms(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&ms(r.textContent,c,e),i=["children",""+c]):kr.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&B("scroll",r)}switch(n){case"input":ls(r),jo(r,l,!0);break;case"textarea":ls(r),So(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Qs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[it]=t,e[Ir]=r,qd(e,t,!1,!1),t.stateNode=e;e:{switch(a=bl(n,r),n){case"dialog":B("cancel",e),B("close",e),i=r;break;case"iframe":case"object":case"embed":B("load",e),i=r;break;case"video":case"audio":for(i=0;i<dr.length;i++)B(dr[i],e);i=r;break;case"source":B("error",e),i=r;break;case"img":case"image":case"link":B("error",e),B("load",e),i=r;break;case"details":B("toggle",e),i=r;break;case"input":wo(e,r),i=yl(e,r),B("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),B("invalid",e);break;case"textarea":No(e,r),i=Nl(e,r),B("invalid",e);break;default:i=r}kl(n,i),c=i;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?ju(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&yu(e,o)):l==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&br(e,o):typeof o=="number"&&br(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(kr.hasOwnProperty(l)?o!=null&&l==="onScroll"&&B("scroll",e):o!=null&&va(e,l,o,a))}switch(n){case"input":ls(e),jo(e,r,!1);break;case"textarea":ls(e),So(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ft(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Tn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Tn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Zt(Or.current),Zt(ct.current),ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[it]=t,(l=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=t,t.stateNode=r}return ge(t),null;case 13:if(V(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ae!==null&&t.mode&1&&!(t.flags&128))od(),Fn(),t.flags|=98560,l=!1;else if(l=ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(k(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(k(317));l[it]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),l=!1}else Je!==null&&(ia(Je),Je=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ae===0&&(ae=3):eo())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return qn(),Jl(e,t),e===null&&Ar(t.stateNode.containerInfo),ge(t),null;case 10:return $a(t.type._context),ge(t),null;case 17:return _e(t.type)&&Ws(),ge(t),null;case 19:if(V(X),l=t.memoizedState,l===null)return ge(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)lr(l,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zs(e),a!==null){for(t.flags|=128,lr(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(X,X.current&1|2),t.child}e=e.sibling}l.tail!==null&&ee()>Vn&&(t.flags|=128,r=!0,lr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Zs(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Y)return ge(t),null}else 2*ee()-l.renderingStartTime>Vn&&n!==1073741824&&(t.flags|=128,r=!0,lr(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ee(),t.sibling=null,n=X.current,q(X,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return Za(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Te&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Qm(e,t){switch(La(t),t.tag){case 1:return _e(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),V(Ee),V(we),qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ua(t),null;case 13:if(V(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(X),null;case 4:return qn(),null;case 10:return $a(t.type._context),null;case 22:case 23:return Za(),null;case 24:return null;default:return null}}var vs=!1,ye=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,M=null;function En(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(e,t,r)}else n.current=null}function Gl(e,t,n){try{n()}catch(r){Z(e,t,r)}}var fc=!1;function Hm(e,t){if(Pl=qs,e=Ku(),Ma(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,c=-1,o=-1,u=0,x=0,m=e,p=null;t:for(;;){for(var d;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==l||r!==0&&m.nodeType!==3||(o=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(d=m.firstChild)!==null;)p=m,m=d;for(;;){if(m===e)break t;if(p===n&&++u===i&&(c=a),p===l&&++x===r&&(o=a),(d=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=d}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},qs=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var N=v.memoizedProps,y=v.memoizedState,f=t.stateNode,h=f.getSnapshotBeforeUpdate(t.elementType===t.type?N:Ke(t.type,N),y);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){Z(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return v=fc,fc=!1,v}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Gl(t,n,l)}i=i.next}while(i!==r)}}function Si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qd(e){var t=e.alternate;t!==null&&(e.alternate=null,Qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Ir],delete t[Dl],delete t[Rm],delete t[Tm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ea(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qs));else if(r!==4&&(e=e.child,e!==null))for(ea(e,t,n),e=e.sibling;e!==null;)ea(e,t,n),e=e.sibling}function ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ta(e,t,n),e=e.sibling;e!==null;)ta(e,t,n),e=e.sibling}var fe=null,Xe=!1;function St(e,t,n){for(n=n.child;n!==null;)Hd(e,t,n),n=n.sibling}function Hd(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(pi,n)}catch{}switch(n.tag){case 5:ye||En(n,t);case 6:var r=fe,i=Xe;fe=null,St(e,t,n),fe=r,Xe=i,fe!==null&&(Xe?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Xe?(e=fe,n=n.stateNode,e.nodeType===8?Xi(e.parentNode,n):e.nodeType===1&&Xi(e,n),Rr(e)):Xi(fe,n.stateNode));break;case 4:r=fe,i=Xe,fe=n.stateNode.containerInfo,Xe=!0,St(e,t,n),fe=r,Xe=i;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Gl(n,t,a),i=i.next}while(i!==r)}St(e,t,n);break;case 1:if(!ye&&(En(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Z(n,t,c)}St(e,t,n);break;case 21:St(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,St(e,t,n),ye=r):St(e,t,n);break;default:St(e,t,n)}}function mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wm),t.forEach(function(r){var i=np.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:fe=c.stateNode,Xe=!1;break e;case 3:fe=c.stateNode.containerInfo,Xe=!0;break e;case 4:fe=c.stateNode.containerInfo,Xe=!0;break e}c=c.return}if(fe===null)throw Error(k(160));Hd(l,a,i),fe=null,Xe=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){Z(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}function Yd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),nt(e),r&4){try{wr(3,e,e.return),Si(3,e)}catch(N){Z(e,e.return,N)}try{wr(5,e,e.return)}catch(N){Z(e,e.return,N)}}break;case 1:Ye(t,e),nt(e),r&512&&n!==null&&En(n,n.return);break;case 5:if(Ye(t,e),nt(e),r&512&&n!==null&&En(n,n.return),e.flags&32){var i=e.stateNode;try{br(i,"")}catch(N){Z(e,e.return,N)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&xu(i,l),bl(c,a);var u=bl(c,l);for(a=0;a<o.length;a+=2){var x=o[a],m=o[a+1];x==="style"?ju(i,m):x==="dangerouslySetInnerHTML"?yu(i,m):x==="children"?br(i,m):va(i,x,m,u)}switch(c){case"input":wl(i,l);break;case"textarea":gu(i,l);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var d=l.value;d!=null?Tn(i,!!l.multiple,d,!1):p!==!!l.multiple&&(l.defaultValue!=null?Tn(i,!!l.multiple,l.defaultValue,!0):Tn(i,!!l.multiple,l.multiple?[]:"",!1))}i[Ir]=l}catch(N){Z(e,e.return,N)}}break;case 6:if(Ye(t,e),nt(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(N){Z(e,e.return,N)}}break;case 3:if(Ye(t,e),nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rr(t.containerInfo)}catch(N){Z(e,e.return,N)}break;case 4:Ye(t,e),nt(e);break;case 13:Ye(t,e),nt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Ja=ee())),r&4&&mc(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(u=ye)||x,Ye(t,e),ye=u):Ye(t,e),nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!x&&e.mode&1)for(M=e,x=e.child;x!==null;){for(m=M=x;M!==null;){switch(p=M,d=p.child,p.tag){case 0:case 11:case 14:case 15:wr(4,p,p.return);break;case 1:En(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(N){Z(r,n,N)}}break;case 5:En(p,p.return);break;case 22:if(p.memoizedState!==null){xc(m);continue}}d!==null?(d.return=p,M=d):xc(m)}x=x.sibling}e:for(x=null,m=e;;){if(m.tag===5){if(x===null){x=m;try{i=m.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,o=m.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=wu("display",a))}catch(N){Z(e,e.return,N)}}}else if(m.tag===6){if(x===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(N){Z(e,e.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ye(t,e),nt(e),r&4&&mc(e);break;case 21:break;default:Ye(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wd(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(br(i,""),r.flags&=-33);var l=hc(e);ta(e,l,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=hc(e);ea(e,c,a);break;default:throw Error(k(161))}}catch(o){Z(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ym(e,t,n){M=e,Kd(e)}function Kd(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var i=M,l=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||vs;if(!a){var c=i.alternate,o=c!==null&&c.memoizedState!==null||ye;c=vs;var u=ye;if(vs=a,(ye=o)&&!u)for(M=i;M!==null;)a=M,o=a.child,a.tag===22&&a.memoizedState!==null?gc(i):o!==null?(o.return=a,M=o):gc(i);for(;l!==null;)M=l,Kd(l),l=l.sibling;M=i,vs=c,ye=u}pc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,M=l):pc(e)}}function pc(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Si(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Zo(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zo(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var x=u.memoizedState;if(x!==null){var m=x.dehydrated;m!==null&&Rr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ye||t.flags&512&&Zl(t)}catch(p){Z(t,t.return,p)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function xc(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function gc(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Si(4,t)}catch(o){Z(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(o){Z(t,i,o)}}var l=t.return;try{Zl(t)}catch(o){Z(t,l,o)}break;case 5:var a=t.return;try{Zl(t)}catch(o){Z(t,a,o)}}}catch(o){Z(t,t.return,o)}if(t===e){M=null;break}var c=t.sibling;if(c!==null){c.return=t.return,M=c;break}M=t.return}}var Km=Math.ceil,ni=Nt.ReactCurrentDispatcher,Ka=Nt.ReactCurrentOwner,Ve=Nt.ReactCurrentBatchConfig,$=0,ue=null,se=null,he=0,Te=0,_n=Vt(0),ae=0,Fr=null,on=0,ki=0,Xa=0,jr=null,be=null,Ja=0,Vn=1/0,dt=null,ri=!1,na=null,$t=null,ys=!1,Tt=null,si=0,Nr=0,ra=null,As=-1,Ls=0;function Ne(){return $&6?ee():As!==-1?As:As=ee()}function zt(e){return e.mode&1?$&2&&he!==0?he&-he:Am.transition!==null?(Ls===0&&(Ls=Lu()),Ls):(e=D,e!==0||(e=window.event,e=e===void 0?16:Fu(e.type)),e):1}function Ze(e,t,n,r){if(50<Nr)throw Nr=0,ra=null,Error(k(185));Xr(e,n,r),(!($&2)||e!==ue)&&(e===ue&&(!($&2)&&(ki|=n),ae===4&&_t(e,he)),Re(e,r),n===1&&$===0&&!(t.mode&1)&&(Vn=ee()+500,wi&&Qt()))}function Re(e,t){var n=e.callbackNode;Ah(e,t);var r=Us(e,e===ue?he:0);if(r===0)n!==null&&Co(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Co(n),t===1)e.tag===0?Mm(vc.bind(null,e)):id(vc.bind(null,e)),Em(function(){!($&6)&&Qt()}),n=null;else{switch(Iu(r)){case 1:n=Sa;break;case 4:n=Mu;break;case 16:n=Fs;break;case 536870912:n=Au;break;default:n=Fs}n=rf(n,Xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xd(e,t){if(As=-1,Ls=0,$&6)throw Error(k(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var r=Us(e,e===ue?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ii(e,r);else{t=r;var i=$;$|=2;var l=Gd();(ue!==e||he!==t)&&(dt=null,Vn=ee()+500,en(e,t));do try{Gm();break}catch(c){Jd(e,c)}while(1);Oa(),ni.current=l,$=i,se!==null?t=0:(ue=null,he=0,t=ae)}if(t!==0){if(t===2&&(i=Tl(e),i!==0&&(r=i,t=sa(e,i))),t===1)throw n=Fr,en(e,0),_t(e,r),Re(e,ee()),n;if(t===6)_t(e,r);else{if(i=e.current.alternate,!(r&30)&&!Xm(i)&&(t=ii(e,r),t===2&&(l=Tl(e),l!==0&&(r=l,t=sa(e,l))),t===1))throw n=Fr,en(e,0),_t(e,r),Re(e,ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Kt(e,be,dt);break;case 3:if(_t(e,r),(r&130023424)===r&&(t=Ja+500-ee(),10<t)){if(Us(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zl(Kt.bind(null,e,be,dt),t);break}Kt(e,be,dt);break;case 4:if(_t(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ge(r);l=1<<a,a=t[a],a>i&&(i=a),r&=~l}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Km(r/1960))-r,10<r){e.timeoutHandle=zl(Kt.bind(null,e,be,dt),r);break}Kt(e,be,dt);break;case 5:Kt(e,be,dt);break;default:throw Error(k(329))}}}return Re(e,ee()),e.callbackNode===n?Xd.bind(null,e):null}function sa(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=ii(e,t),e!==2&&(t=be,be=n,t!==null&&ia(t)),e}function ia(e){be===null?be=e:be.push.apply(be,e)}function Xm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!tt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _t(e,t){for(t&=~Xa,t&=~ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ge(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if($&6)throw Error(k(327));Pn();var t=Us(e,0);if(!(t&1))return Re(e,ee()),null;var n=ii(e,t);if(e.tag!==0&&n===2){var r=Tl(e);r!==0&&(t=r,n=sa(e,r))}if(n===1)throw n=Fr,en(e,0),_t(e,t),Re(e,ee()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,be,dt),Re(e,ee()),null}function Ga(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(Vn=ee()+500,wi&&Qt())}}function cn(e){Tt!==null&&Tt.tag===0&&!($&6)&&Pn();var t=$;$|=1;var n=Ve.transition,r=D;try{if(Ve.transition=null,D=1,e)return e()}finally{D=r,Ve.transition=n,$=t,!($&6)&&Qt()}}function Za(){Te=_n.current,V(_n)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cm(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(La(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:qn(),V(Ee),V(we),qa();break;case 5:Ua(r);break;case 4:qn();break;case 13:V(X);break;case 19:V(X);break;case 10:$a(r.type._context);break;case 22:case 23:Za()}n=n.return}if(ue=e,se=e=Dt(e.current,null),he=Te=t,ae=0,Fr=null,Xa=ki=on=0,be=jr=null,Gt!==null){for(t=0;t<Gt.length;t++)if(n=Gt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=i,r.next=a}n.pending=r}Gt=null}return e}function Jd(e,t){do{var n=se;try{if(Oa(),Rs.current=ti,ei){for(var r=J.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ei=!1}if(an=0,oe=le=J=null,yr=!1,$r=0,Ka.current=null,n===null||n.return===null){ae=1,Fr=t,se=null;break}e:{var l=e,a=n.return,c=n,o=t;if(t=he,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,x=c,m=x.tag;if(!(x.mode&1)&&(m===0||m===11||m===15)){var p=x.alternate;p?(x.updateQueue=p.updateQueue,x.memoizedState=p.memoizedState,x.lanes=p.lanes):(x.updateQueue=null,x.memoizedState=null)}var d=ic(a);if(d!==null){d.flags&=-257,lc(d,a,c,l,t),d.mode&1&&sc(l,u,t),t=d,o=u;var v=t.updateQueue;if(v===null){var N=new Set;N.add(o),t.updateQueue=N}else v.add(o);break e}else{if(!(t&1)){sc(l,u,t),eo();break e}o=Error(k(426))}}else if(Y&&c.mode&1){var y=ic(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lc(y,a,c,l,t),Ia(Bn(o,c));break e}}l=o=Bn(o,c),ae!==4&&(ae=2),jr===null?jr=[l]:jr.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Id(l,o,t);Go(l,f);break e;case 1:c=o;var h=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($t===null||!$t.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Pd(l,c,t);Go(l,w);break e}}l=l.return}while(l!==null)}ef(n)}catch(C){t=C,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function Gd(){var e=ni.current;return ni.current=ti,e===null?ti:e}function eo(){(ae===0||ae===3||ae===2)&&(ae=4),ue===null||!(on&268435455)&&!(ki&268435455)||_t(ue,he)}function ii(e,t){var n=$;$|=2;var r=Gd();(ue!==e||he!==t)&&(dt=null,en(e,t));do try{Jm();break}catch(i){Jd(e,i)}while(1);if(Oa(),$=n,ni.current=r,se!==null)throw Error(k(261));return ue=null,he=0,ae}function Jm(){for(;se!==null;)Zd(se)}function Gm(){for(;se!==null&&!Sh();)Zd(se)}function Zd(e){var t=nf(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?ef(e):se=t,Ka.current=null}function ef(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qm(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(n=Vm(n,t,Te),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function Kt(e,t,n){var r=D,i=Ve.transition;try{Ve.transition=null,D=1,Zm(e,t,n,r)}finally{Ve.transition=i,D=r}return null}function Zm(e,t,n,r){do Pn();while(Tt!==null);if($&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Lh(e,l),e===ue&&(se=ue=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,rf(Fs,function(){return Pn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ve.transition,Ve.transition=null;var a=D;D=1;var c=$;$|=4,Ka.current=null,Hm(e,n),Yd(n,e),ym(Ol),qs=!!Pl,Ol=Pl=null,e.current=n,Ym(n),kh(),$=c,D=a,Ve.transition=l}else e.current=n;if(ys&&(ys=!1,Tt=e,si=i),l=e.pendingLanes,l===0&&($t=null),Eh(n.stateNode),Re(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ri)throw ri=!1,e=na,na=null,e;return si&1&&e.tag!==0&&Pn(),l=e.pendingLanes,l&1?e===ra?Nr++:(Nr=0,ra=e):Nr=0,Qt(),null}function Pn(){if(Tt!==null){var e=Iu(si),t=Ve.transition,n=D;try{if(Ve.transition=null,D=16>e?16:e,Tt===null)var r=!1;else{if(e=Tt,Tt=null,si=0,$&6)throw Error(k(331));var i=$;for($|=4,M=e.current;M!==null;){var l=M,a=l.child;if(M.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(M=u;M!==null;){var x=M;switch(x.tag){case 0:case 11:case 15:wr(8,x,l)}var m=x.child;if(m!==null)m.return=x,M=m;else for(;M!==null;){x=M;var p=x.sibling,d=x.return;if(Qd(x),x===u){M=null;break}if(p!==null){p.return=d,M=p;break}M=d}}}var v=l.alternate;if(v!==null){var N=v.child;if(N!==null){v.child=null;do{var y=N.sibling;N.sibling=null,N=y}while(N!==null)}}M=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,M=a;else e:for(;M!==null;){if(l=M,l.flags&2048)switch(l.tag){case 0:case 11:case 15:wr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,M=f;break e}M=l.return}}var h=e.current;for(M=h;M!==null;){a=M;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,M=g;else e:for(a=h;M!==null;){if(c=M,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Si(9,c)}}catch(C){Z(c,c.return,C)}if(c===a){M=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,M=w;break e}M=c.return}}if($=i,Qt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(pi,e)}catch{}r=!0}return r}finally{D=n,Ve.transition=t}}return!1}function yc(e,t,n){t=Bn(n,t),t=Id(e,t,1),e=Ot(e,t,1),t=Ne(),e!==null&&(Xr(e,1,t),Re(e,t))}function Z(e,t,n){if(e.tag===3)yc(e,e,n);else for(;t!==null;){if(t.tag===3){yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=Bn(n,e),e=Pd(t,e,1),t=Ot(t,e,1),e=Ne(),t!==null&&(Xr(t,1,e),Re(t,e));break}}t=t.return}}function ep(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,ue===e&&(he&n)===n&&(ae===4||ae===3&&(he&130023424)===he&&500>ee()-Ja?en(e,0):Xa|=n),Re(e,t)}function tf(e,t){t===0&&(e.mode&1?(t=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):t=1);var n=Ne();e=wt(e,t),e!==null&&(Xr(e,t,n),Re(e,n))}function tp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tf(e,n)}function np(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),tf(e,n)}var nf;nf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Ce=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ce=!1,Bm(e,t,n);Ce=!!(e.flags&131072)}else Ce=!1,Y&&t.flags&1048576&&ld(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ms(e,t),e=t.pendingProps;var i=Dn(t,we.current);In(t,n),i=Va(null,t,r,e,i,n);var l=Qa();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(r)?(l=!0,Hs(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Da(t),i.updater=Ni,t.stateNode=i,i._reactInternals=t,Ql(t,r,e,n),t=Yl(null,t,r,!0,l,n)):(t.tag=0,Y&&l&&Aa(t),je(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ms(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sp(r),e=Ke(r,e),i){case 0:t=Hl(null,t,r,e,n);break e;case 1:t=cc(null,t,r,e,n);break e;case 11:t=ac(null,t,r,e,n);break e;case 14:t=oc(null,t,r,Ke(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Hl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),cc(e,t,r,i,n);case 3:e:{if(Dd(t),e===null)throw Error(k(387));r=t.pendingProps,l=t.memoizedState,i=l.element,fd(e,t),Gs(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Bn(Error(k(423)),t),t=uc(e,t,r,n,i);break e}else if(r!==i){i=Bn(Error(k(424)),t),t=uc(e,t,r,n,i);break e}else for(Ae=Pt(t.stateNode.containerInfo.firstChild),Ie=t,Y=!0,Je=null,n=ud(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),r===i){t=jt(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&ql(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,$l(r,i)?a=null:l!==null&&$l(r,l)&&(t.flags|=32),zd(e,t),je(e,t,a,n),t.child;case 6:return e===null&&ql(t),null;case 13:return Fd(e,t,n);case 4:return Fa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Un(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),ac(e,t,r,i,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value,q(Xs,r._currentValue),r._currentValue=a,l!==null)if(tt(l.value,a)){if(l.children===i.children&&!Ee.current){t=jt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(l.tag===1){o=gt(-1,n&-n),o.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var x=u.pending;x===null?o.next=o:(o.next=x.next,x.next=o),u.pending=o}}l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Bl(l.return,n,t),c.lanes|=n;break}o=o.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(k(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Bl(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}je(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,In(t,n),i=We(i),r=r(i),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,i=Ke(r,t.pendingProps),i=Ke(r.type,i),oc(e,t,r,i,n);case 15:return Od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Ms(e,t),t.tag=1,_e(r)?(e=!0,Hs(t)):e=!1,In(t,n),Ld(t,r,i),Ql(t,r,i,n),Yl(null,t,r,!0,e,n);case 19:return Ud(e,t,n);case 22:return $d(e,t,n)}throw Error(k(156,t.tag))};function rf(e,t){return Tu(e,t)}function rp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,n,r){return new rp(e,t,n,r)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sp(e){if(typeof e=="function")return to(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wa)return 11;if(e===ja)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=Be(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Is(e,t,n,r,i,l){var a=2;if(r=e,typeof e=="function")to(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case vn:return tn(n.children,i,l,t);case ya:a=8,i|=8;break;case pl:return e=Be(12,n,t,i|2),e.elementType=pl,e.lanes=l,e;case xl:return e=Be(13,n,t,i),e.elementType=xl,e.lanes=l,e;case gl:return e=Be(19,n,t,i),e.elementType=gl,e.lanes=l,e;case hu:return bi(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case du:a=10;break e;case fu:a=9;break e;case wa:a=11;break e;case ja:a=14;break e;case bt:a=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Be(a,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function tn(e,t,n,r){return e=Be(7,e,r,t),e.lanes=n,e}function bi(e,t,n,r){return e=Be(22,e,r,t),e.elementType=hu,e.lanes=n,e.stateNode={isHidden:!1},e}function sl(e,t,n){return e=Be(6,e,null,t),e.lanes=n,e}function il(e,t,n){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ip(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function no(e,t,n,r,i,l,a,c,o){return e=new ip(e,t,n,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Be(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(l),e}function lp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sf(e){if(!e)return Ut;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(_e(n))return sd(e,n,t)}return t}function lf(e,t,n,r,i,l,a,c,o){return e=no(n,r,!0,e,i,l,a,c,o),e.context=sf(null),n=e.current,r=Ne(),i=zt(n),l=gt(r,i),l.callback=t??null,Ot(n,l,i),e.current.lanes=i,Xr(e,i,r),Re(e,r),e}function Ci(e,t,n,r){var i=t.current,l=Ne(),a=zt(i);return n=sf(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ot(i,t,a),e!==null&&(Ze(e,i,a,l),_s(e,i,a)),a}function li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ro(e,t){wc(e,t),(e=e.alternate)&&wc(e,t)}function ap(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function so(e){this._internalRoot=e}Ei.prototype.render=so.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));Ci(e,t,null,null)};Ei.prototype.unmount=so.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){Ci(null,e,null,null)}),t[yt]=null}};function Ei(e){this._internalRoot=e}Ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=$u();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Et.length&&t!==0&&t<Et[n].priority;n++);Et.splice(n,0,e),n===0&&Du(e)}};function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jc(){}function op(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=li(a);l.call(u)}}var a=lf(t,r,e,0,null,!1,!1,"",jc);return e._reactRootContainer=a,e[yt]=a.current,Ar(e.nodeType===8?e.parentNode:e),cn(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=li(o);c.call(u)}}var o=no(e,0,!1,null,null,!1,!1,"",jc);return e._reactRootContainer=o,e[yt]=o.current,Ar(e.nodeType===8?e.parentNode:e),cn(function(){Ci(t,o,n,r)}),o}function Ri(e,t,n,r,i){var l=n._reactRootContainer;if(l){var a=l;if(typeof i=="function"){var c=i;i=function(){var o=li(a);c.call(o)}}Ci(t,a,e,i)}else a=op(n,t,e,i,r);return li(a)}Pu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(ka(t,n|1),Re(t,ee()),!($&6)&&(Vn=ee()+500,Qt()))}break;case 13:cn(function(){var r=wt(e,1);if(r!==null){var i=Ne();Ze(r,e,1,i)}}),ro(e,1)}};ba=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Ne();Ze(t,e,134217728,n)}ro(e,134217728)}};Ou=function(e){if(e.tag===13){var t=zt(e),n=wt(e,t);if(n!==null){var r=Ne();Ze(n,e,t,r)}ro(e,t)}};$u=function(){return D};zu=function(e,t){var n=D;try{return D=e,t()}finally{D=n}};El=function(e,t,n){switch(t){case"input":if(wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(k(90));pu(r),wl(r,i)}}}break;case"textarea":gu(e,n);break;case"select":t=n.value,t!=null&&Tn(e,!!n.multiple,t,!1)}};ku=Ga;bu=cn;var cp={usingClientEntryPoint:!1,Events:[Gr,Nn,yi,Nu,Su,Ga]},ar={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},up={bundleType:ar.bundleType,version:ar.version,rendererPackageName:ar.rendererPackageName,rendererConfig:ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_u(e),e===null?null:e.stateNode},findFiberByHostInstance:ar.findFiberByHostInstance||ap,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{pi=ws.inject(up),ot=ws}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!io(t))throw Error(k(200));return lp(e,t,null,n)};Oe.createRoot=function(e,t){if(!io(e))throw Error(k(299));var n=!1,r="",i=af;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=no(e,1,!1,null,null,n,!1,r,i),e[yt]=t.current,Ar(e.nodeType===8?e.parentNode:e),new so(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=_u(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return cn(e)};Oe.hydrate=function(e,t,n){if(!_i(t))throw Error(k(200));return Ri(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!io(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",a=af;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=lf(t,null,e,1,n??null,i,!1,l,a),e[yt]=t.current,Ar(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ei(t)};Oe.render=function(e,t,n){if(!_i(t))throw Error(k(200));return Ri(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!_i(e))throw Error(k(40));return e._reactRootContainer?(cn(function(){Ri(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};Oe.unstable_batchedUpdates=Ga;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_i(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Ri(e,t,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(of)}catch(e){console.error(e)}}of(),au.exports=Oe;var dp=au.exports,Nc=dp;hl.createRoot=Nc.createRoot,hl.hydrateRoot=Nc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const Sc="popstate";function fp(e){e===void 0&&(e={});function t(r,i){let{pathname:l,search:a,hash:c}=r.location;return la("",{pathname:l,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uf(i)}return mp(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hp(){return Math.random().toString(36).substr(2,8)}function kc(e,t){return{usr:e.state,key:e.key,idx:t}}function la(e,t,n,r){return n===void 0&&(n=null),Ur({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zn(t):t,{state:n,key:t&&t.key||r||hp()})}function uf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mp(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:l=!1}=r,a=i.history,c=Mt.Pop,o=null,u=x();u==null&&(u=0,a.replaceState(Ur({},a.state,{idx:u}),""));function x(){return(a.state||{idx:null}).idx}function m(){c=Mt.Pop;let y=x(),f=y==null?null:y-u;u=y,o&&o({action:c,location:N.location,delta:f})}function p(y,f){c=Mt.Push;let h=la(N.location,y,f);n&&n(h,y),u=x()+1;let g=kc(h,u),w=N.createHref(h);try{a.pushState(g,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(w)}l&&o&&o({action:c,location:N.location,delta:1})}function d(y,f){c=Mt.Replace;let h=la(N.location,y,f);n&&n(h,y),u=x();let g=kc(h,u),w=N.createHref(h);a.replaceState(g,"",w),l&&o&&o({action:c,location:N.location,delta:0})}function v(y){let f=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof y=="string"?y:uf(y);return h=h.replace(/ $/,"%20"),ie(f,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,f)}let N={get action(){return c},get location(){return e(i,a)},listen(y){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(Sc,m),o=y,()=>{i.removeEventListener(Sc,m),o=null}},createHref(y){return t(i,y)},createURL:v,encodeLocation(y){let f=v(y);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:d,go(y){return a.go(y)}};return N}var bc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bc||(bc={}));function pp(e,t,n){return n===void 0&&(n="/"),xp(e,t,n,!1)}function xp(e,t,n,r){let i=typeof t=="string"?Zn(t):t,l=hf(i.pathname||"/",n);if(l==null)return null;let a=df(e);gp(a);let c=null;for(let o=0;c==null&&o<a.length;++o){let u=_p(l);c=Cp(a[o],u,r)}return c}function df(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(l,a,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};o.relativePath.startsWith("/")&&(ie(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let u=nn([r,o.relativePath]),x=n.concat(o);l.children&&l.children.length>0&&(ie(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),df(l.children,t,x,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:kp(u,l.index),routesMeta:x})};return e.forEach((l,a)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,a);else for(let o of ff(l.path))i(l,a,o)}),t}function ff(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let a=ff(r.join("/")),c=[];return c.push(...a.map(o=>o===""?l:[l,o].join("/"))),i&&c.push(...a),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function gp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vp=/^:[\w-]+$/,yp=3,wp=2,jp=1,Np=10,Sp=-2,Cc=e=>e==="*";function kp(e,t){let n=e.split("/"),r=n.length;return n.some(Cc)&&(r+=Sp),t&&(r+=wp),n.filter(i=>!Cc(i)).reduce((i,l)=>i+(vp.test(l)?yp:l===""?jp:Np),r)}function bp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Cp(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},l="/",a=[];for(let c=0;c<r.length;++c){let o=r[c],u=c===r.length-1,x=l==="/"?t:t.slice(l.length)||"/",m=Ec({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},x),p=o.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=Ec({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},x)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:nn([l,m.pathname]),pathnameBase:Ap(nn([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=nn([l,m.pathnameBase]))}return a}function Ec(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ep(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],a=l.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((u,x,m)=>{let{paramName:p,isOptional:d}=x;if(p==="*"){let N=c[m]||"";a=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const v=c[m];return d&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:a,pattern:e}}function Ep(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,o)=>(r.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _p(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Rp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zn(e):e;return{pathname:n?n.startsWith("/")?n:Tp(n,t):t,search:Lp(r),hash:Ip(i)}}function Tp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ll(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mf(e,t){let n=Mp(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pf(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Zn(e):(i=Ur({},e),ie(!i.pathname||!i.pathname.includes("?"),ll("?","pathname","search",i)),ie(!i.pathname||!i.pathname.includes("#"),ll("#","pathname","hash",i)),ie(!i.search||!i.search.includes("#"),ll("#","search","hash",i)));let l=e===""||i.pathname==="",a=l?"/":i.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}c=m>=0?t[m]:"/"}let o=Rp(i,c),u=a&&a!=="/"&&a.endsWith("/"),x=(l||a===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||x)&&(o.pathname+="/"),o}const nn=e=>e.join("/").replace(/\/\/+/g,"/"),Ap=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ip=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xf=["post","put","patch","delete"];new Set(xf);const Op=["get",...xf];new Set(Op);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}const lo=j.createContext(null),$p=j.createContext(null),es=j.createContext(null),Ti=j.createContext(null),hn=j.createContext({outlet:null,matches:[],isDataRoute:!1}),gf=j.createContext(null);function ts(){return j.useContext(Ti)!=null}function ao(){return ts()||ie(!1),j.useContext(Ti).location}function vf(e){j.useContext(es).static||j.useLayoutEffect(e)}function zp(){let{isDataRoute:e}=j.useContext(hn);return e?Jp():Dp()}function Dp(){ts()||ie(!1);let e=j.useContext(lo),{basename:t,future:n,navigator:r}=j.useContext(es),{matches:i}=j.useContext(hn),{pathname:l}=ao(),a=JSON.stringify(mf(i,n.v7_relativeSplatPath)),c=j.useRef(!1);return vf(()=>{c.current=!0}),j.useCallback(function(u,x){if(x===void 0&&(x={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let m=pf(u,JSON.parse(a),l,x.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:nn([t,m.pathname])),(x.replace?r.replace:r.push)(m,x.state,x)},[t,r,a,l,e])}function Fp(e,t){return Up(e,t)}function Up(e,t,n,r){ts()||ie(!1);let{navigator:i}=j.useContext(es),{matches:l}=j.useContext(hn),a=l[l.length-1],c=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let u=ao(),x;if(t){var m;let y=typeof t=="string"?Zn(t):t;o==="/"||(m=y.pathname)!=null&&m.startsWith(o)||ie(!1),x=y}else x=u;let p=x.pathname||"/",d=p;if(o!=="/"){let y=o.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=pp(e,{pathname:d}),N=Wp(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:nn([o,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?o:nn([o,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,n,r);return t&&N?j.createElement(Ti.Provider,{value:{location:qr({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Mt.Pop}},N):N}function qp(){let e=Xp(),t=Pp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,l)}const Bp=j.createElement(qp,null);class Vp extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(hn.Provider,{value:this.props.routeContext},j.createElement(gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qp(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(lo);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(hn.Provider,{value:t},r)}function Wp(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let x=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);x>=0||ie(!1),a=a.slice(0,Math.min(a.length,x+1))}let o=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<a.length;x++){let m=a[x];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=x),m.route.id){let{loaderData:p,errors:d}=n,v=m.route.loader&&p[m.route.id]===void 0&&(!d||d[m.route.id]===void 0);if(m.route.lazy||v){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((x,m,p)=>{let d,v=!1,N=null,y=null;n&&(d=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||Bp,o&&(u<0&&p===0?(Gp("route-fallback",!1),v=!0,y=null):u===p&&(v=!0,y=m.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,p+1)),h=()=>{let g;return d?g=N:v?g=y:m.route.Component?g=j.createElement(m.route.Component,null):m.route.element?g=m.route.element:g=x,j.createElement(Qp,{match:m,routeContext:{outlet:x,matches:f,isDataRoute:n!=null},children:g})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?j.createElement(Vp,{location:n.location,revalidation:n.revalidation,component:N,error:d,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var yf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yf||{}),ai=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ai||{});function Hp(e){let t=j.useContext(lo);return t||ie(!1),t}function Yp(e){let t=j.useContext($p);return t||ie(!1),t}function Kp(e){let t=j.useContext(hn);return t||ie(!1),t}function wf(e){let t=Kp(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function Xp(){var e;let t=j.useContext(gf),n=Yp(ai.UseRouteError),r=wf(ai.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Jp(){let{router:e}=Hp(yf.UseNavigateStable),t=wf(ai.UseNavigateStable),n=j.useRef(!1);return vf(()=>{n.current=!0}),j.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qr({fromRouteId:t},l)))},[e,t])}const _c={};function Gp(e,t,n){!t&&!_c[e]&&(_c[e]=!0)}function Zp(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function fr(e){let{to:t,replace:n,state:r,relative:i}=e;ts()||ie(!1);let{future:l,static:a}=j.useContext(es),{matches:c}=j.useContext(hn),{pathname:o}=ao(),u=zp(),x=pf(t,mf(c,l.v7_relativeSplatPath),o,i==="path"),m=JSON.stringify(x);return j.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function Xt(e){ie(!1)}function ex(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Mt.Pop,navigator:l,static:a=!1,future:c}=e;ts()&&ie(!1);let o=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:o,navigator:l,static:a,future:qr({v7_relativeSplatPath:!1},c)}),[o,c,l,a]);typeof r=="string"&&(r=Zn(r));let{pathname:x="/",search:m="",hash:p="",state:d=null,key:v="default"}=r,N=j.useMemo(()=>{let y=hf(x,o);return y==null?null:{location:{pathname:y,search:m,hash:p,state:d,key:v},navigationType:i}},[o,x,m,p,d,v,i]);return N==null?null:j.createElement(es.Provider,{value:u},j.createElement(Ti.Provider,{children:n,value:N}))}function Rc(e){let{children:t,location:n}=e;return Fp(aa(t),n)}new Promise(()=>{});function aa(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let l=[...t,i];if(r.type===j.Fragment){n.push.apply(n,aa(r.props.children,l));return}r.type!==Xt&&ie(!1),!r.props.index||!r.props.children||ie(!1);let a={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=aa(r.props.children,l)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tx="6";try{window.__reactRouterVersion=tx}catch{}const nx="startTransition",Tc=eh[nx];function rx(e){let{basename:t,children:n,future:r,window:i}=e,l=j.useRef();l.current==null&&(l.current=fp({window:i,v5Compat:!0}));let a=l.current,[c,o]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},x=j.useCallback(m=>{u&&Tc?Tc(()=>o(m)):o(m)},[o,u]);return j.useLayoutEffect(()=>a.listen(x),[a,x]),j.useEffect(()=>Zp(r),[r]),j.createElement(ex,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}var Mc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mc||(Mc={}));var Ac;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ac||(Ac={}));var lt=[],Fe=[],sx=Uint8Array,al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var xn=0,ix=al.length;xn<ix;++xn)lt[xn]=al[xn],Fe[al.charCodeAt(xn)]=xn;Fe["-".charCodeAt(0)]=62;Fe["_".charCodeAt(0)]=63;function lx(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function ax(e,t,n){return(t+n)*3/4-n}function Br(e){var t,n=lx(e),r=n[0],i=n[1],l=new sx(ax(e,r,i)),a=0,c=i>0?r-4:r,o;for(o=0;o<c;o+=4)t=Fe[e.charCodeAt(o)]<<18|Fe[e.charCodeAt(o+1)]<<12|Fe[e.charCodeAt(o+2)]<<6|Fe[e.charCodeAt(o+3)],l[a++]=t>>16&255,l[a++]=t>>8&255,l[a++]=t&255;return i===2&&(t=Fe[e.charCodeAt(o)]<<2|Fe[e.charCodeAt(o+1)]>>4,l[a++]=t&255),i===1&&(t=Fe[e.charCodeAt(o)]<<10|Fe[e.charCodeAt(o+1)]<<4|Fe[e.charCodeAt(o+2)]>>2,l[a++]=t>>8&255,l[a++]=t&255),l}function ox(e){return lt[e>>18&63]+lt[e>>12&63]+lt[e>>6&63]+lt[e&63]}function cx(e,t,n){for(var r,i=[],l=t;l<n;l+=3)r=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(e[l+2]&255),i.push(ox(r));return i.join("")}function Vr(e){for(var t,n=e.length,r=n%3,i=[],l=16383,a=0,c=n-r;a<c;a+=l)i.push(cx(e,a,a+l>c?c:a+l));return r===1?(t=e[n-1],i.push(lt[t>>2]+lt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(lt[t>>10]+lt[t>>4&63]+lt[t<<2&63]+"=")),i.join("")}function ht(e){if(e===void 0)return{};if(!jf(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function ux(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function jf(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const Nf=!0,Qn=BigInt("-9223372036854775808"),oo=BigInt("9223372036854775807"),oa=BigInt("0"),dx=BigInt("8"),fx=BigInt("256");function Sf(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function hx(e){e<oa&&(e-=Qn+Qn);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=dx;return Vr(n)}function mx(e){const t=Br(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=oa,r=oa;for(const i of t)n+=BigInt(i)*fx**r,r++;return n>oo&&(n+=Qn+Qn),n}function px(e){if(e<Qn||oo<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Vr(new Uint8Array(t))}function xx(e){const t=Br(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const gx=DataView.prototype.setBigInt64?px:hx,vx=DataView.prototype.getBigInt64?xx:mx,Lc=1024;function ca(e){if(e.length>Lc)throw new Error(`Field name ${e} exceeds maximum field name length ${Lc}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function Wn(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>Wn(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Br(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return vx(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Br(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,Nf);if(!Sf(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))ca(r),n[r]=Wn(i);return n}function On(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function oi(e,t,n,r){var a;if(e===void 0){const c=n&&` (present at path ${n} in original object ${On(t)})`;throw new Error(`undefined is not a valid Convex value${c}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<Qn||oo<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:gx(e)}}if(typeof e=="number")if(Sf(e)){const c=new ArrayBuffer(8);return new DataView(c).setFloat64(0,e,Nf),{$float:Vr(new Uint8Array(c))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Vr(new Uint8Array(e))};if(Array.isArray(e))return e.map((c,o)=>oi(c,t,n+`[${o}]`,!1));if(e instanceof Set)throw new Error(ol(n,"Set",[...e],t));if(e instanceof Map)throw new Error(ol(n,"Map",[...e],t));if(!jf(e)){const c=(a=e==null?void 0:e.constructor)==null?void 0:a.name,o=c?`${c} `:"";throw new Error(ol(n,o,e,t))}const i={},l=Object.entries(e);l.sort(([c,o],[u,x])=>c===u?0:c<u?-1:1);for(const[c,o]of l)o!==void 0?(ca(c),i[c]=oi(o,t,n+`.${c}`,!1)):r&&(ca(c),i[c]=yx(o,t,n+`.${c}`));return i}function ol(e,t,n,r){return e?`${t}${On(n)} is not a supported Convex type (present at path ${e} in original object ${On(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${On(n)} is not a supported Convex type.`}function yx(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${On(e)} but original value is undefined`);return oi(e,t,n,!1)}function qt(e){return oi(e,e,"",!1)}var wx=Object.defineProperty,jx=(e,t,n)=>t in e?wx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cl=(e,t,n)=>jx(e,typeof t!="symbol"?t+"":t,n),Ic,Pc;const Nx=Symbol.for("ConvexError");class ua extends(Pc=Error,Ic=Nx,Pc){constructor(t){super(typeof t=="string"?t:On(t)),cl(this,"name","ConvexError"),cl(this,"data"),cl(this,Ic,!0),this.data=t}}const kf=()=>Array.from({length:4},()=>0);kf();kf();const Oc="1.28.0";var Sx=Object.defineProperty,kx=(e,t,n)=>t in e?Sx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$c=(e,t,n)=>kx(e,typeof t!="symbol"?t+"":t,n);const bx="color:rgb(0, 145, 255)";function bf(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class Cf{constructor(t){$c(this,"_onLogLineFuncs"),$c(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let n=Math.random().toString(36).substring(2,15);for(let r=0;r<10&&this._onLogLineFuncs[n]!==void 0;r++)n=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[n]=t,()=>{delete this._onLogLineFuncs[n]}}logVerbose(...t){if(this._verbose)for(const n of Object.values(this._onLogLineFuncs))n("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const n of Object.values(this._onLogLineFuncs))n("info",...t)}warn(...t){for(const n of Object.values(this._onLogLineFuncs))n("warn",...t)}error(...t){for(const n of Object.values(this._onLogLineFuncs))n("error",...t)}}function Ef(e){const t=new Cf(e);return t.addLogLineListener((n,...r)=>{switch(n){case"debug":console.debug(...r);break;case"info":console.log(...r);break;case"warn":console.warn(...r);break;case"error":console.error(...r);break;default:console.log(...r)}}),t}function _f(e){return new Cf(e)}function ci(e,t,n,r,i){const l=bf(n);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const a=i.match(/^\[.*?\] /);if(a===null){e.error(`[CONVEX ${l}(${r})] Could not parse console.log`);return}const c=i.slice(1,a[0].length-2),o=i.slice(a[0].length);e.log(`%c[CONVEX ${l}(${r})] [${c}]`,bx,o)}else e.error(`[CONVEX ${l}(${r})] ${i}`)}function Cx(e,t){const n=`[CONVEX FATAL ERROR] ${t}`;return e.error(n),new Error(n)}function Rn(e,t,n){return`[CONVEX ${bf(e)}(${t})] ${n.errorMessage}
  Called by client`}function da(e,t){return t.data=e.errorData,t}function ui(e){const t=e.split(":");let n,r;return t.length===1?(n=t[0],r="default"):(n=t.slice(0,t.length-1).join(":"),r=t[t.length-1]),n.endsWith(".js")&&(n=n.slice(0,-3)),`${n}:${r}`}function rn(e,t){return JSON.stringify({udfPath:ui(e),args:qt(t)})}var Ex=Object.defineProperty,_x=(e,t,n)=>t in e?Ex(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t,n)=>_x(e,typeof t!="symbol"?t+"":t,n);class Rx{constructor(){rt(this,"nextQueryId"),rt(this,"querySetVersion"),rt(this,"querySet"),rt(this,"queryIdToToken"),rt(this,"identityVersion"),rt(this,"auth"),rt(this,"outstandingQueriesOlderThanRestart"),rt(this,"outstandingAuthOlderThanRestart"),rt(this,"paused"),rt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,n,r,i){const l=ui(t),a=rn(l,n),c=this.querySet.get(a);if(c!==void 0)return c.numSubscribers+=1,{queryToken:a,modification:null,unsubscribe:()=>this.removeSubscriber(a)};{const o=this.nextQueryId++,u={id:o,canonicalizedUdfPath:l,args:n,numSubscribers:1,journal:r,componentPath:i};this.querySet.set(a,u),this.queryIdToToken.set(o,a);const x=this.querySetVersion,m=this.querySetVersion+1,p={type:"Add",queryId:o,udfPath:l,args:[qt(n)],journal:r,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(o,p):this.querySetVersion=m,{queryToken:a,modification:{type:"ModifyQuerySet",baseVersion:x,newVersion:m,modifications:[p]},unsubscribe:()=>this.removeSubscriber(a)}}}transition(t){for(const n of t.modifications)switch(n.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);const r=n.journal;if(r!==void 0){const i=this.queryIdToToken.get(n.queryId);i!==void 0&&(this.querySet.get(i).journal=r)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}}queryId(t,n){const r=ui(t),i=rn(r,n),l=this.querySet.get(i);return l!==void 0?l.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...this.auth}}setAdminAuth(t,n){const r={tokenType:"Admin",value:t,impersonating:n};this.auth=r;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...r}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var n;return((n=this.auth)==null?void 0:n.value)!==t}queryPath(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).canonicalizedUdfPath:null}queryArgs(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var n;return(n=this.querySet.get(t))==null?void 0:n.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const n=[];for(const l of this.querySet.values()){const a={type:"Add",queryId:l.id,udfPath:l.canonicalizedUdfPath,args:[qt(l.args)],journal:l.journal,componentPath:l.componentPath};n.push(a),t.has(l.id)||this.outstandingQueriesOlderThanRestart.add(l.id)}this.querySetVersion=1;const r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:n};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,n=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,n]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const n=this.querySet.get(t);if(n.numSubscribers>1)return n.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(n.id),this.outstandingQueriesOlderThanRestart.delete(n.id);const r=this.querySetVersion,i=this.querySetVersion+1,l={type:"Remove",queryId:n.id};return this.paused?this.pendingQuerySetModifications.has(n.id)?this.pendingQuerySetModifications.delete(n.id):this.pendingQuerySetModifications.set(n.id,l):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:r,newVersion:i,modifications:[l]}}}}var Tx=Object.defineProperty,Mx=(e,t,n)=>t in e?Tx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,js=(e,t,n)=>Mx(e,typeof t!="symbol"?t+"":t,n);class Ax{constructor(t,n){this.logger=t,this.markConnectionStateDirty=n,js(this,"inflightRequests"),js(this,"requestsOlderThanRestart"),js(this,"inflightMutationsCount",0),js(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,n){const r=new Promise(i=>{const l=n?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:l,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),r}onResponse(t){const n=this.inflightRequests.get(t.requestId);if(n===void 0||n.status.status==="Completed")return null;const r=n.message.type==="Mutation"?"mutation":"action",i=n.message.udfPath;for(const o of t.logLines)ci(this.logger,"info",r,i,o);const l=n.status;let a,c;if(t.success)a={success:!0,logLines:t.logLines,value:Wn(t.result)},c=()=>l.onResult(a);else{const o=t.result,{errorData:u}=t;ci(this.logger,"error",r,i,o),a={success:!1,errorMessage:o,errorData:u!==void 0?Wn(u):void 0,logLines:t.logLines},c=()=>l.onResult(a)}return t.type==="ActionResponse"||!t.success?(c(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),n.message.type==="Action"?this.inflightActionsCount--:n.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:a}):(n.status={status:"Completed",result:a,ts:t.ts,onResolve:c},null)}removeCompleted(t){const n=new Map;for(const[r,i]of this.inflightRequests.entries()){const l=i.status;l.status==="Completed"&&l.ts.lessThanOrEqual(t)&&(l.onResolve(),n.set(r,l.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return n.size>0&&this.markConnectionStateDirty(),n}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[n,r]of this.inflightRequests){if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}if(r.message.type==="Mutation")t.push(r.message);else if(r.message.type==="Action"){if(this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n),this.inflightActionsCount--,r.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,n]of this.inflightRequests)if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const n of this.inflightRequests.values())n.status.status!=="Completed"&&n.status.requestedAt.getTime()<t&&(t=n.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Qr=Symbol.for("functionName"),Rf=Symbol.for("toReferencePath");function Lx(e){return e[Rf]??null}function Ix(e){return e.startsWith("function://")}function Px(e){let t;if(typeof e=="string")Ix(e)?t={functionHandle:e}:t={name:e};else if(e[Qr])t={name:e[Qr]};else{const n=Lx(e);if(!n)throw new Error(`${e} is not a functionReference`);t={reference:n}}return t}function Le(e){const t=Px(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const n=e[Qr];if(!n)throw new Error(`${e} is not a functionReference`);return n}function Tf(e){return{[Qr]:e}}function Mf(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return Mf(i)}else if(r===Qr){if(e.length<2){const a=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}const i=e.slice(0,-1).join("/"),l=e[e.length-1];return l==="default"?i:i+":"+l}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Ox=Mf();var $x=Object.defineProperty,zx=(e,t,n)=>t in e?$x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,di=(e,t,n)=>zx(e,typeof t!="symbol"?t+"":t,n);class Wr{constructor(t){di(this,"queryResults"),di(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...n){const r=ht(n[0]),i=Le(t),l=this.queryResults.get(rn(i,r));if(l!==void 0)return Wr.queryValue(l.result)}getAllQueries(t){const n=[],r=Le(t);for(const i of this.queryResults.values())i.udfPath===ui(r)&&n.push({args:i.args,value:Wr.queryValue(i.result)});return n}setQuery(t,n,r){const i=ht(n),l=Le(t),a=rn(l,i);let c;r===void 0?c=void 0:c={success:!0,value:r,logLines:[]};const o={udfPath:l,args:i,result:c};this.queryResults.set(a,o),this.modifiedQueries.push(a)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Dx{constructor(){di(this,"queryResults"),di(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,n){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!n.has(a.mutationId));const r=this.queryResults;this.queryResults=new Map(t);const i=new Wr(this.queryResults);for(const a of this.optimisticUpdates)a.update(i);const l=[];for(const[a,c]of this.queryResults){const o=r.get(a);(o===void 0||o.result!==c.result)&&l.push(a)}return l}applyOptimisticUpdate(t,n){this.optimisticUpdates.push({update:t,mutationId:n});const r=new Wr(this.queryResults);return t(r),r.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const n=this.queryResults.get(t);if(n===void 0)return;const r=n.result;if(r!==void 0){if(r.success)return r.value;throw r.errorData!==void 0?da(r,new ua(Rn("query",n.udfPath,r))):new Error(Rn("query",n.udfPath,r))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var r;const n=this.queryResults.get(t);return(r=n==null?void 0:n.result)==null?void 0:r.logLines}}var Fx=Object.defineProperty,Ux=(e,t,n)=>t in e?Fx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ul=(e,t,n)=>Ux(e,typeof t!="symbol"?t+"":t,n);class Me{constructor(t,n){ul(this,"low"),ul(this,"high"),ul(this,"__isUnsignedLong__"),this.low=t|0,this.high=n|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new Me(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?zc:t>=qx?Bx:new Me(t%Sr|0,t/Sr|0)}toString(){return(BigInt(this.high)*BigInt(Sr)+BigInt(this.low)).toString()}equals(t){return Me.isLong(t)||(t=Me.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return Me.isLong(t)||(t=Me.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?Me.fromNumber(t):new Me(t.low,t.high)}}const zc=new Me(0,0),Dc=65536,Sr=Dc*Dc,qx=Sr*Sr,Bx=new Me(-1,-1);var Vx=Object.defineProperty,Qx=(e,t,n)=>t in e?Vx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ns=(e,t,n)=>Qx(e,typeof t!="symbol"?t+"":t,n);class Fc{constructor(t,n){Ns(this,"version"),Ns(this,"remoteQuerySet"),Ns(this,"queryPath"),Ns(this,"logger"),this.version={querySet:0,ts:Me.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=n}transition(t){const n=t.startVersion;if(this.version.querySet!==n.querySet||this.version.ts.notEquals(n.ts)||this.version.identity!==n.identity)throw new Error(`Invalid start version: ${n.ts.toString()}:${n.querySet}:${n.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const r of t.modifications)switch(r.type){case"QueryUpdated":{const i=this.queryPath(r.queryId);if(i)for(const a of r.logLines)ci(this.logger,"info","query",i,a);const l=Wn(r.value??null);this.remoteQuerySet.set(r.queryId,{success:!0,value:l,logLines:r.logLines});break}case"QueryFailed":{const i=this.queryPath(r.queryId);if(i)for(const a of r.logLines)ci(this.logger,"info","query",i,a);const{errorData:l}=r;this.remoteQuerySet.set(r.queryId,{success:!1,errorMessage:r.errorMessage,errorData:l!==void 0?Wn(l):void 0,logLines:r.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function dl(e){const t=Br(e);return Me.fromBytesLE(Array.from(t))}function Wx(e){const t=new Uint8Array(e.toBytesLE());return Vr(t)}function Uc(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:dl(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:dl(e.startVersion.ts)},endVersion:{...e.endVersion,ts:dl(e.endVersion.ts)}}}}function Hx(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:Wx(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var Yx=Object.defineProperty,Kx=(e,t,n)=>t in e?Yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,de=(e,t,n)=>Kx(e,typeof t!="symbol"?t+"":t,n);const Xx=1e3,Jx=1001,Gx=1005,Zx=4040;let Ps;function Os(){return Ps===void 0&&(Ps=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ps+performance.now())}function qc(){return`t=${Math.round((Os()-Ps)/100)/10}s`}const Af={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function e0(e){if(e===void 0)return"Unknown";for(const t of Object.keys(Af))if(e.startsWith(t))return t;return"Unknown"}class t0{constructor(t,n,r,i,l,a){this.markConnectionStateDirty=l,this.debug=a,de(this,"socket"),de(this,"connectionCount"),de(this,"_hasEverConnected",!1),de(this,"lastCloseReason"),de(this,"transitionChunkBuffer",null),de(this,"defaultInitialBackoff"),de(this,"maxBackoff"),de(this,"retries"),de(this,"serverInactivityThreshold"),de(this,"reconnectDueToServerInactivityTimeout"),de(this,"uri"),de(this,"onOpen"),de(this,"onResume"),de(this,"onMessage"),de(this,"webSocketConstructor"),de(this,"logger"),de(this,"onServerDisconnectError"),this.webSocketConstructor=r,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=n.onOpen,this.onResume=n.onResume,this.onMessage=n.onMessage,this.onServerDisconnectError=n.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const n=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${n}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const n=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const r=Uc(JSON.parse(n));if(r.type!=="Transition")throw new Error(`Expected Transition, got ${r.type} after assembling chunks`);return r}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Os()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",qc(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",qc())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=n=>{this.transitionChunkBuffer=null;const r=n.message;r&&this.logger.log(`WebSocket error message: ${r}`)},t.onmessage=n=>{this.resetServerInactivityTimeout();const r=n.data.length;let i=Uc(JSON.parse(n.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const a=this.assembleTransition(i);if(!a)return;i=a,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:r,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=n=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=n.reason||`closed with code ${n.code}`),n.code!==Xx&&n.code!==Jx&&n.code!==Gx&&n.code!==Zx){let i=`WebSocket closed with code ${n.code}`;n.reason&&(i+=`: ${n.reason}`),this.logger.log(i),this.onServerDisconnectError&&n.reason&&this.onServerDisconnectError(i)}const r=e0(n.reason);this.scheduleReconnect(r)}}socketState(){return this.socket.state}sendMessage(t){const n={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const r=Hx(t),i=JSON.stringify(r);let l=!1;try{this.socket.ws.send(i),l=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${l?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(n)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(n)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const n=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(n)}ms`),setTimeout(()=>this.connect(),n)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=n=>{this._logVerbose("Ignoring message received after close")},new Promise(n=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),n()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=r=>{this._logVerbose("Ignoring message received after close")};const n=new Promise(r=>{t.onclose=()=>{r()}});return t.close(),n}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Os()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const r=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:Af[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(r,this.maxBackoff),l=i*(Math.random()-.5);return i+l}reportLargeTransition({transition:t,messageLength:n}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const r=Os()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(r)}ms`,l=`${Math.round(n/1e4)/100}MB`,a=n/(r/1e3),c=`${Math.round(a/1e4)/100}MB per second`;this._logVerbose(`received ${l} transition in ${i} at ${c}`),n>2e7?this.logger.log(`received query results totaling more that 20MB (${l}) which will take a long time to download on slower connections`):r>2e4&&this.logger.log(`received query results totaling ${l} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:r,messageLength:n}})}}function n0(){return r0()}function r0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class hr extends Error{}hr.prototype.name="InvalidTokenError";function s0(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function i0(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return s0(t)}catch{return atob(t)}}function Lf(e,t){if(typeof e!="string")throw new hr("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new hr(`Invalid token specified: missing part #${n+1}`);let i;try{i=i0(r)}catch(l){throw new hr(`Invalid token specified: invalid base64 for part #${n+1} (${l.message})`)}try{return JSON.parse(i)}catch(l){throw new hr(`Invalid token specified: invalid json for part #${n+1} (${l.message})`)}}var l0=Object.defineProperty,a0=(e,t,n)=>t in e?l0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t,n)=>a0(e,typeof t!="symbol"?t+"":t,n);const o0=20*24*60*60*1e3,Bc=2;class c0{constructor(t,n,r){De(this,"authState",{state:"noAuth"}),De(this,"configVersion",0),De(this,"syncState"),De(this,"authenticate"),De(this,"stopSocket"),De(this,"tryRestartSocket"),De(this,"pauseSocket"),De(this,"resumeSocket"),De(this,"clearAuth"),De(this,"logger"),De(this,"refreshTokenLeewaySeconds"),De(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=n.authenticate,this.stopSocket=n.stopSocket,this.tryRestartSocket=n.tryRestartSocket,this.pauseSocket=n.pauseSocket,this.resumeSocket=n.resumeSocket,this.clearAuth=n.clearAuth,this.logger=r.logger,this.refreshTokenLeewaySeconds=r.refreshTokenLeewaySeconds}async setConfig(t,n){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const r=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:n},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:n}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:n}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(n+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Bc){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Bc-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const n=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});n.isFromOutdatedConfig||(n.value&&this.syncState.isNewAuth(n.value)?(this.authenticate(n.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:n.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const n=this.decodeToken(t);if(!n){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:r,exp:i}=n;if(!r||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const l=i-r;if(l<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let a=Math.min(o0,(l-this.refreshTokenLeewaySeconds)*1e3);a<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${l}s`),a=0);const c=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},a);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:c,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${a}ms`)}async fetchTokenAndGuardAgainstRace(t,n){const r=++this.configVersion;this._logVerbose(`fetching token with config version ${r}`);const i=await t(n);return this.configVersion!==r?(this._logVerbose(`stale config version, expected ${r}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const n=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(n)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return Lf(t)}catch(n){return this._logVerbose(`Error decoding token: ${n instanceof Error?n.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const u0=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function d0(e,t){const n={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:n})}function f0(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function h0(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const n of u0){const r=performance.getEntriesByName(n).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...r)}return t.map(f0)}var m0=Object.defineProperty,p0=(e,t,n)=>t in e?m0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t,n)=>p0(e,typeof t!="symbol"?t+"":t,n);class x0{constructor(t,n,r){if(re(this,"address"),re(this,"state"),re(this,"requestManager"),re(this,"webSocketManager"),re(this,"authenticationManager"),re(this,"remoteQuerySet"),re(this,"optimisticQueryResults"),re(this,"_transitionHandlerCounter",0),re(this,"_nextRequestId"),re(this,"_onTransitionFns",new Map),re(this,"_sessionId"),re(this,"firstMessageReceived",!1),re(this,"debug"),re(this,"logger"),re(this,"maxObservedTimestamp"),re(this,"connectionStateSubscribers",new Map),re(this,"nextConnectionStateSubscriberId",0),re(this,"_lastPublishedConnectionState"),re(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const d=this.connectionState();if(JSON.stringify(d)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=d;for(const v of this.connectionStateSubscribers.values())v(d)}})}),re(this,"mark",d=>{this.debug&&d0(d,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(r==null?void 0:r.skipConvexDeploymentUrlCheck)!==!0&&ux(t),r={...r};const i=r.authRefreshTokenLeewaySeconds??2;let l=r.webSocketConstructor;if(!l&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");l=l||WebSocket,this.debug=r.reportDebugInfoToConvex??!1,this.address=t,this.logger=r.logger===!1?_f({verbose:r.verbose??!1}):r.logger!==!0&&r.logger?r.logger:Ef({verbose:r.verbose??!1});const a=t.search("://");if(a===-1)throw new Error("Provided address was not an absolute URL.");const c=t.substring(a+3),o=t.substring(0,a);let u;if(o==="http")u="ws";else if(o==="https")u="wss";else throw new Error(`Unknown parent protocol ${o}`);const x=`${u}://${c}/api/${Oc}/sync`;this.state=new Rx,this.remoteQuerySet=new Fc(d=>this.state.queryPath(d),this.logger),this.requestManager=new Ax(this.logger,this.markConnectionStateDirty);const m=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new c0(this.state,{authenticate:d=>{const v=this.state.setAuth(d);return this.webSocketManager.sendMessage(v),v.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:m,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new Dx,this.addOnTransitionHandler(d=>{n(d.queries.map(v=>v.token))}),this._nextRequestId=0,this._sessionId=n0();const{unsavedChangesWarning:p}=r;if(typeof window>"u"||typeof window.addEventListener>"u"){if(p===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else p!==!1&&window.addEventListener("beforeunload",d=>{if(this.requestManager.hasIncompleteRequests()){d.preventDefault();const v="Are you sure you want to leave? Your changes may not be saved.";return(d||window.event).returnValue=v,v}});this.webSocketManager=new t0(x,{onOpen:d=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...d,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const v=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Fc(f=>this.state.queryPath(f),this.logger);const[N,y]=this.state.restart(v);y&&this.webSocketManager.sendMessage(y),this.webSocketManager.sendMessage(N);for(const f of this.requestManager.restart())this.webSocketManager.sendMessage(f)},onResume:()=>{const[d,v]=this.state.resume();v&&this.webSocketManager.sendMessage(v),d&&this.webSocketManager.sendMessage(d);for(const N of this.requestManager.resume())this.webSocketManager.sendMessage(N)},onMessage:d=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),d.type){case"Transition":{this.observedTimestamp(d.endVersion.ts),this.authenticationManager.onTransition(d),this.remoteQuerySet.transition(d),this.state.transition(d);const v=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(v);break}case"MutationResponse":{d.success&&this.observedTimestamp(d.ts);const v=this.requestManager.onResponse(d);v!==null&&this.notifyOnQueryResultChanges(new Map([[v.requestId,v.result]]));break}case"ActionResponse":{this.requestManager.onResponse(d);break}case"AuthError":{this.authenticationManager.onAuthError(d);break}case"FatalError":{const v=Cx(this.logger,d.error);throw this.webSocketManager.terminate(),v}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:r.onServerDisconnectError},l,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),r.expectAuth&&m()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const n=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(const[l,a]of n){const c=this.state.queryToken(l);if(c!==null){const o={result:a,udfPath:this.state.queryPath(l),args:this.state.queryArgs(l)};r.set(c,o)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(r,new Set(t.keys()));this.handleTransition({queries:i.map(l=>{const a=this.optimisticQueryResults.rawQueryResult(l);return{token:l,modification:{kind:"Updated",result:a.result}}}),reflectedMutations:Array.from(t).map(([l,a])=>({requestId:l,result:a})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const n of this._onTransitionFns.values())n(t)}addOnTransitionHandler(t){const n=this._transitionHandlerCounter++;return this._onTransitionFns.set(n,t),()=>this._onTransitionFns.delete(n)}getCurrentAuthClaims(){const t=this.state.getAuth();let n={};if(t&&t.tokenType==="User")try{n=t?Lf(t.value):{}}catch{n={}}else return;return{token:t.value,decoded:n}}setAuth(t,n){this.authenticationManager.setConfig(t,n)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,n){const r=this.state.setAdminAuth(t,n);this.webSocketManager.sendMessage(r)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,n,r){const i=ht(n),{modification:l,queryToken:a,unsubscribe:c}=this.state.subscribe(t,i,r==null?void 0:r.journal,r==null?void 0:r.componentPath);return l!==null&&this.webSocketManager.sendMessage(l),{queryToken:a,unsubscribe:()=>{const o=c();o&&this.webSocketManager.sendMessage(o)}}}localQueryResult(t,n){const r=ht(n),i=rn(t,r);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,n){const r=ht(n),i=rn(t,r);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,n){const r=ht(n),i=rn(t,r);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const n=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(n,t),()=>{this.connectionStateSubscribers.delete(n)}}async mutation(t,n,r){const i=await this.mutationInternal(t,n,r);if(!i.success)throw i.errorData!==void 0?da(i,new ua(Rn("mutation",t,i))):new Error(Rn("mutation",t,i));return i.value}async mutationInternal(t,n,r,i){const{mutationPromise:l}=this.enqueueMutation(t,n,r,i);return l}enqueueMutation(t,n,r,i){const l=ht(n);this.tryReportLongDisconnect();const a=this.nextRequestId;if(this._nextRequestId++,r!==void 0){const x=r.optimisticUpdate;if(x!==void 0){const m=v=>{x(v,l)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},d=this.optimisticQueryResults.applyOptimisticUpdate(m,a).map(v=>{const N=this.localQueryResultByToken(v);return{token:v,modification:{kind:"Updated",result:N===void 0?void 0:{success:!0,value:N,logLines:[]}}}});this.handleTransition({queries:d,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const c={type:"Mutation",requestId:a,udfPath:t,componentPath:i,args:[qt(l)]},o=this.webSocketManager.sendMessage(c),u=this.requestManager.request(c,o);return{requestId:a,mutationPromise:u}}async action(t,n){const r=await this.actionInternal(t,n);if(!r.success)throw r.errorData!==void 0?da(r,new ua(Rn("action",t,r))):new Error(Rn("action",t,r));return r.value}async actionInternal(t,n,r){const i=ht(n),l=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const a={type:"Action",requestId:l,udfPath:t,componentPath:r,args:[qt(i)]},c=this.webSocketManager.sendMessage(a);return this.requestManager.request(a,c)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=h0(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const n=`${this.address}/api/debug_event`;fetch(n,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Oc}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(r=>{r.ok||this.logger.warn("Analytics request failed with response:",r.body)}).catch(r=>{this.logger.warn("Analytics response failed with error:",r)})}}function g0({getCurrentValue:e,subscribe:t}){const[n,r]=j.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=n.value;return(n.getCurrentValue!==e||n.subscribe!==t)&&(i=e(),r({getCurrentValue:e,subscribe:t,value:i})),j.useEffect(()=>{let l=!1;const a=()=>{l||r(o=>{if(o.getCurrentValue!==e||o.subscribe!==t)return o;const u=e();return o.value===u?o:{...o,value:u}})},c=t(a);return a(),()=>{l=!0,c()}},[e,t]),i}var v0=Object.defineProperty,y0=(e,t,n)=>t in e?v0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kt=(e,t,n)=>y0(e,typeof t!="symbol"?t+"":t,n);const w0=5e3;if(typeof Xn>"u")throw new Error("Required dependency 'react' not found");function If(e,t,n){function r(i){return k0(i),t.mutation(e,i,{optimisticUpdate:n})}return r.withOptimisticUpdate=function(l){if(n!==void 0)throw new Error(`Already specified optimistic update for mutation ${Le(e)}`);return If(e,t,l)},r}class j0{constructor(t,n){if(kt(this,"address"),kt(this,"cachedSync"),kt(this,"listeners"),kt(this,"options"),kt(this,"closed",!1),kt(this,"_logger"),kt(this,"adminAuth"),kt(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(n==null?void 0:n.logger)===!1?_f({verbose:(n==null?void 0:n.verbose)??!1}):(n==null?void 0:n.logger)!==!0&&(n!=null&&n.logger)?n.logger:Ef({verbose:(n==null?void 0:n.verbose)??!1}),this.options={...n,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new x0(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,n){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,n??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,n){if(this.adminAuth=t,this.fakeUserIdentity=n,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,n)}watchQuery(t,...n){const[r,i]=n,l=Le(t);return{onUpdate:a=>{const{queryToken:c,unsubscribe:o}=this.sync.subscribe(l,r,i),u=this.listeners.get(c);return u!==void 0?u.add(a):this.listeners.set(c,new Set([a])),()=>{if(this.closed)return;const x=this.listeners.get(c);x.delete(a),x.size===0&&this.listeners.delete(c),o()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(l,r)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(l,r)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(l,r)}}}prewarmQuery(t){const n=t.extendSubscriptionFor??w0,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,n)}mutation(t,...n){const[r,i]=n,l=Le(t);return this.sync.mutation(l,r,i)}action(t,...n){const r=Le(t);return this.sync.action(r,...n)}query(t,...n){const r=this.watchQuery(t,...n),i=r.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((l,a)=>{const c=r.onUpdate(()=>{c();try{l(r.localQueryResult())}catch(o){a(o)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const n of t){const r=this.listeners.get(n);if(r)for(const i of r)i()}}}const co=Xn.createContext(void 0);function N0(){return j.useContext(co)}const S0=({client:e,children:t})=>Xn.createElement(co.Provider,{value:e},t);function te(e,...t){const n=t[0]==="skip",r=t[0]==="skip"?{}:ht(t[0]),i=typeof e=="string"?Tf(e):e,l=Le(i),a=j.useMemo(()=>n?{}:{query:{query:i,args:r}},[JSON.stringify(qt(r)),l,n]),o=_0(a).query;if(o instanceof Error)throw o;return o}function K(e){const t=typeof e=="string"?Tf(e):e,n=j.useContext(co);if(n===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return j.useMemo(()=>If(t,n),[n,Le(t)])}function k0(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var b0=Object.defineProperty,C0=(e,t,n)=>t in e?b0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fl=(e,t,n)=>C0(e,typeof t!="symbol"?t+"":t,n);class E0{constructor(t){fl(this,"createWatch"),fl(this,"queries"),fl(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const n of Object.keys(t)){const{query:r,args:i}=t[n];if(Le(r),this.queries[n]===void 0)this.addQuery(n,r,i);else{const l=this.queries[n];(Le(r)!==Le(l.query)||JSON.stringify(qt(i))!==JSON.stringify(qt(l.args)))&&(this.removeQuery(n),this.addQuery(n,r,i))}}for(const n of Object.keys(this.queries))t[n]===void 0&&this.removeQuery(n)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const n={};for(const r of Object.keys(t)){const{query:i,args:l}=t[r];Le(i);const a=this.createWatch(i,l);let c;try{c=a.localQueryResult()}catch(o){if(o instanceof Error)c=o;else throw o}n[r]=c}return n}setCreateWatch(t){this.createWatch=t;for(const n of Object.keys(this.queries)){const{query:r,args:i,watch:l}=this.queries[n],a=l.journal();this.removeQuery(n),this.addQuery(n,r,i,a)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,n,r,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const l=this.createWatch(n,r,i),a=l.onUpdate(()=>this.notifyListeners());this.queries[t]={query:n,args:r,watch:l,unsubscribe:a}}removeQuery(t){const n=this.queries[t];if(n===void 0)throw new Error(`No query found with identifier ${t}.`);n.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function _0(e){const t=N0();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const n=j.useMemo(()=>(r,i,l)=>t.watchQuery(r,i,l?{journal:l}:{}),[t]);return R0(e,n)}function R0(e,t){const[n]=j.useState(()=>new E0(t));n.createWatch!==t&&n.setCreateWatch(t),j.useEffect(()=>()=>n.destroy(),[n]);const r=j.useMemo(()=>({getCurrentValue:()=>n.getLocalResults(e),subscribe:i=>(n.setQueries(e),n.subscribe(i))}),[n,e]);return g0(r)}function Pf(e,t){const n={get(r,i){if(typeof i=="string"){const l=[...t,i];return Pf(e,l)}else if(i===Rf){if(t.length<1){const l=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${l}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},n)}const T0=()=>Pf("components",[]),ve=Ox;T0();const z={...ve,auth:{createUser:"auth:createUser",getUserByEmail:"auth:getUserByEmail",getUserById:"auth:getUserById",updateUser:"auth:updateUser",deleteUser:"auth:deleteUser",getUsers:"auth:getUsers",getUsersByRole:"auth:getUsersByRole",createLecturerAccount:"auth:createLecturerAccount",createStudentAccount:"auth:createStudentAccount",createAdminAccount:"auth:createAdminAccount",authenticateUser:"auth:authenticateUser"},students:{getStudents:"students:getStudents",addStudent:"students:addStudent",updateStudent:"students:updateStudent",deleteStudent:"students:deleteStudent",getStudentById:"students:getStudentById",getStudentsByDepartment:"students:getStudentsByDepartment",getStudentsByYear:"students:getStudentsByYear",getStudentByUserId:"students:getStudentByUserId"},courses:{getCourses:"courses:getCourses",addCourse:"courses:addCourse",updateCourse:"courses:updateCourse",deleteCourse:"courses:deleteCourse",getCoursesBySpecialization:"courses:getCoursesBySpecialization",getActiveCourses:"courses:getActiveCourses",updateStudentCount:"courses:updateStudentCount"},lecturers:{getLecturers:"lecturers:getLecturers",addLecturer:"lecturers:addLecturer",updateLecturer:"lecturers:updateLecturer",updateLecturerAvailability:"lecturers:updateLecturerAvailability",deleteLecturer:"lecturers:deleteLecturer",getLecturersBySpecialization:"lecturers:getLecturersBySpecialization",getAvailableLecturers:"lecturers:getAvailableLecturers",getLecturerByUserId:"lecturers:getLecturerByUserId"},matches:{getMatches:"matches:getMatches",autoMatch:"matches:autoMatch",createMatch:"matches:createMatch",updateMatch:"matches:updateMatch",deleteMatch:"matches:deleteMatch",getMatchesByCourse:"matches:getMatchesByCourse",getMatchesByLecturer:"matches:getMatchesByLecturer",getActiveMatches:"matches:getActiveMatches",getUnmatchedCourses:"matches:getUnmatchedCourses",rematchUnavailableLecturers:"matches:rematchUnavailableLecturers",cleanupDuplicateMatches:"matches:cleanupDuplicateMatches"},registrations:{getRegistrations:"registrations:getRegistrations",getRegistrationsByStudent:"registrations:getRegistrationsByStudent",getRegistrationsByCourse:"registrations:getRegistrationsByCourse",registerForCourse:"registrations:registerForCourse",dropCourse:"registrations:dropCourse",completeCourse:"registrations:completeCourse",getActiveRegistrations:"registrations:getActiveRegistrations"}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:c="",children:o,...u},x)=>j.createElement("svg",{ref:x,...M0,width:i,height:i,stroke:r,strokeWidth:a?Number(l)*24/Number(i):l,className:["lucide",`lucide-${A0(e)}`,c].join(" "),...u},[...t.map(([m,p])=>j.createElement(m,p)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=F("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=F("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=F("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=F("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=F("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=F("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function D0({onLogin:e}){const[t,n]=j.useState(""),[r,i]=j.useState(""),[l,a]=j.useState("student"),[c,o]=j.useState(!1),[u,x]=j.useState(""),[m,p]=j.useState(""),[d,v]=j.useState("");K(z.auth.createUser);const N=K(z.auth.authenticateUser),y=w=>w.trim()?!w.includes("@")||!w.includes(".")?(p("Please enter a valid email address"),!1):(p(""),!0):(p("Email is required"),!1),f=w=>w.trim()?w.length<3?(v("Password must be at least 3 characters"),!1):(v(""),!0):(v("Password is required"),!1),h=async w=>{w.preventDefault(),o(!0),x(""),p(""),v("");const C=y(t),T=f(r);if(!C||!T){o(!1);return}try{const E=await N({email:t,password:r,role:l});if(!E){x("User not found. Please contact your administrator for account access.");return}e(E)}catch(E){console.error("Login error:",E);const b=E.message||E.toString();if(b.includes("[CONVEX")||b.includes("Request ID")||b.includes("Server Error")||b.includes("Called by client")){x("❌ Connection error. Please check your internet connection and try again.");return}b.includes("User not found")?x("❌ Account not found. Please check your email address or contact your administrator."):b.includes("Invalid password")?x("❌ Incorrect password. Please check your password and try again."):b.includes("Invalid role")?x("❌ Wrong account type selected. Please select the correct role (Admin, Lecturer, or Student)."):b.includes("network")||b.includes("fetch")||b.includes("Failed to fetch")?x("❌ Connection error. Please check your internet connection and try again."):b.includes("timeout")||b.includes("Timeout")?x("❌ Request timed out. Please try again."):x("❌ Login failed. Please check your credentials and try again.")}finally{o(!1)}},g=[{value:"admin",label:"Admin",icon:et,color:"text-red-600"},{value:"lecturer",label:"Lecturer",icon:ce,color:"text-blue-600"},{value:"student",label:"Student",icon:U,color:"text-green-600"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-primary-600 rounded-full",children:s.jsx(Qe,{className:"h-8 w-8 text-white"})})}),s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"Course Matching System"}),s.jsx("p",{className:"text-neutral-600",children:"Efficient course-lecturer-student management"})]}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:t,onChange:w=>{n(w.target.value),m&&y(w.target.value)},onBlur:()=>y(t),className:`input-field ${m?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Enter your email",required:!0}),m&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:r,onChange:w=>{i(w.target.value),d&&f(w.target.value)},onBlur:()=>f(r),className:`input-field ${d?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Enter your password",required:!0}),d&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Role"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:g.map(w=>{const C=w.icon;return s.jsxs("button",{type:"button",onClick:()=>a(w.value),className:`p-3 rounded-lg border-2 transition-all ${l===w.value?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}`,children:[s.jsx(C,{className:`h-5 w-5 mx-auto mb-1 ${w.color}`}),s.jsx("span",{className:"text-xs font-medium text-neutral-700",children:w.label})]},w.value)})})]}),u&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Login Error"}),s.jsx("p",{className:"text-sm mt-1",children:u})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full",children:c?"Signing In...":"Sign In"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg text-sm",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Need Account Access?"}),s.jsx("p",{className:"mt-1 text-blue-700",children:"All accounts are created by the system administrator. Contact your administrator for login credentials."}),s.jsxs("p",{className:"mt-2 text-xs text-blue-600",children:[s.jsx("strong",{children:"Default Test Accounts:"}),s.jsx("br",{}),"Admin: admin@gmail.com / admin123",s.jsx("br",{}),"Lecturer: lecturer@gmail.com / lecturer123",s.jsx("br",{}),"Student: student@gmail.com / student123"]})]})]})})]})]})}),s.jsx("div",{className:"text-center mt-6 text-sm text-neutral-500",children:s.jsx("p",{children:"Academic Course Management System"})})]})})}function Kc(){const[e,t]=j.useState(!1),[n,r]=j.useState(null),i=te(z.lecturers.getLecturers)||[],l=K(z.auth.createLecturerAccount),a=K(z.lecturers.updateLecturer),c=K(z.lecturers.deleteLecturer),[o,u]=j.useState({name:"",email:"",specialization:"",department:"",experience:0,availability:!0}),x=async d=>{d.preventDefault();try{n?(await a({id:n._id,...o}),r(null)):await l(o),u({name:"",email:"",specialization:"",department:"",experience:0,availability:!0}),t(!1)}catch(v){console.error("Error saving lecturer:",v)}},m=d=>{r(d),u({name:d.name,email:d.email,specialization:d.specialization,department:d.department,experience:d.experience,availability:d.availability}),t(!0)},p=async d=>{if(window.confirm("Are you sure you want to delete this lecturer?"))try{await c({id:d})}catch(v){console.error("Error deleting lecturer:",v)}};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Lecturers"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage lecturer information and specializations"})]}),s.jsxs("button",{onClick:()=>{t(!0),r(null),u({name:"",email:"",specialization:"",department:"",experience:0,availability:!0})},className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Lecturer"})]})]}),e&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:n?"Edit Lecturer":"Add New Lecturer"}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:o.name,onChange:d=>u({...o,name:d.target.value}),className:"input-field",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:o.email,onChange:d=>u({...o,email:d.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Specialization"}),s.jsx("input",{type:"text",value:o.specialization,onChange:d=>u({...o,specialization:d.target.value}),className:"input-field",placeholder:"e.g., Computer Science, Mathematics",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Department"}),s.jsx("input",{type:"text",value:o.department,onChange:d=>u({...o,department:d.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Years of Experience"}),s.jsx("input",{type:"number",value:o.experience,onChange:d=>u({...o,experience:parseInt(d.target.value)}),className:"input-field",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Availability"}),s.jsxs("select",{value:o.availability,onChange:d=>u({...o,availability:d.target.value==="true"}),className:"input-field",children:[s.jsx("option",{value:!0,children:"Available"}),s.jsx("option",{value:!1,children:"Not Available"})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:n?"Update Lecturer":"Add Lecturer"}),s.jsx("button",{type:"button",onClick:()=>{t(!1),r(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[i.map(d=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:d.name}),s.jsx("p",{className:"text-sm text-neutral-600 truncate",children:d.email})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:d.specialization}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded text-xs font-medium",children:d.department}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded text-xs font-medium",children:[d.experience," years"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:d.availability?"Available":"Not Available"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(d),className:"p-2 text-neutral-400 hover:text-primary-600 transition-colors",title:"Edit Lecturer",children:s.jsx(fo,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>p(d._id),className:"p-2 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete Lecturer",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})]})},d._id)),i.length===0&&s.jsxs("div",{className:"card text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ce,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No lecturers found"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Add your first lecturer to get started"})]})]})]})}function F0(){const[e,t]=j.useState(!1),[n,r]=j.useState(null),i=te(z.courses.getCourses)||[],l=K(z.courses.addCourse),a=K(z.courses.updateCourse),c=K(z.courses.deleteCourse),[o,u]=j.useState({title:"",code:"",description:"",specialization:"",credits:3,semester:"",maxStudents:30,isActive:!0}),x=async d=>{d.preventDefault();try{n?(await a({id:n._id,...o}),r(null)):await l(o),u({title:"",code:"",description:"",specialization:"",credits:3,semester:"",maxStudents:30,isActive:!0}),t(!1)}catch(v){console.error("Error saving course:",v)}},m=d=>{r(d),u({title:d.title,code:d.code,description:d.description,specialization:d.specialization,credits:d.credits,semester:d.semester,maxStudents:d.maxStudents,isActive:d.isActive}),t(!0)},p=async d=>{if(window.confirm("Are you sure you want to delete this course?"))try{await c({id:d})}catch(v){console.error("Error deleting course:",v)}};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Courses"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage course information and specializations"})]}),s.jsxs("button",{onClick:()=>{t(!0),r(null),u({title:"",code:"",description:"",specialization:"",credits:3,semester:"",maxStudents:30,isActive:!0})},className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Course"})]})]}),e&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:n?"Edit Course":"Add New Course"}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Course Title"}),s.jsx("input",{type:"text",value:o.title,onChange:d=>u({...o,title:d.target.value}),className:"input-field",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Course Code"}),s.jsx("input",{type:"text",value:o.code,onChange:d=>u({...o,code:d.target.value}),className:"input-field",placeholder:"e.g., CS101",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Description"}),s.jsx("textarea",{value:o.description,onChange:d=>u({...o,description:d.target.value}),className:"input-field",rows:"3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Specialization"}),s.jsx("input",{type:"text",value:o.specialization,onChange:d=>u({...o,specialization:d.target.value}),className:"input-field",placeholder:"e.g., Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Semester"}),s.jsxs("select",{value:o.semester,onChange:d=>u({...o,semester:d.target.value}),className:"input-field",required:!0,children:[s.jsx("option",{value:"",children:"Select Semester"}),s.jsx("option",{value:"Fall 2024",children:"Fall 2024"}),s.jsx("option",{value:"Spring 2025",children:"Spring 2025"}),s.jsx("option",{value:"Summer 2025",children:"Summer 2025"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Credits"}),s.jsx("input",{type:"number",value:o.credits,onChange:d=>u({...o,credits:parseInt(d.target.value)}),className:"input-field",min:"1",max:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Max Students"}),s.jsx("input",{type:"number",value:o.maxStudents,onChange:d=>u({...o,maxStudents:parseInt(d.target.value)}),className:"input-field",min:"1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Status"}),s.jsxs("select",{value:o.isActive,onChange:d=>u({...o,isActive:d.target.value==="true"}),className:"input-field",children:[s.jsx("option",{value:!0,children:"Active"}),s.jsx("option",{value:!1,children:"Inactive"})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:n?"Update Course":"Add Course"}),s.jsx("button",{type:"button",onClick:()=>{t(!1),r(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[i.map(d=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:d.title}),s.jsx("p",{className:"text-sm text-neutral-600",children:d.semester})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded text-xs font-medium",children:d.code}),s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:d.specialization}),s.jsxs("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded text-xs font-medium",children:[d.credits," Credits"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.isActive?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:d.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[d.currentStudents||0,"/",d.maxStudents]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(d),className:"p-2 text-neutral-400 hover:text-primary-600 transition-colors",title:"Edit Course",children:s.jsx(fo,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>p(d._id),className:"p-2 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete Course",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})]})]})},d._id)),i.length===0&&s.jsxs("div",{className:"card text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(U,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No courses found"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Add your first course to get started"})]})]})]})}function U0(){const[e,t]=j.useState(!1),[n,r]=j.useState(null),i=te(z.students.getStudents)||[],l=K(z.auth.createStudentAccount),a=K(z.students.updateStudent),c=K(z.students.deleteStudent),[o,u]=j.useState({name:"",email:"",studentId:"",department:"",year:1}),x=async d=>{d.preventDefault();try{n?(await a({id:n._id,...o}),r(null)):await l(o),u({name:"",email:"",studentId:"",department:"",year:1}),t(!1)}catch(v){console.error("Error saving student:",v)}},m=d=>{r(d),u({name:d.name,email:d.email,studentId:d.studentId,department:d.department,year:d.year}),t(!0)},p=async d=>{if(window.confirm("Are you sure you want to delete this student?"))try{await c({id:d})}catch(v){console.error("Error deleting student:",v)}};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Students"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage student information and registrations"})]}),s.jsxs("button",{onClick:()=>{t(!0),r(null),u({name:"",email:"",studentId:"",department:"",year:1})},className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Student"})]})]}),e&&s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:n?"Edit Student":"Add New Student"}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:o.name,onChange:d=>u({...o,name:d.target.value}),className:"input-field",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:o.email,onChange:d=>u({...o,email:d.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Student ID"}),s.jsx("input",{type:"text",value:o.studentId,onChange:d=>u({...o,studentId:d.target.value}),className:"input-field",placeholder:"e.g., 2024001",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Department"}),s.jsx("input",{type:"text",value:o.department,onChange:d=>u({...o,department:d.target.value}),className:"input-field",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Academic Year"}),s.jsxs("select",{value:o.year,onChange:d=>u({...o,year:parseInt(d.target.value)}),className:"input-field",required:!0,children:[s.jsx("option",{value:1,children:"1st Year"}),s.jsx("option",{value:2,children:"2nd Year"}),s.jsx("option",{value:3,children:"3rd Year"}),s.jsx("option",{value:4,children:"4th Year"}),s.jsx("option",{value:5,children:"5th Year"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:n?"Update Student":"Add Student"}),s.jsx("button",{type:"button",onClick:()=>{t(!1),r(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[i.map(d=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:d.name}),s.jsx("p",{className:"text-sm text-neutral-600 truncate",children:d.email})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded text-xs font-medium",children:d.studentId}),s.jsxs("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:["Year ",d.year]}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded text-xs font-medium",children:d.department})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(d),className:"p-2 text-neutral-400 hover:text-primary-600 transition-colors",title:"Edit Student",children:s.jsx(fo,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>p(d._id),className:"p-2 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete Student",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})]})},d._id)),i.length===0&&s.jsxs("div",{className:"card text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Qe,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No students found"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Add your first student to get started"})]})]})]})}function Mi(){return s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-neutral-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-3 bg-neutral-200 rounded w-20 mb-2"}),s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-12"})]})]})})}function Ai(){return s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-neutral-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-32"}),s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-16"}),s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-20"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 bg-neutral-200 rounded-full"}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-24 mb-1"}),s.jsx("div",{className:"h-3 bg-neutral-200 rounded w-16"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-16"}),s.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-20"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 bg-neutral-200 rounded"}),s.jsx("div",{className:"h-8 w-8 bg-neutral-200 rounded"})]})]})})}function q0(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-48 mb-2 animate-pulse"}),s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-64 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-24 animate-pulse"}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-32 animate-pulse"}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-28 animate-pulse"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>s.jsx(Mi,{},t))}),s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-48 mb-4"}),s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>s.jsx(Ai,{},t))})]})})]})}function B0(){const[e,t]=j.useState(!1),n=te(ve.matches.getMatches),r=te(ve.courses.getCourses),i=te(ve.lecturers.getLecturers),l=n===void 0||r===void 0||i===void 0,a=n||[],c=r||[],o=i||[],u=K(ve.matches.autoMatch),x=K(ve.matches.updateMatch),m=K(ve.matches.deleteMatch),p=async()=>{t(!0);try{await u()}catch(f){console.error("Error during auto-matching:",f)}finally{t(!1)}},d=async(f,h)=>{try{await x({id:f,isActive:h})}catch(g){console.error("Error updating match:",g)}},v=async f=>{if(window.confirm("Are you sure you want to delete this match?"))try{await m({id:f})}catch(h){console.error("Error deleting match:",h)}},N=f=>c.find(h=>h._id===f),y=f=>o.find(h=>h._id===f);return l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-64 mb-2 animate-pulse"}),s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-80 animate-pulse"})]}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded w-32 animate-pulse"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((f,h)=>s.jsx(Mi,{},h))}),s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((f,h)=>s.jsx(Ai,{},h))})]}):s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Course-Lecturer Matches"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage automatic and manual course-lecturer assignments"})]}),s.jsxs("button",{onClick:p,disabled:e,className:"btn-primary flex items-center space-x-2 w-full sm:w-auto",children:[s.jsx(ho,{className:`h-4 w-4 ${e?"animate-spin":""}`}),s.jsx("span",{children:e?"Matching...":"Auto Match"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(uo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Matches"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:a.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(at,{className:"h-4 w-4 sm:h-5 sm:w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Active Matches"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:a.filter(f=>f.isActive).length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:c.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Lecturers"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:o.length})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Active Course Assignments"}),s.jsxs("span",{className:"bg-success/10 text-success px-3 py-1 rounded-full text-sm font-medium",children:[n.filter(f=>f.isActive).length," Active"]})]}),a.filter(f=>f.isActive).length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-16 w-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(U,{className:"h-8 w-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-500",children:"No active course assignments"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Run auto-matching to assign courses to lecturers"})]}):s.jsx("div",{className:"space-y-3",children:a.filter(f=>f.isActive).map(f=>{const h=N(f.courseId),g=y(f.lecturerId);return!h||!g?null:s.jsx("div",{className:"bg-neutral-50 rounded-lg p-3 sm:p-4 border border-neutral-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 w-full sm:w-auto",children:[s.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 truncate",children:h.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:h.code}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded-full text-xs font-medium",children:h.specialization})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-3 w-3 sm:h-4 sm:w-4 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:g.name}),s.jsx("p",{className:"text-xs text-neutral-500",children:g.department})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:g.availability?"Available":"Unavailable"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.isAutoMatched?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:f.isAutoMatched?"Auto-Assigned":"Manual"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto justify-end",children:[s.jsx("button",{onClick:()=>d(f._id,!1),className:"p-2 text-neutral-400 hover:text-error transition-colors",title:"Deactivate Assignment",children:s.jsx(Yr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>v(f._id),className:"p-2 text-neutral-400 hover:text-error transition-colors",title:"Remove Assignment",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})},f._id)})})]}),a.filter(f=>!f.isActive).length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Inactive Assignments"}),s.jsxs("span",{className:"bg-error/10 text-error px-3 py-1 rounded-full text-sm font-medium",children:[a.filter(f=>!f.isActive).length," Inactive"]})]}),s.jsx("div",{className:"space-y-3",children:a.filter(f=>!f.isActive).map(f=>{const h=N(f.courseId),g=y(f.lecturerId);return!h||!g?null:s.jsx("div",{className:"bg-error/5 rounded-lg p-4 border border-error/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-error/10 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-6 w-6 text-error"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-neutral-900",children:h.title}),s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:h.code}),s.jsx("span",{className:"bg-neutral-200 text-neutral-700 px-2 py-1 rounded-full text-xs font-medium",children:h.specialization})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 bg-error/10 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 text-error"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:g.name}),s.jsx("p",{className:"text-xs text-neutral-500",children:g.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:g.availability?"Available":"Unavailable"}),s.jsx("span",{className:"bg-error/10 text-error px-2 py-1 rounded-full text-xs font-medium",children:"Inactive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>d(f._id,!0),className:"p-2 text-neutral-400 hover:text-success transition-colors",title:"Reactivate Assignment",children:s.jsx(at,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>v(f._id),className:"p-2 text-neutral-400 hover:text-error transition-colors",title:"Remove Assignment",children:s.jsx(Hr,{className:"h-4 w-4"})})]})]})},f._id)})})]})]})}function V0({unmatchedCourses:e}){const[t,n]=j.useState(!1),r=K(ve.matches.autoMatch),i=async()=>{n(!0);try{await r(),alert("Auto-matching completed! Check the Matches tab to see results.")}catch(o){console.error("Error during auto-matching:",o),alert("Failed to run auto-matching. Please try again.")}finally{n(!1)}},l=o=>o.hasAvailableLecturers?"text-warning":"text-error",a=o=>o.hasAvailableLecturers?s.jsx(Hn,{className:"h-4 w-4"}):s.jsx(Yr,{className:"h-4 w-4"}),c=o=>o.hasAvailableLecturers?`Has ${o.availableLecturersCount} available lecturer(s) - needs matching`:"No available lecturers for this specialization";return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"Unmatched Courses"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Courses that need lecturer assignments. Run auto-matching to assign available lecturers."})]}),s.jsx("button",{onClick:i,disabled:t,className:"btn-primary flex items-center space-x-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Matching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"h-4 w-4"}),s.jsx("span",{children:"Run Auto-Match"})]})})]}),e.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(at,{className:"h-12 w-12 text-success mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"All Courses Matched!"}),s.jsx("p",{className:"text-neutral-600",children:"All active courses have been assigned to lecturers."})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6",children:e.map(o=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:o.title}),s.jsxs("p",{className:"text-neutral-600",children:[o.code," • ",o.semester]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:o.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[o.credits," credits"]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:o.description}),s.jsx("div",{className:"flex items-center space-x-2 p-3 bg-neutral-50 rounded-lg",children:s.jsxs("div",{className:`flex items-center space-x-2 ${l(o)}`,children:[a(o),s.jsx("span",{className:"text-sm font-medium",children:c(o)})]})}),s.jsx("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-neutral-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[o.currentStudents,"/",o.maxStudents," students"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ce,{className:"h-4 w-4 text-neutral-400"}),s.jsx("span",{className:"text-sm text-neutral-600",children:o.hasAvailableLecturers?`${o.availableLecturersCount} lecturer(s) available`:"No lecturers available"})]})]})})]},o._id))}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-warning/10 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Hn,{className:"h-5 w-5 text-warning"})}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Total Unmatched"}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.length})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(at,{className:"h-5 w-5 text-success"})}),s.jsx("p",{className:"text-sm text-neutral-600",children:"With Available Lecturers"}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(o=>o.hasAvailableLecturers).length})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-error/10 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Yr,{className:"h-5 w-5 text-error"})}),s.jsx("p",{className:"text-sm text-neutral-600",children:"No Lecturers Available"}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.filter(o=>!o.hasAvailableLecturers).length})]})]})]})}function Q0({onClose:e}){const[t,n]=j.useState("student"),[r,i]=j.useState(!1),[l,a]=j.useState(""),[c,o]=j.useState(""),[u,x]=j.useState({email:"",name:"",password:"",studentId:"",department:"",year:1,specialization:"",experience:0}),m=K(z.auth.createAdminAccount),p=K(z.auth.createLecturerAccount),d=K(z.auth.createStudentAccount),v=async y=>{y.preventDefault(),i(!0),a(""),o("");try{let f;t==="admin"?f=await m({email:u.email,name:u.name,password:u.password}):t==="lecturer"?f=await p({email:u.email,name:u.name,password:u.password,specialization:u.specialization,department:u.department,experience:u.experience}):t==="student"&&(f=await d({email:u.email,name:u.name,password:u.password,studentId:u.studentId,department:u.department,year:u.year})),o(`${t.charAt(0).toUpperCase()+t.slice(1)} account created successfully!`),x({email:"",name:"",password:"",studentId:"",department:"",year:1,specialization:"",experience:0}),setTimeout(()=>{e()},2e3)}catch(f){a(f.message||"Failed to create user")}finally{i(!1)}},N=(y,f)=>{x(h=>({...h,[y]:f}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Create New User"}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:s.jsx(un,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"User Type"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"admin",label:"Admin",icon:et,color:"text-red-600"},{value:"lecturer",label:"Lecturer",icon:ce,color:"text-blue-600"},{value:"student",label:"Student",icon:Qe,color:"text-green-600"}].map(y=>{const f=y.icon;return s.jsxs("button",{type:"button",onClick:()=>n(y.value),className:`p-3 rounded-lg border-2 transition-all ${t===y.value?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}`,children:[s.jsx(f,{className:`h-5 w-5 mx-auto mb-1 ${y.color}`}),s.jsx("span",{className:"text-xs font-medium text-neutral-700",children:y.label})]},y.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:u.email,onChange:y=>N("email",y.target.value),className:"input-field",placeholder:"user@university.edu",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:u.name,onChange:y=>N("name",y.target.value),className:"input-field",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:u.password,onChange:y=>N("password",y.target.value),className:"input-field",placeholder:"Enter password",required:!0})]}),t==="student"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Student ID"}),s.jsx("input",{type:"text",value:u.studentId,onChange:y=>N("studentId",y.target.value),className:"input-field",placeholder:"STU001",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Department"}),s.jsx("input",{type:"text",value:u.department,onChange:y=>N("department",y.target.value),className:"input-field",placeholder:"Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Academic Year"}),s.jsxs("select",{value:u.year,onChange:y=>N("year",parseInt(y.target.value)),className:"input-field",required:!0,children:[s.jsx("option",{value:1,children:"Year 1"}),s.jsx("option",{value:2,children:"Year 2"}),s.jsx("option",{value:3,children:"Year 3"}),s.jsx("option",{value:4,children:"Year 4"})]})]})]}),t==="lecturer"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Specialization"}),s.jsx("input",{type:"text",value:u.specialization,onChange:y=>N("specialization",y.target.value),className:"input-field",placeholder:"Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Department"}),s.jsx("input",{type:"text",value:u.department,onChange:y=>N("department",y.target.value),className:"input-field",placeholder:"Computer Science",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Years of Experience"}),s.jsx("input",{type:"number",min:"0",value:u.experience,onChange:y=>N("experience",parseInt(y.target.value)),className:"input-field",placeholder:"5",required:!0})]})]}),l&&s.jsx("div",{className:"bg-error/10 border border-error/20 text-error px-4 py-3 rounded-lg",children:l}),c&&s.jsx("div",{className:"bg-success/10 border border-success/20 text-success px-4 py-3 rounded-lg",children:c}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"btn-secondary flex-1",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:r,className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Create User"})]})})]})]})]})})})}function W0({isOpen:e,onClose:t,data:n}){const[r,i]=j.useState(!1);if(!e)return null;const{lecturers:l=[],courses:a=[],students:c=[],matches:o=[],unmatchedCourses:u=[]}=n,x=l.length,m=l.filter(O=>O.availability).length,p=x-m,d=a.length,v=a.filter(O=>O.isActive).length,N=d-v,y=c.length,f=c.filter(O=>O.isActive!==!1).length,h=o.length,g=o.filter(O=>O.isActive).length,w=h-g,C=u.length,T=u.filter(O=>!O.hasAvailableLecturers).length,E=C-T,b=d>0?Math.round(g/d*100):0,A=l.length>0?Math.round(l.reduce((O,W)=>O+(W.experience||0),0)/l.length):0,L={};l.forEach(O=>{const W=O.specialization;L[W]=(L[W]||0)+1});const Q=Object.entries(L).sort(([,O],[,W])=>W-O).slice(0,5);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-neutral-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(fi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"System Analytics"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600 hidden sm:block",children:"Comprehensive overview of your course matching system"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>i(!r),className:"sm:hidden p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(ns,{className:"h-5 w-5"})}),s.jsx("button",{onClick:t,className:"p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(un,{className:"h-5 w-5"})})]})]}),r&&s.jsx("div",{className:"sm:hidden bg-neutral-50 border-b border-neutral-200 px-4 py-3",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 text-white rounded-lg text-sm",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Export Report"})]})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600",children:"Total Lecturers"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:x})]}),s.jsx(et,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsxs("span",{className:"text-xs text-green-600",children:["Available: ",m]}),s.jsxs("span",{className:"text-xs text-red-600",children:["Unavailable: ",p]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600",children:"Total Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:d})]}),s.jsx(U,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsxs("span",{className:"text-xs text-green-600",children:["Active: ",v]}),s.jsxs("span",{className:"text-xs text-gray-600",children:["Inactive: ",N]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-purple-600",children:"Total Students"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-900",children:y})]}),s.jsx(Qe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"})]}),s.jsx("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:s.jsxs("span",{className:"text-xs text-green-600",children:["Active: ",f]})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-orange-600",children:"Active Matches"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-900",children:g})]}),s.jsx(uo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsxs("span",{className:"text-xs text-green-600",children:["Active: ",g]}),s.jsxs("span",{className:"text-xs text-red-600",children:["Inactive: ",w]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Matching Efficiency"}),s.jsx("div",{className:"flex items-center space-x-2",children:b>=80?s.jsx(Yc,{className:"h-5 w-5 text-green-600"}):b>=60?s.jsx(Yc,{className:"h-5 w-5 text-yellow-600"}):s.jsx(z0,{className:"h-5 w-5 text-red-600"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Course Coverage"}),s.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[b,"%"]})]}),s.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${b>=80?"bg-green-500":b>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${b}%`}})}),s.jsxs("p",{className:"text-xs text-neutral-500",children:[g," of ",d," courses have active assignments"]})]})]}),s.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Unmatched Courses"}),s.jsx(Hn,{className:"h-5 w-5 text-orange-600"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Total Unmatched"}),s.jsx("span",{className:"text-sm font-medium text-neutral-900",children:C})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Need Lecturers"}),s.jsx("span",{className:"text-sm font-medium text-red-600",children:T})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Have Available Lecturers"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:E})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Lecturer Specializations"}),s.jsx("div",{className:"space-y-3",children:Q.map(([O,W],ze)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-primary-600",children:ze+1})}),s.jsx("span",{className:"font-medium text-neutral-900",children:O})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-neutral-600",children:[W," lecturers"]}),s.jsx("div",{className:"w-20 bg-neutral-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${W/Math.max(...Object.values(L))*100}%`}})})]})]},O))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(I0,{className:"h-5 w-5 text-neutral-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Avg. Experience"}),s.jsxs("p",{className:"text-lg font-bold text-neutral-900",children:[A," years"]})]})]})}),s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(at,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"System Health"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:b>=80?"Excellent":b>=60?"Good":"Needs Attention"})]})]})}),s.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($n,{className:"h-5 w-5 text-neutral-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Last Updated"}),s.jsx("p",{className:"text-lg font-bold text-neutral-900",children:new Date().toLocaleDateString()})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-neutral-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-neutral-600 hover:text-neutral-800 transition-colors",children:"Close"}),s.jsx("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Export Report"})]})]})})}function H0({isOpen:e,onClose:t}){const[n,r]=j.useState(!1),[i,l]=j.useState({autoMatchingEnabled:!0,emailNotifications:!0,systemMaintenance:!1,experienceWeight:70,availabilityPriority:!0,specializationStrict:!0,allowSelfRegistration:!1,requireEmailVerification:!0,maxLoginAttempts:5,maxStudentsPerCourse:50,allowCourseOverlap:!1,requirePrerequisites:!0,notifyOnMatch:!0,notifyOnUnmatch:!0,notifyOnRegistration:!0,notifyOnDrop:!0,sessionTimeout:30,passwordExpiry:90,twoFactorAuth:!1,autoBackup:!0,backupFrequency:"daily",backupRetention:30}),[a,c]=j.useState("general"),[o,u]=j.useState(!1),[x,m]=j.useState(null),p=(y,f)=>{l(h=>({...h,[y]:f}))},d=async()=>{u(!0);try{await new Promise(y=>setTimeout(y,1e3)),console.log("Saving settings:",i),m("success"),setTimeout(()=>m(null),3e3)}catch{m("error"),setTimeout(()=>m(null),3e3)}finally{u(!1)}},v=()=>{window.confirm("Are you sure you want to reset all settings to default values?")&&l({autoMatchingEnabled:!0,emailNotifications:!0,systemMaintenance:!1,experienceWeight:70,availabilityPriority:!0,specializationStrict:!0,allowSelfRegistration:!1,requireEmailVerification:!0,maxLoginAttempts:5,maxStudentsPerCourse:50,allowCourseOverlap:!1,requirePrerequisites:!0,notifyOnMatch:!0,notifyOnUnmatch:!0,notifyOnRegistration:!0,notifyOnDrop:!0,sessionTimeout:30,passwordExpiry:90,twoFactorAuth:!1,autoBackup:!0,backupFrequency:"daily",backupRetention:30})},N=[{id:"general",label:"General",icon:hi},{id:"matching",label:"Matching",icon:U},{id:"users",label:"Users",icon:et},{id:"notifications",label:"Notifications",icon:L0},{id:"security",label:"Security",icon:$0},{id:"backup",label:"Backup",icon:P0}];return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-neutral-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(hi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-neutral-900",children:"System Settings"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600 hidden sm:block",children:"Configure your course matching system"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(!n),className:"sm:hidden p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(ns,{className:"h-5 w-5"})}),s.jsx("button",{onClick:t,className:"p-2 text-neutral-400 hover:text-neutral-600 transition-colors",children:s.jsx(un,{className:"h-5 w-5"})})]})]}),n&&s.jsx("div",{className:"sm:hidden bg-neutral-50 border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(y=>{const f=y.icon;return s.jsxs("button",{onClick:()=>c(y.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors ${a===y.id?"bg-primary-100 text-primary-700":"bg-white text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[s.jsx(f,{className:"h-4 w-4"}),s.jsx("span",{children:y.label})]},y.id)})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:d,disabled:o,className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 text-white rounded-lg text-sm disabled:opacity-50",children:[o?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(Qc,{className:"h-4 w-4"}),s.jsx("span",{children:o?"Saving...":"Save Settings"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-3 py-2 bg-neutral-600 text-white rounded-lg text-sm",children:[s.jsx(Vc,{className:"h-4 w-4"}),s.jsx("span",{children:"Reset"})]})]})]})}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block w-64 bg-neutral-50 border-r border-neutral-200",children:s.jsx("nav",{className:"p-4 space-y-2",children:N.map(y=>{const f=y.icon;return s.jsxs("button",{onClick:()=>c(y.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a===y.id?"bg-primary-100 text-primary-700":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[s.jsx(f,{className:"h-4 w-4"}),s.jsx("span",{children:y.label})]},y.id)})})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"sm:hidden bg-neutral-50 border-b border-neutral-200",children:s.jsx("nav",{className:"flex overflow-x-auto p-2",children:N.map(y=>{const f=y.icon;return s.jsxs("button",{onClick:()=>c(y.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors whitespace-nowrap ${a===y.id?"bg-primary-100 text-primary-700":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[s.jsx(f,{className:"h-4 w-4"}),s.jsx("span",{children:y.label})]},y.id)})})}),s.jsxs("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:[a==="general"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"General Settings"}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-neutral-50 rounded-lg space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:"Auto-Matching"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Automatically match courses to lecturers"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:i.autoMatchingEnabled,onChange:y=>p("autoMatchingEnabled",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-neutral-50 rounded-lg space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:"Email Notifications"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Send email notifications for system events"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:i.emailNotifications,onChange:y=>p("emailNotifications",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-neutral-50 rounded-lg space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:"System Maintenance"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Enable maintenance mode"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:i.systemMaintenance,onChange:y=>p("systemMaintenance",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),a==="matching"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Matching Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Experience Weight: ",i.experienceWeight,"%"]}),s.jsx("input",{type:"range",min:"0",max:"100",value:i.experienceWeight,onChange:y=>p("experienceWeight",parseInt(y.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How much to prioritize lecturer experience in matching"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Availability Priority"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Only match with available lecturers"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.availabilityPriority,onChange:y=>p("availabilityPriority",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Strict Specialization"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Require exact specialization match"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.specializationStrict,onChange:y=>p("specializationStrict",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),a==="users"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"User Management"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Allow Self Registration"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Allow users to create their own accounts"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.allowSelfRegistration,onChange:y=>p("allowSelfRegistration",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Max Login Attempts: ",i.maxLoginAttempts]}),s.jsx("input",{type:"range",min:"3",max:"10",value:i.maxLoginAttempts,onChange:y=>p("maxLoginAttempts",parseInt(y.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Number of failed login attempts before account lockout"})]})]})]}),a==="notifications"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"Notification Settings"}),s.jsx("div",{className:"space-y-4",children:[{key:"notifyOnMatch",label:"Notify on Match",desc:"Send notification when course is matched"},{key:"notifyOnUnmatch",label:"Notify on Unmatch",desc:"Send notification when match is removed"},{key:"notifyOnRegistration",label:"Notify on Registration",desc:"Send notification when student registers"},{key:"notifyOnDrop",label:"Notify on Drop",desc:"Send notification when student drops course"}].map(({key:y,label:f,desc:h})=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:f}),s.jsx("p",{className:"text-sm text-neutral-600",children:h})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i[y],onChange:g=>p(y,g.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},y))})]}),a==="security"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Session Timeout: ",i.sessionTimeout," minutes"]}),s.jsx("input",{type:"range",min:"15",max:"120",value:i.sessionTimeout,onChange:y=>p("sessionTimeout",parseInt(y.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How long before users are automatically logged out"})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Password Expiry: ",i.passwordExpiry," days"]}),s.jsx("input",{type:"range",min:"30",max:"365",value:i.passwordExpiry,onChange:y=>p("passwordExpiry",parseInt(y.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How often users must change their passwords"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Require 2FA for all users"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.twoFactorAuth,onChange:y=>p("twoFactorAuth",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),a==="backup"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:"Backup Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900",children:"Automatic Backup"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Enable automatic system backups"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.autoBackup,onChange:y=>p("autoBackup",y.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Backup Frequency: ",i.backupFrequency]}),s.jsxs("select",{value:i.backupFrequency,onChange:y=>p("backupFrequency",y.target.value),className:"w-full p-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Backup Retention: ",i.backupRetention," days"]}),s.jsx("input",{type:"range",min:"7",max:"365",value:i.backupRetention,onChange:y=>p("backupRetention",parseInt(y.target.value)),className:"w-full h-2 bg-neutral-200 rounded-lg appearance-none cursor-pointer"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"How long to keep backup files"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3 p-4 sm:p-6 border-t border-neutral-200",children:[(x==="success"||x==="error")&&s.jsxs("div",{className:"flex justify-center",children:[x==="success"&&s.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[s.jsx(at,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Settings saved!"})]}),x==="error"&&s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx(Hn,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Failed to save!"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-800 transition-colors border border-neutral-300 rounded-lg hover:bg-neutral-50",children:[s.jsx(Vc,{className:"h-4 w-4"}),s.jsx("span",{children:"Reset to Defaults"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-2 text-neutral-600 hover:text-neutral-800 transition-colors border border-neutral-300 rounded-lg hover:bg-neutral-50",children:"Cancel"}),s.jsxs("button",{onClick:d,disabled:o,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(Qc,{className:"h-4 w-4"}),s.jsx("span",{children:o?"Saving...":"Save Settings"})]})]})]})]})]})}):null}function Y0({user:e,onLogout:t}){const[n,r]=j.useState("lecturers"),[i,l]=j.useState(!1),[a,c]=j.useState(!1),[o,u]=j.useState(!1),[x,m]=j.useState(!1),[p,d]=j.useState(!1),v=te(ve.lecturers.getLecturers),N=te(ve.courses.getCourses),y=te(ve.students.getStudents),f=te(ve.matches.getMatches),h=te(ve.matches.getUnmatchedCourses),g=v===void 0||N===void 0||y===void 0||f===void 0||h===void 0,w=v||[],C=N||[],T=y||[],E=f||[],b=h||[],A=K(ve.matches.autoMatch);K(ve.matches.rematchUnavailableLecturers);const L=K(ve.matches.cleanupDuplicateMatches),Q=async()=>{d(!0);try{const H=await A(),pe=H.newMatches.length,ut=H.rematchedCourses.length,R=H.deactivatedMatches.length,S=H.duplicatesRemoved||0;let _=`Auto-matching completed!

`;pe>0&&(_+=`✅ ${pe} new matches created
`),ut>0&&(_+=`🔄 ${ut} courses rematched (lecturer availability changed)
`),S>0&&(_+=`🧹 ${S} duplicate matches removed
`),R>0&&(_+=`⚠️ ${R} courses deactivated (no available lecturers)
`),pe===0&&ut===0&&R===0&&S===0&&(_+="All courses are properly matched with available lecturers!"),alert(_)}catch(H){console.error("Error during auto-matching:",H),alert("Failed to run auto-matching. Please try again.")}finally{d(!1)}},O=async()=>{d(!0);try{const pe=(await L()).duplicatesRemoved;pe>0?alert(`🧹 Cleanup completed!

Removed ${pe} duplicate matches.

The matches table should now show each course only once.`):alert("✅ No duplicate matches found - all matches are clean!")}catch(H){console.error("Error during cleanup:",H),alert("Failed to clean duplicate matches. "+H.message)}finally{d(!1)}};Xn.useEffect(()=>{if(E&&E.length>0){const H=new Set(E.map(pe=>pe.courseId));E.length>H.size&&(console.log("Duplicates detected, running auto-cleanup..."),O())}},[E==null?void 0:E.length]);const W=[{id:"lecturers",label:"Lecturers",icon:et,count:w.length},{id:"courses",label:"Courses",icon:U,count:C.length},{id:"students",label:"Students",icon:Qe,count:T.length},{id:"matches",label:"Matches",icon:uo,count:E.length},{id:"unmatched",label:"Unmatched",icon:Hn,count:b.length}],ze=()=>{switch(n){case"lecturers":return s.jsx(Kc,{});case"courses":return s.jsx(F0,{});case"students":return s.jsx(U0,{});case"matches":return s.jsx(B0,{});case"unmatched":return s.jsx(V0,{unmatchedCourses:b});default:return s.jsx(Kc,{})}};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-neutral-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Manage courses, lecturers, and students"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:Q,disabled:p,className:"btn-primary flex items-center space-x-2 hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Matching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Auto Match"})]})}),s.jsxs("button",{onClick:()=>c(!0),className:"btn-secondary flex items-center space-x-2 hidden sm:flex",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Create User"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-secondary flex items-center space-x-2 hidden sm:flex",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary flex items-center space-x-2 hidden sm:flex",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Settings"})]}),s.jsx("button",{onClick:()=>l(!i),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:i?s.jsx(un,{className:"h-5 w-5"}):s.jsx(ns,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:t,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})}),i&&s.jsx("div",{className:"lg:hidden bg-white border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(et,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:"Admin"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"System Administrator"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx("button",{onClick:Q,disabled:p,className:"btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Matching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Auto Match"})]})}),s.jsxs("button",{onClick:()=>c(!0),className:"btn-secondary flex items-center justify-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Create User"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-secondary flex items-center justify-center space-x-2",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary flex items-center justify-center space-x-2",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Settings"})]})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-3 p-3 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}),s.jsx("div",{className:"bg-white border-b border-neutral-200",children:s.jsx("div",{className:"px-4 sm:px-6",children:s.jsx("nav",{className:"flex space-x-2 sm:space-x-8 overflow-x-auto",children:W.map(H=>{const pe=H.icon;return s.jsxs("button",{onClick:()=>r(H.id),className:`flex items-center space-x-2 py-4 px-2 sm:px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${n===H.id?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:[s.jsx(pe,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:H.label}),s.jsx("span",{className:"sm:hidden",children:H.label.split(" ")[0]}),s.jsx("span",{className:"bg-neutral-100 text-neutral-600 px-2 py-1 rounded-full text-xs",children:H.count})]},H.id)})})})}),s.jsx("div",{className:"dashboard-content",children:g?s.jsx(q0,{}):ze()}),a&&s.jsx(Q0,{onClose:()=>c(!1)}),o&&s.jsx(W0,{isOpen:o,onClose:()=>u(!1),data:{lecturers:w,courses:C,students:T,matches:E,unmatchedCourses:b}}),x&&s.jsx(H0,{isOpen:x,onClose:()=>m(!1)})]})}function K0({user:e,onLogout:t}){const[n,r]=j.useState(!1),[i,l]=j.useState(!1),[a,c]=j.useState(null),o=te(z.lecturers.getLecturerByUserId,{userId:e==null?void 0:e.id}),u=K(z.lecturers.updateLecturerAvailability),x=te(z.matches.getMatchesByLecturer,o!=null&&o._id?{lecturerId:o._id}:"skip"),m=te(z.courses.getCourses),p=te(z.students.getStudents),d=te(z.registrations.getRegistrations),v=o===void 0||x===void 0||m===void 0||p===void 0||d===void 0,N=x||[],y=m||[],f=p||[],h=d||[],g=A=>y.find(L=>L._id===A);if(!e)return s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600",children:"Loading user data..."})]})});const w=A=>h.filter(L=>L.courseId===A&&L.status==="registered"),C=async()=>{if(o)try{await u({id:o._id,availability:!o.availability})}catch(A){console.error("Error updating availability:",A),alert("Failed to update availability. Please try again.")}},T=A=>{c(A),l(!0)},E=()=>{l(!1),c(null)},b=N.filter(A=>A.isActive).map(A=>{const L=g(A.courseId),Q=w(A.courseId);return{...L,matchId:A._id,studentCount:Q.length,students:Q.map(O=>f.find(W=>W._id===O.studentId)).filter(Boolean)}}).filter(Boolean);return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-2xl font-bold text-neutral-900",children:["Welcome, ",(o==null?void 0:o.name)||"Lecturer"]}),s.jsxs("p",{className:"text-neutral-600",children:[o==null?void 0:o.department," • ",o==null?void 0:o.specialization]})]}),s.jsxs("div",{className:"sm:hidden",children:[s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:(o==null?void 0:o.name)||"Lecturer"}),s.jsx("p",{className:"text-sm text-neutral-600",children:o==null?void 0:o.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:C,className:`px-3 py-1 rounded-full text-sm font-medium hidden sm:flex items-center space-x-2 transition-colors ${o!=null&&o.availability?"bg-success/10 text-success hover:bg-success/20":"bg-error/10 text-error hover:bg-error/20"}`,children:[o!=null&&o.availability?s.jsx(Hc,{className:"h-4 w-4"}):s.jsx(Wc,{className:"h-4 w-4"}),s.jsx("span",{children:o!=null&&o.availability?"Available":"Not Available"})]}),s.jsx("button",{onClick:()=>r(!n),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:n?s.jsx(un,{className:"h-5 w-5"}):s.jsx(ns,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:t,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})}),n&&s.jsx("div",{className:"lg:hidden bg-white border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:(o==null?void 0:o.name)||"Lecturer"}),s.jsx("p",{className:"text-sm text-neutral-600",children:o==null?void 0:o.specialization})]})]}),s.jsxs("button",{onClick:C,className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Availability"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[o!=null&&o.availability?s.jsx(Hc,{className:"h-4 w-4 text-success"}):s.jsx(Wc,{className:"h-4 w-4 text-error"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o!=null&&o.availability?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:o!=null&&o.availability?"Available":"Not Available"})]})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-3 p-3 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}),s.jsxs("div",{className:"dashboard-content",children:[v?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[...Array(4)].map((A,L)=>s.jsx(Mi,{},L))}):s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Assigned Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:b.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(et,{className:"h-4 w-4 sm:h-5 sm:w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Total Students"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:b.reduce((A,L)=>A+L.studentCount,0)})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Experience"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:[(o==null?void 0:o.experience)||0," years"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Specialization"}),s.jsx("p",{className:"text-sm sm:text-lg font-semibold text-neutral-900 truncate",children:o==null?void 0:o.specialization})]})]})})]}),v?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-64 mb-4 animate-pulse"}),s.jsx("div",{className:"space-y-3",children:[...Array(2)].map((A,L)=>s.jsx(Ai,{},L))})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Your Assigned Courses"}),b.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(U,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No Courses Assigned"}),s.jsx("p",{className:"text-neutral-600",children:"You haven't been assigned to any courses yet. Contact the admin for course assignments."})]}):s.jsx("div",{className:"grid gap-6",children:b.map(A=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:A.title}),s.jsxs("p",{className:"text-neutral-600",children:[A.code," • ",A.semester]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:A.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[A.credits," credits"]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:A.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[A.studentCount," students registered"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($n,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:["Max: ",A.maxStudents," students"]})]})]}),s.jsx("button",{onClick:()=>T(A),className:"btn-primary",children:"View Details"})]}),A.students.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:[s.jsx("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Registered Students"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.students.map(L=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:L.name}),s.jsxs("p",{className:"text-xs text-neutral-500",children:[L.studentId," • Year ",L.year]})]})]},L._id))})]})]},A._id))})]})})]}),i&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Course Details"}),s.jsx("button",{onClick:E,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:s.jsx(un,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:a.title}),s.jsxs("p",{className:"text-neutral-600",children:[a.code," • ",a.semester]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:a.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[a.credits," credits"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-neutral-600",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(et,{className:"h-5 w-5 text-primary-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Current Students"}),s.jsx("p",{className:"text-lg font-semibold text-neutral-900",children:a.currentStudents})]})]})}),s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{className:"h-5 w-5 text-primary-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600",children:"Max Students"}),s.jsx("p",{className:"text-lg font-semibold text-neutral-900",children:a.maxStudents})]})]})})]}),a.registeredStudents&&a.registeredStudents.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-neutral-900 mb-3",children:["Registered Students (",a.registeredStudents.length,")"]}),s.jsx("div",{className:"space-y-2",children:a.registeredStudents.map(A=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:A.name}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[A.studentId," • ",A.department]})]})]},A._id))})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:E,className:"btn-secondary",children:"Close"})})]})})})]})}function X0({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmText:l="Confirm",cancelText:a="Cancel",type:c="warning"}){if(!e)return null;const o=()=>{switch(c){case"danger":return s.jsx(Yr,{className:"h-6 w-6 text-error"});case"warning":default:return s.jsx(Hn,{className:"h-6 w-6 text-warning"})}},u=()=>{switch(c){case"danger":return"btn-error";case"warning":default:return"btn-warning"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o(),s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:r})]}),s.jsx("p",{className:"text-neutral-600 mb-6",children:i}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1",children:a}),s.jsx("button",{onClick:n,className:`${u()} flex-1`,children:l})]})]})})})}function J0({user:e,onLogout:t}){const[n,r]=j.useState(!1),[i,l]=j.useState(!1),[a,c]=j.useState(new Set),[o,u]=j.useState(new Set),[x,m]=j.useState(!1),[p,d]=j.useState(null);console.log("StudentDashboard user:",e);const v=te(z.students.getStudentByUserId,{userId:e==null?void 0:e.id}),N=te(z.courses.getActiveCourses),y=te(z.lecturers.getLecturers),f=te(z.matches.getActiveMatches),h=te(z.registrations.getRegistrationsByStudent,v!=null&&v._id?{studentId:v._id}:"skip"),g=v===void 0||N===void 0||y===void 0||f===void 0||h===void 0,w=N||[],C=y||[],T=f||[],E=h||[],b=K(z.registrations.registerForCourse),A=K(z.registrations.dropCourse),L=S=>C.find(_=>_._id===S),Q=S=>T.find(_=>_.courseId===S);if(!e)return s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600",children:"Loading user data..."})]})});const O=E.filter(S=>S.status==="registered").map(S=>{const _=w.find(mn=>mn._id===S.courseId),P=Q(S.courseId),ne=P?L(P.lecturerId):null;return{..._,registration:S,lecturer:ne,match:P}}).filter(Boolean),W=w.filter(S=>(E.some(P=>P.courseId===S._id&&P.status==="registered"),Q(S._id)&&S.currentStudents<S.maxStudents)),ze=S=>E.some(_=>_.courseId===S&&_.status==="registered"),H=async S=>{c(_=>new Set(_).add(S));try{const _=Q(S);if(!_){alert("No lecturer assigned to this course yet.");return}await b({studentId:v._id,courseId:S,lecturerId:_.lecturerId}),alert("Successfully registered for the course!")}catch(_){console.error("Error registering for course:",_),alert("Failed to register for course. "+_.message)}finally{c(_=>{const P=new Set(_);return P.delete(S),P})}},pe=S=>{d(S),m(!0)},ut=async()=>{if(p){u(S=>new Set(S).add(p.registration._id));try{await A({id:p.registration._id}),alert("Successfully dropped the course!"),m(!1),d(null)}catch(S){console.error("Error dropping course:",S),alert("Failed to drop course. "+S.message)}finally{u(S=>{const _=new Set(S);return _.delete(p.registration._id),_})}}},R=()=>{m(!1),d(null)};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Qe,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-2xl font-bold text-neutral-900",children:["Welcome, ",(v==null?void 0:v.name)||"Student"]}),s.jsxs("p",{className:"text-neutral-600",children:[v==null?void 0:v.department," • Year ",v==null?void 0:v.year]})]}),s.jsxs("div",{className:"sm:hidden",children:[s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:(v==null?void 0:v.name)||"Student"}),s.jsx("p",{className:"text-sm text-neutral-600",children:v==null?void 0:v.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium hidden sm:block",children:v==null?void 0:v.studentId}),s.jsx("button",{onClick:()=>l(!i),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors",children:i?s.jsx(un,{className:"h-5 w-5"}):s.jsx(ns,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:t,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})}),i&&s.jsx("div",{className:"lg:hidden bg-white border-b border-neutral-200 px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:(v==null?void 0:v.name)||"Student"}),s.jsx("p",{className:"text-sm text-neutral-600",children:v==null?void 0:v.studentId})]})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-3 p-3 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:[s.jsx(Yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}),s.jsxs("div",{className:"dashboard-content",children:[g?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[...Array(4)].map((S,_)=>s.jsx(Mi,{},_))}):s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Registered Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:O.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-success/10 rounded-full flex items-center justify-center",children:s.jsx(at,{className:"h-4 w-4 sm:h-5 sm:w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Available Courses"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:W.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Department"}),s.jsx("p",{className:"text-sm sm:text-lg font-semibold text-neutral-900 truncate",children:v==null?void 0:v.department})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Academic Year"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-neutral-900",children:["Year ",v==null?void 0:v.year]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-1 mb-6",children:[s.jsxs("button",{onClick:()=>r(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n?"text-neutral-600 hover:text-neutral-900":"bg-primary-100 text-primary-700"}`,children:["My Courses (",O.length,")"]}),s.jsxs("button",{onClick:()=>r(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n?"bg-primary-100 text-primary-700":"text-neutral-600 hover:text-neutral-900"}`,children:["Available Courses (",W.length,")"]})]}),g?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-64 mb-4 animate-pulse"}),s.jsx("div",{className:"space-y-3",children:[...Array(3)].map((S,_)=>s.jsx(Ai,{},_))})]})}):n?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Available Courses"}),W.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(U,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No Available Courses"}),s.jsx("p",{className:"text-neutral-600",children:"All courses are either full or don't have assigned lecturers yet."})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6",children:W.map(S=>{const _=Q(S._id),P=_?L(_.lecturerId):null;return s.jsxs("div",{className:`card ${ze(S._id)?"border-success/20 bg-success/5":""}`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${ze(S._id)?"bg-success/10":"bg-primary-100"}`,children:ze(S._id)?s.jsx(at,{className:"h-5 w-5 text-success"}):s.jsx(U,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:S.title}),s.jsxs("p",{className:"text-neutral-600",children:[S.code," • ",S.semester]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:S.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[S.credits," credits"]}),ze(S._id)&&s.jsxs("span",{className:"bg-success/10 text-success px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[s.jsx(at,{className:"h-3 w-3"}),s.jsx("span",{children:"Registered"})]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:S.description}),P&&s.jsx("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:P.name}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[P.department," • ",P.experience," years experience"]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ce,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[S.currentStudents,"/",S.maxStudents," students"]})]})}),ze(S._id)?s.jsxs("button",{disabled:!0,className:"btn-success flex items-center justify-center space-x-2 w-full sm:w-auto opacity-75 cursor-not-allowed",children:[s.jsx(at,{className:"h-4 w-4"}),s.jsx("span",{children:"Registered"})]}):s.jsx("button",{onClick:()=>H(S._id),disabled:a.has(S._id),className:"btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:a.has(S._id)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Registering..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Register"})]})})]})]},S._id)})})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"My Registered Courses"}),O.length===0?s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(U,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No Courses Registered"}),s.jsx("p",{className:"text-neutral-600 mb-4",children:"You haven't registered for any courses yet. Browse available courses to get started."}),s.jsx("button",{onClick:()=>r(!0),className:"btn-primary",children:"Browse Courses"})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6",children:O.map(S=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:S.title}),s.jsxs("p",{className:"text-neutral-600",children:[S.code," • ",S.semester]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium",children:S.specialization}),s.jsxs("span",{className:"bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full text-xs font-medium",children:[S.credits," credits"]})]})]}),s.jsx("p",{className:"text-neutral-600 mb-4",children:S.description}),S.lecturer&&s.jsx("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(ce,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-neutral-900",children:S.lecturer.name}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[S.lecturer.department," • ",S.lecturer.experience," years experience"]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ce,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:[S.currentStudents," students"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($n,{className:"h-4 w-4 text-neutral-400"}),s.jsxs("span",{className:"text-sm text-neutral-600",children:["Max: ",S.maxStudents," students"]})]})]}),s.jsx("button",{onClick:()=>pe(S),disabled:o.has(S.registration._id),className:"btn-error flex items-center justify-center space-x-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:o.has(S.registration._id)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Dropping..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"h-4 w-4"}),s.jsx("span",{children:"Drop Course"})]})})]})]},S._id))})]})})]}),s.jsx(X0,{isOpen:x,onClose:R,onConfirm:ut,title:"Drop Course",message:`Are you sure you want to drop "${p==null?void 0:p.title}"? This action cannot be undone.`,confirmText:"Drop Course",cancelText:"Cancel",type:"danger"})]})}function G0(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(O0,{className:"h-8 w-8 animate-spin text-primary-600"}),s.jsx("p",{className:"text-neutral-600 font-medium",children:"Loading..."})]})})}function Z0(){const[e,t]=j.useState(null),[n,r]=j.useState(!0);j.useEffect(()=>{const a=localStorage.getItem("user");a&&t(JSON.parse(a)),r(!1)},[]);const i=a=>{t(a),localStorage.setItem("user",JSON.stringify(a))},l=()=>{t(null),localStorage.removeItem("user")};return n?s.jsx(G0,{}):e?s.jsxs(Rc,{children:[s.jsx(Xt,{path:"/",element:s.jsx(fr,{to:"/dashboard",replace:!0})}),s.jsx(Xt,{path:"/dashboard",element:s.jsx(eg,{user:e,onLogout:l})}),s.jsx(Xt,{path:"/login",element:s.jsx(fr,{to:"/dashboard",replace:!0})}),s.jsx(Xt,{path:"*",element:s.jsx(fr,{to:"/dashboard",replace:!0})})]}):s.jsxs(Rc,{children:[s.jsx(Xt,{path:"/login",element:s.jsx(D0,{onLogin:i})}),s.jsx(Xt,{path:"*",element:s.jsx(fr,{to:"/login",replace:!0})})]})}function eg({user:e,onLogout:t}){switch(e.role){case"admin":return s.jsx(Y0,{user:e,onLogout:t});case"lecturer":return s.jsx(K0,{user:e,onLogout:t});case"student":return s.jsx(J0,{user:e,onLogout:t});default:return s.jsx(fr,{to:"/login",replace:!0})}}function tg({isVisible:e,onComplete:t,isPageRefresh:n=!1}){var u,x,m;const[r,i]=j.useState(0),[l,a]=j.useState(0),c=n?[{icon:ho,text:"Refreshing System...",color:"text-blue-600"},{icon:U,text:"Reloading Courses...",color:"text-green-600"},{icon:Qe,text:"Updating Students...",color:"text-purple-600"},{icon:ce,text:"Refreshing Lecturers...",color:"text-primary-600"},{icon:U,text:"Finalizing Dashboard...",color:"text-primary-600"}]:[{icon:U,text:"Loading Courses...",color:"text-blue-600"},{icon:Qe,text:"Loading Students...",color:"text-green-600"},{icon:ce,text:"Loading Lecturers...",color:"text-purple-600"},{icon:U,text:"Setting up Dashboard...",color:"text-primary-600"}];if(j.useEffect(()=>{if(!e)return;const p=setInterval(()=>{i(v=>v>=100?(clearInterval(p),setTimeout(()=>{t()},500),100):v+(n?1.5:2))},50),d=setInterval(()=>{a(v=>v>=c.length-1?(clearInterval(d),c.length-1):v+1)},n?600:800);return()=>{clearInterval(p),clearInterval(d)}},[e,t,n]),!e)return null;const o=((u=c[l])==null?void 0:u.icon)||U;return s.jsx("div",{className:"universal-loader bg-gradient-to-br from-primary-50 via-white to-primary-100",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("div",{className:"h-16 w-16 sm:h-20 sm:w-20 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(U,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-neutral-900 mb-2",children:"Course Matching System"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"University Management Platform"})]}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4 loader-step",children:[s.jsx(o,{className:`h-5 w-5 sm:h-6 sm:w-6 ${((x=c[l])==null?void 0:x.color)||"text-primary-600"} animate-pulse`}),s.jsx("span",{className:"text-base sm:text-lg font-medium text-neutral-700",children:((m=c[l])==null?void 0:m.text)||"Loading..."})]}),s.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2 sm:h-3 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full loader-progress",style:{width:`${r}%`}})}),s.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-neutral-600",children:[r,"%"]})]}),s.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4 sm:mb-6",children:[...Array(3)].map((p,d)=>s.jsx("div",{className:`h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full animate-pulse ${d===l%3?"bg-primary-600":"bg-neutral-300"}`,style:{animationDelay:`${d*.2}s`,animationDuration:"1s"}},d))}),s.jsx("div",{className:"text-xs text-neutral-500",children:s.jsx("p",{children:"Powered by Convex & React"})})]})})}const Of=j.createContext(),ng=()=>{const e=j.useContext(Of);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},rg=({children:e})=>{const[t,n]=j.useState(!0),[r,i]=j.useState(!1);j.useEffect(()=>{var o,u;(((o=performance.navigation)==null?void 0:o.type)===1||((u=performance.getEntriesByType("navigation")[0])==null?void 0:u.type)==="reload")&&i(!0);const c=setTimeout(()=>{n(!1),i(!1)},2500);return()=>clearTimeout(c)},[]);const l={isInitialLoad:t,isPageRefresh:r,isLoading:t||r};return s.jsx(Of.Provider,{value:l,children:e})};const sg=new j0("https://graceful-mouse-263.convex.cloud");function ig(){const{isLoading:e,isPageRefresh:t}=ng(),[n,r]=j.useState(!0);j.useEffect(()=>(n&&e?document.body.classList.add("loader-active"):document.body.classList.remove("loader-active"),()=>{document.body.classList.remove("loader-active")}),[n,e]);const i=()=>{r(!1)};return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[n&&s.jsx(tg,{isVisible:e,onComplete:i,isPageRefresh:t}),s.jsx(Z0,{})]})}function lg(){return s.jsx(S0,{client:sg,children:s.jsx(rg,{children:s.jsx(rx,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(ig,{})})})})}hl.createRoot(document.getElementById("root")).render(s.jsx(Xn.StrictMode,{children:s.jsx(lg,{})}));
